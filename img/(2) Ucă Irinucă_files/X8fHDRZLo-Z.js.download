if (self.CavalryLogger) { CavalryLogger.start_js(["\/xGYg"]); }

__d("WorkAvailabilityStatusChangeSubscription.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={fragment:{argumentDefinitions:[{kind:"LocalArgument",name:"input",type:"WorkAvailabilityStatusChangeSubscribeData!",defaultValue:null}],kind:"Fragment",metadata:null,name:"WorkAvailabilityStatusChangeSubscription",selections:[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"WorkAvailabilityStatusChangeSubscribeData!"}],concreteType:"WorkAvailabilityStatusChangeSubscribeResponsePayload",name:"work_availability_status_change_subscribe",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"user",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"WorkUserInfo",name:"work_info",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"WorkUserAvailabilityStatus",name:"availability_status",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"status",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"end_date",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Subscription"},id:"1790407270977053",kind:"Batch",metadata:{},name:"WorkAvailabilityStatusChangeSubscription",query:{argumentDefinitions:[{kind:"LocalArgument",name:"input",type:"WorkAvailabilityStatusChangeSubscribeData!",defaultValue:null}],kind:"Root",name:"WorkAvailabilityStatusChangeSubscription",operation:"subscription",selections:[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"WorkAvailabilityStatusChangeSubscribeData!"}],concreteType:"WorkAvailabilityStatusChangeSubscribeResponsePayload",name:"work_availability_status_change_subscribe",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"User",name:"user",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"WorkUserInfo",name:"work_info",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"WorkUserAvailabilityStatus",name:"availability_status",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"status",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"end_date",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},text:null};f.exports=h}),null);
__d('EnterpriseLabsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:EnterpriseLabsLoggerConfig',this.$EnterpriseLabsTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:EnterpriseLabsLoggerConfig',this.$EnterpriseLabsTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$EnterpriseLabsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$EnterpriseLabsTypedLogger1=babelHelpers['extends']({},this.$EnterpriseLabsTypedLogger1,j);return this};h.prototype.setEntityID=function(j){this.$EnterpriseLabsTypedLogger1.entity_id=j;return this};h.prototype.setEvent=function(j){this.$EnterpriseLabsTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$EnterpriseLabsTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$EnterpriseLabsTypedLogger1=babelHelpers['extends']({},this.$EnterpriseLabsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={entity_id:true,event:true,vc:true};f.exports=h}),null);
__d('WorkAvailabilityStatusChangeSubscription',['RelayModern','WorkAvailabilityStatusChangeSubscription.graphql'],(function a(b,c,d,e,f,g){'use strict';var h,i=c('RelayModern').graphql,j=c('RelayModern').requestSubscription;function k(l,m,n){var o={input:m};return j(l,{subscription:h||(h=function p(){return c('WorkAvailabilityStatusChangeSubscription.graphql')}),variables:o,onNext:n})}f.exports={subscribe:k}}),null);
__d("XCheckFocusModeAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/focus_mode\/check\/",{fbid:{type:"FBID",required:true}})}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/dlite\/skywalker_topic\/",{})}),null);
__d('ChatSubscribeToFocusModeChanges',['AsyncRequest','ImmutableObject','RelayGraphQLSubscriber','RelayGraphQLSubscriptionNetworkLayer','RelayFBEnvironment','WorkAvailabilityStatusChangeSubscription','XDliteGraphQLSkywalkerController','MercuryServerPayloadPreprocessor','MercuryPayloadSource','WorkUserAvailabilityStatusType','MercuryThreadInformer','XCheckFocusModeAsyncController','MercuryParticipants','idx'],(function a(b,c,d,e,f,g){'use strict';var h=c('XDliteGraphQLSkywalkerController').getURIBuilder().getURI();c('RelayGraphQLSubscriptionNetworkLayer').injectGraphQLSubscriber(c('RelayGraphQLSubscriber')(h));var i={},j={},k=function m(n,o,p,q){var r=c('MercuryParticipants').getNow(p.id);if(!r)return;var s=c('ImmutableObject').setProperty(r,'is_user_focusing',q);c('MercuryServerPayloadPreprocessor').getForFBID(n).handleUpdate({participants:[s],from_client:false,payload_source:c('MercuryPayloadSource').SERVER_FETCH_PARTICIPANTS});Object.keys(j[o]).forEach(function(t){c('MercuryThreadInformer').getForFBID(n).updatedThread(t)})},l=function m(n,o,p){var q=p.fbid;if(!q)return;if(!p.employee)return;if(n===q)return;if(!j[q])j[q]={};j[q][o]=o;if(i[q])return;var r=c('XCheckFocusModeAsyncController').getURIBuilder().setFBID('fbid',q).getURI();new (c('AsyncRequest'))().setURI(r).setHandler(function(s){var t=s.payload;if(!t)return;k(n,q,p,t.is_user_focusing)}).send();i[q]=c('WorkAvailabilityStatusChangeSubscription').subscribe(c('RelayFBEnvironment'),{user_id:q},function(s){var t,u=(t=s)!=null?(t=t.work_availability_status_change_subscribe)!=null?(t=t.user)!=null?(t=t.work_info)!=null?t.availability_status:t:t:t:t;if(u&&u.status&&u.end_date!==null){var v=c('WorkUserAvailabilityStatusType')[u.status],w=v===c('WorkUserAvailabilityStatusType').FOCUS&&u.end_date*1000>Date.now();k(n,q,p,w)}})};f.exports={subscribe:l}}),null);
__d("EnterpriseLabsLoggingEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FOCUS_MODE_MESSAGE_SENT_ASYNC:"enterprise_labs.focus_mode.send_message_async",FOCUS_MODE_MESSAGE_SENT_BYPASSED:"enterprise_labs.focus_mode.send_message_bypassed",FOCUS_MODE_SENT_NO_MESSAGES:"enterprise_labs.focus_mode.sent_no_messages",FOCUS_MODE_BYPASS_THREAD:"enterprise_labs.focus_mode.bypass_thread",FOCUS_MODE_BYPASS_FAILURE:"enterprise_labs.focus_mode.bypass_failure",FOCUS_MODE_MUTE_NOTIFICATION:"enterprise_labs.focus_mode.mute_notification",DUALITY_WARNING_SHOWN:"enterprise_labs.duality.warning_shown",DUALITY_WARNING_DISMISSED:"enterprise_labs.duality.warning_dismissed",DUALITY_SWITCH_USER:"enterprise_labs.duality.switch_user",DUALITY_SWITCH_ACCOUNTS:"enterprise_labs.duality.switch_accounts",HIJACKED_DUALITY_WARNING_SHOWN:"enterprise_labs.hijacked_duality.warning_shown",HIJACKED_DUALITY_WARNING_DISMISSED:"enterprise_labs.hijacked_duality.warning_dismissed",HIJACKED_DUALITY_SWITCH_USER:"enterprise_labs.hijacked_duality.switch_user",TIMEZONE_WARNING_SHOWN:"enterprise_labs.timezone.warning_shown",TIMEZONE_WARNING_IGNORED:"enterprise_labs.timezone.warning_ignored",TIMEZONE_WARNING_DISMISSED:"enterprise_labs.timezone.warning_dismissed",NT_CLICK_TAB:"enterprise_labs.nt.click.tab"})}),null);
__d('ChatUserFocusLogging',['EnterpriseLabsLoggingEvents','EnterpriseLabsTypedLogger','FantaDispatcher','FantaTabActions','MercuryDispatcher','MercuryPayloadSource','MercuryThreads'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryDispatcher').get(),i=c('MercuryThreads').get(),j={},k=function n(o,p){try{if(p.payload_source!==c('MercuryPayloadSource').CLIENT_SEND_MESSAGE)return;var q=p.actions||[];q.forEach(function(r){var s=r.thread_id;if(!s||!j[s])return;var t=i.getThreadMetaNow(s);if(!t)return;var u=(t.bypass_focus_mode_until||0)*1000>Date.now();j[r.thread_id].messagesSent=true;var v=u?c('EnterpriseLabsLoggingEvents').FOCUS_MODE_MESSAGE_SENT_BYPASSED:c('EnterpriseLabsLoggingEvents').FOCUS_MODE_MESSAGE_SENT_ASYNC;new (c('EnterpriseLabsTypedLogger'))().setEntityID(s).setEvent(v).log()})}catch(r){return}},l=function n(o){try{if(o.actionType===c('FantaTabActions').Types.CLOSE_TAB){var p=j[o.threadID];if(!p)return;if(!p.messagesSent&&!p.closed)new (c('EnterpriseLabsTypedLogger'))().setEntityID(o.threadID).setEvent(c('EnterpriseLabsLoggingEvents').FOCUS_MODE_SENT_NO_MESSAGES).log();p.closed=true}}catch(q){return}};h.subscribe('update-messages',k);c('FantaDispatcher').register(l);m.prototype.registerThreadID=function(n){if(j[n]&&!j[n].closed)return;j[n]={messagesSent:false,closed:false}};function m(){}f.exports=new m()}),null);
__d('ChatUserFocusWarning',['MercuryParticipants','MercuryViewer','emptyFunction','ifRequired'],(function a(b,c,d,e,f,g){'use strict';var h=void 0,i=void 0,j=function m(n){if(!h)c('ifRequired')('ChatUserFocusLogging',function(o){return h=o},c('emptyFunction'));if(h&&h.registerThreadID)h.registerThreadID(n);},k=function m(n,o,p){if(!i)c('ifRequired')('ChatSubscribeToFocusModeChanges',function(q){i=q},c('emptyFunction'));if(i&&i.subscribe)i.subscribe(n,o,p);},l={updateUserFocusWarning:function m(n,o,p){c('MercuryParticipants').get(c('MercuryViewer').getID(),function(q){var r=q.employee;if(r)c('MercuryParticipants').getMulti(n.participants,function(s){var t=false;for(var u in s){if(q.id!==s[u].id&&s[u].is_user_focusing)t=true;if(s[u].employee&&q.fbid)k(q.fbid,n.thread_id,s[u]);}if(t){j(n.thread_id);var v=n&&n.bypass_focus_mode_until&&n.bypass_focus_mode_until>Date.now()/1000;o(v)}else p();});})}};f.exports=l}),null);