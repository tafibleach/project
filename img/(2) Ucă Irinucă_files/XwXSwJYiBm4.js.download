if (self.CavalryLogger) { CavalryLogger.start_js(["c34HQ"]); }

__d('LiveVideoBroadcastWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:LiveVideoBroadcastWaterfallLoggerConfig',this.$LiveVideoBroadcastWaterfallTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:LiveVideoBroadcastWaterfallLoggerConfig',this.$LiveVideoBroadcastWaterfallTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$LiveVideoBroadcastWaterfallTypedLogger1={};return this};h.prototype.updateData=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1=babelHelpers['extends']({},this.$LiveVideoBroadcastWaterfallTypedLogger1,j);return this};h.prototype.setAPIBroadcastID=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.api_broadcast_id=j;return this};h.prototype.setBroadcastDuration=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.broadcast_duration=j;return this};h.prototype.setBroadcastID=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.broadcast_id=j;return this};h.prototype.setError=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.error=j;return this};h.prototype.setEvent=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.event=j;return this};h.prototype.setIceConnectionState=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.ice_connection_state=j;return this};h.prototype.setNewIceConnectionState=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.new_ice_connection_state=j;return this};h.prototype.setSessionID=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.session_id=j;return this};h.prototype.setVC=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.video_id=j;return this};h.prototype.setWasUserOffline=function(j){this.$LiveVideoBroadcastWaterfallTypedLogger1.was_user_offline=j;return this};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$LiveVideoBroadcastWaterfallTypedLogger1=babelHelpers['extends']({},this.$LiveVideoBroadcastWaterfallTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={api_broadcast_id:true,broadcast_duration:true,broadcast_id:true,error:true,event:true,ice_connection_state:true,new_ice_connection_state:true,session_id:true,vc:true,video_id:true,was_user_offline:true};f.exports=h}),null);
__d('VideoBroadcastTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:VideoBroadcastLoggerConfig',this.$VideoBroadcastTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:VideoBroadcastLoggerConfig',this.$VideoBroadcastTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$VideoBroadcastTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoBroadcastTypedLogger1=babelHelpers['extends']({},this.$VideoBroadcastTypedLogger1,j);return this};h.prototype.setBroadcastEvent=function(j){this.$VideoBroadcastTypedLogger1.broadcast_event=j;return this};h.prototype.setDeletionKey=function(j){this.$VideoBroadcastTypedLogger1.deletion_key=j;return this};h.prototype.setHiveOnly=function(j){this.$VideoBroadcastTypedLogger1.hive_only=j;return this};h.prototype.setIsGraphqlMutation=function(j){this.$VideoBroadcastTypedLogger1.is_graphql_mutation=j;return this};h.prototype.setOverrideAppID=function(j){this.$VideoBroadcastTypedLogger1.override_app_id=j;return this};h.prototype.setOverrideVideoBroadcastID=function(j){this.$VideoBroadcastTypedLogger1.override_video_broadcast_id=j;return this};h.prototype.setVC=function(j){this.$VideoBroadcastTypedLogger1.vc=j;return this};h.prototype.setVideoBroadcast=function(j){this.$VideoBroadcastTypedLogger1.video_broadcast=j;return this};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$VideoBroadcastTypedLogger1=babelHelpers['extends']({},this.$VideoBroadcastTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={broadcast_event:true,deletion_key:true,hive_only:true,is_graphql_mutation:true,override_app_id:true,override_video_broadcast_id:true,vc:true,video_broadcast:true};f.exports=h}),null);
__d('LiveVideoBroadcastConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={MSEC_IN_SEC:1000,DEFAULT_RETRY_TIMEOUT_SECONDS:20,RENDER_DELAY_TIME_MS:500,REQUEST_ACCESS_DELAY_MS:0,MAX_SCROLL_DISTANCE_FOR_AUTO_SCROLL_PX:50,AUTO_TAKENDOWN_TIME_FOR_COPYRIGHT_VIOLATION:60000,COUNTDOWN_START_TIME:3,LIVE_WWW_BROADCASTING_APP_ID:1761791807395020,MINIMUM_BROADCAST_LENGTH_MS:4000,FINISH_BUTTON_NUX_TIME_MS:3000,PUBLISH_FAILURE_TIMEOUT_S:90,FUNNEL_LOGGER_NAME:'FACECAST_BROADCASTER_FUNNEL',BROADCAST_STATE:{PREVIEW:'PREVIEW',READY_TO_LIVE:'READY_TO_LIVE',LIVE:'LIVE',FINISHING:'FINISHING',FINISHED:'FINISHED'},CAMERA_STATE:{CHECK_CAMERA_ACCESS:'CHECK_CAMERA_ACCESS',REQUEST_CAMERA_ACCESS:'REQUEST_CAMERA_ACCESS',BROADCAST:'BROADCAST',CAMERA_NOT_FOUND:'CAMERA_NOT_FOUND',MICROPHONE_NOT_FOUND:'MICROPHONE_NOT_FOUND',CAMERA_NOT_ALLOWED:'CAMERA_NOT_ALLOWED'},CAMERA_DIMENSIONS:{ONE_ONE:1,FOUR_THREE:4/3,SIXTEEN_NINE:16/9},INPUT_SOURCE:{API:'API',CAMERA:'CAMERA'},ACTIONS:{ACCEPT_ERROR_BROADCAST_COULD_NOT_START:'ACCEPT_ERROR_BROADCAST_COULD_NOT_START',FINISH_BROADCAST_REQUEST:'FINISH_BROADCAST_REQUEST',FINISH_BROADCAST_SUCCESS:'FINISH_BROADCAST_SUCCESS',GET_WEBCAM_STREAM_URL_REQUEST:'GET_WEBCAM_STREAM_URL_REQUEST',GET_WEBCAM_STREAM_URL_SUCCESS:'GET_WEBCAM_STREAM_URL_SUCCESS',GET_SCREEN_STREAM_URL_REQUEST:'GET_SCREEN_STREAM_URL_REQUEST',GET_SCREEN_STREAM_URL_SUCCESS:'GET_SCREEN_STREAM_URL_SUCCESS',HIDE_COMMENT_PLACEHOLDER:'HIDE_COMMENT_PLACEHOLDER',INITIALIZE:'INITIALIZE',FINISH_COUNT_DOWN:'FINISH_COUNT_DOWN',START_BROADCAST_REQUEST:'START_BROADCAST_REQUEST',START_BROADCAST_SUCCESS:'START_BROADCAST_SUCCESS',START_LIVE_COUNTDOWN:'START_LIVE_COUNTDOWN',CANCEL_LIVE_COUNTDOWN:'CANCEL_LIVE_COUNTDOWN',UPDATE_CAMERA_STATE:'UPDATE_CAMERA_STATE',UPDATE_COUNTDOWN:'UPDATE_COUNTDOWN',SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO:'SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO',SHOW_REPLAY:'SHOW_REPLAY',ERROR_BROADCAST_COULD_NOT_START:'ERROR_BROADCAST_COULD_NOT_START',ERROR_BROADCAST_PUBLISH_FAIL:'ERROR_BROADCAST_PUBLISH_FAIL',ERROR_CONNECTION_BROKEN:'ERROR_CONNECTION_BROKEN',ERROR_CONNECTION_FAILED:'ERROR_CONNECTION_FAILED',ERROR_MEDIA_VALIDATION:'ERROR_MEDIA_VALIDATION',ATTEMPT_RECONNECTION:'ATTEMPT_RECONNECTION',WEBRTC_CONNECTION_ESTABLISHED:'WEBRTC_CONNECTION_ESTABLISHED',SET_INVITE_FRIENDS_QUERY:'SET_INVITE_FRIENDS_QUERY',SET_INVITE_FRIENDS_SHOWN:'SET_INVITE_FRIENDS_SHOWN',ICE_CONNECTION_STATE_CHANGED:'ICE_CONNECTION_STATE_CHANGED',DELETE_REPLAY_VIDEO:'DELETE_REPLAY_VIDEO',NETWORK_OFFLINE:'NETWORK_OFFLINE',NETWORK_ONLINE:'NETWORK_ONLINE',PREPARE_THUMBNAIL_URI:'PREPARE_THUMBNAIL_URI',SET_THUMBNAIL_URI:'SET_THUMBNAIL_URI',SET_COPYRIGHT_TRIGGERED:'SET_COPYRIGHT_TRIGGERED',SET_COPYRIGHTS_VIOLATION_DIALOG_STATE:'SET_COPYRIGHTS_VIOLATION_DIALOG_STATE',SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION:'SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION',SET_VOD_READY:'SET_VOD_READY',INVITE_FRIEND:'INVITE_FRIEND',SET_INVITE_FRIENDS_RESULTS:'SET_INVITE_FRIENDS_RESULTS',SET_INVITE_FRIENDS_SUGGESTIONS:'SET_INVITE_FRIENDS_SUGGESTIONS',HANDLE_COPYRIGHT_EVENT:'HANDLE_COPYRIGHT_EVENT',SET_SHOW_NUX:'SET_SHOW_NUX',REQUEST_UFI:'REQUEST_UFI',SET_UFI_MARKUP:'SET_UFI_MARKUP',SET_DIALOG:'SET_DIALOG',SET_DIALOG_CONTAINER_ID:'SET_DIALOG_CONTAINER_ID',SET_COMPOSER_CONFIG:'SET_COMPOSER_CONFIG',SET_UFI_SCROLL_AREA:'SET_UFI_SCROLL_AREA',LOG_WEBRTC_STATS:'LOG_WEBRTC_STATS',SET_DESCRIPTION_EXPANDED:'SET_DESCRIPTION_EXPANDED',CLEANUP:'CLEANUP',SET_DESCRIPTION:'SET_DESCRIPTION',SET_TAG_LIST:'SET_TAG_LIST',SET_TARGET:'SET_TARGET',CLEAR_BROADCAST_ID:'CLEAR_BROADCAST_ID',CLEAR_API_BROADCAST_ID:'CLEAR_API_BROADCAST_ID',SET_ATTRIBUTION_TAGS:'SET_ATTRIBUTION_TAGS',SET_VIDEO_TITLE:'SET_VIDEO_TITLE',SET_CONTENT_TAGS:'SET_CONTENT_TAGS',SET_SELECTED_ATTRIBUTION_TAG:'SET_SELECTED_ATTRIBUTION_TAG',SET_BROADCAST_ID:'SET_BROADCAST_ID',SET_VIDEO_ID:'SET_VIDEO_ID',SET_PRIVACY_SELECTOR:'SET_PRIVACY_SELECTOR',ERROR_TIME_OUT_WAITING_FOR_PUBLISH:'ERROR_TIME_OUT_WAITING_FOR_PUBLISH',SET_PEOPLE_TAGGER_SOURCE:'SET_PEOPLE_TAGGER_SOURCE',UI_MOUNTED:'UI_MOUNTED',READY_STATE_ENDED:'READY_STATE_ENDED',ERROR_MWS_BAD_AUDIO_OR_VIDEO_DATA:'ERROR_MWS_BAD_AUDIO_OR_VIDEO_DATA',UPDATE_UI_CONFIG:'UPDATE_UI_CONFIG',ERROR_RTC_CLIENT_ERROR:'ERROR_RTC_CLIENT_ERROR',SET_INPUT_SOURCE:'SET_INPUT_SOURCE',API_BROADCAST_CREATED:'API_BROADCAST_CREATED',API_BROADCAST_LIVE_PREVIEW_PLAYING:'API_BROADCAST_LIVE_PREVIEW_PLAYING',DELETE_API_REPLAY_VIDEO:'DELETE_API_REPLAY_VIDEO',API_BROADCAST_STOPPED:'API_BROADCAST_STOPPED',API_GO_LIVE_CLICKED:'API_GO_LIVE_CLICKED',SET_API_BROADCAST_PRIVACY_SELECTOR:'SET_API_BROADCAST_PRIVACY_SELECTOR',ERROR_TRACK_ENDED:'ERROR_TRACK_ENDED',ERROR_CREATING_BROADCAST:'ERROR_CREATING_BROADCAST',SET_IS_360_VIDEO:'SET_IS_360_VIDEO',SET_IS_360_AUDIO:'SET_IS_360_AUDIO',SET_EMBEDDABLE:'SET_EMBEDDABLE',SET_SHOULD_EXPIRE_AFTER_GO_LIVE:'SET_SHOULD_EXPIRE_AFTER_GO_LIVE',SET_SHOULD_SHOW_GRAPHIC_CONTENT_WARNING:'SET_SHOULD_SHOW_GRAPHIC_CONTENT_WARNING',SET_CONTINUOUS:'SET_CONTINUOUS',SET_COPYRIGHTED:'SET_COPYRIGHTED',SET_COPYRIGHT_MONITORING_TYPE:'SET_COPYRIGHT_MONITORING_TYPE',SET_COPYRIGHT_OWNERSHIP_COUNTRIES:'SET_COPYRIGHT_OWNERSHIP_COUNTRIES',SET_COPYRIGHT_RULE_ID:'SET_COPYRIGHT_RULE_ID',UPDATE_COPYRIGHT_WHITELISTED_PARTNERS:'UPDATE_COPYRIGHT_WHITELISTED_PARTNERS',SCHEDULED_LIVE_SUCCESS:'SCHEDULED_LIVE_SUCCESS',SCHEDULED_LIVE_REQUEST:'SCHEDULED_LIVE_REQUEST',SCHEDULED_LIVE_FAIL:'SCHEDULED_LIVE_FAIL',PREPARE_BROADCAST_FOR_SCHEDULED_LIVE:'PREPARE_BROADCAST_FOR_SCHEDULED_LIVE',SET_DIALOG_LOADING:'SET_DIALOG_LOADING'}};f.exports=h}),null);
__d("XLiveComposerPrivacySelectorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/audienceSelector\/",{video_id:{type:"FBID"},target_id:{type:"FBID"}})}),null);
__d("XLiveVideoBroadcastHandleScheduledLiveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video_broadcast\/handle_schedule\/",{broadcast_id:{type:"FBID"},schedule_custom_profile_image_focus:{type:"StringToFloatMap"},planned_start_time:{type:"Int"}})}),null);
__d("XLiveVideoUpdateBroadcastController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video_broadcast\/update\/",{broadcast_id:{type:"FBID"},privacyx:{type:"String"},political_district:{type:"String"},targeted_privacy_data:{type:"HackType"},planned_start_time:{type:"Int"},is_continuous:{type:"Bool",defaultValue:false}})}),null);
__d('LiveVideoBroadcastAPIBroadcastStore',['LiveVideoBroadcastConstants','ActorURI','AsyncRequest','AsyncUploadRequest','LiveVideoBroadcastDispatcher','FluxMapStore','immutable','LiveVideoBroadcastActions','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastUIStore','VideoBroadcastStatus','XLiveComposerPrivacySelectorController','XLiveVideoBroadcastHandleScheduledLiveController','XLiveVideoUpdateBroadcastController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LiveVideoBroadcastConstants').ACTIONS,k=c('LiveVideoBroadcastConstants').INPUT_SOURCE;h=babelHelpers.inherits(l,c('FluxMapStore'));i=h&&h.prototype;l.prototype.getInitialState=function(){return c('immutable').Map({apiLivePreviewPlaying:false,areCountriesIncluded:false,copyrightWhitelistedPartners:[],is360Video:false,is360Audio:false,isContinuous:false,isCopyrighted:false,isEmbeddable:true,ownershipCountries:[],shouldExpireAfterGoLive:false,shouldShowGraphicContentWarning:false})};l.prototype.reduce=function(m,n){switch(n.type){case j.INITIALIZE:m=this.getInitialState();break;case j.API_BROADCAST_CREATED:m=m.set('apiBroadcastID',n.id);m=m.set('apiStreamURL',n.streamURL);m=m.set('apiSecureStreamURL',n.secureStreamURL);m=m.set('apiVideoID',n.videoID);m=m.set('apiEmbedHTML',n.apiEmbedHTML);m=m.set('apiLivePreviewPlaying',false);this.$LiveVideoBroadcastAPIBroadcastStore1(n.actorID,n.videoID,n.targetID);break;case j.API_BROADCAST_LIVE_PREVIEW_PLAYING:m=m.set('apiLivePreviewPlaying',n.livePreviewPlaying);break;case j.FINISH_BROADCAST_REQUEST:this.$LiveVideoBroadcastAPIBroadcastStore2();break;case j.DELETE_API_REPLAY_VIDEO:this.$LiveVideoBroadcastAPIBroadcastStore3();break;case j.SET_API_BROADCAST_PRIVACY_SELECTOR:m=m.set('apiComposerPrivacySelector',n.apiComposerPrivacySelector);break;case j.SET_TARGET:case j.CLEAR_API_BROADCAST_ID:m=m.set('apiBroadcastID',null);m=m.set('apiLivePreviewPlaying',false);break;case j.SET_IS_360_VIDEO:m=m.set('is360Video',n.value);m=m.set('is360Audio',false);m=m.set('apiBroadcastID',null);break;case j.SET_IS_360_AUDIO:m=m.set('is360Audio',n.value);m=m.set('apiBroadcastID',null);break;case j.SET_EMBEDDABLE:m=m.set('isEmbeddable',n.value);break;case j.SCHEDULED_LIVE_REQUEST:this.$LiveVideoBroadcastAPIBroadcastStore4(n.actorID,n.broadcastID,n.plannedStartTime,n.customProfileImage,n.customProfileImageFocus);break;case j.SET_SHOULD_EXPIRE_AFTER_GO_LIVE:m=m.set('shouldExpireAfterGoLive',n.value);break;case j.SET_SHOULD_SHOW_GRAPHIC_CONTENT_WARNING:m=m.set('shouldShowGraphicContentWarning',n.value);break;case j.SET_CONTINUOUS:m=m.set('isContinuous',n.value);break;case j.SET_COPYRIGHTED:m=m.set('isCopyrighted',n.value);break;case j.SET_COPYRIGHT_MONITORING_TYPE:m=m.set('copyrightMonitoringType',n.value);break;case j.SET_COPYRIGHT_OWNERSHIP_COUNTRIES:m=m.set('areCountriesIncluded',n.areCountriesIncluded);m=m.set('ownershipCountries',n.ownershipCountries);break;case j.SET_COPYRIGHT_RULE_ID:m=m.set('copyrightRuleID',n.value);break;case j.UPDATE_COPYRIGHT_WHITELISTED_PARTNERS:m=m.set('copyrightWhitelistedPartners',n.value);break;default:break;}return m};l.prototype.$LiveVideoBroadcastAPIBroadcastStore4=function(m,n,o,p,q){var r=c('XLiveVideoBroadcastHandleScheduledLiveController').getURIBuilder().getURI();r=c('ActorURI').create(r,m);var s=new (c('AsyncUploadRequest'))(r).setData({broadcast_id:n,planned_start_time:o,schedule_custom_profile_image_focus:q}).setFiles({schedule_custom_profile_image:p});s.subscribe('failure',c('LiveVideoBroadcastActions').scheduledLiveFail);s.subscribe('complete',c('LiveVideoBroadcastActions').scheduledLiveSuccess);s.send()};l.prototype.$LiveVideoBroadcastAPIBroadcastStore1=function(m,n,o){var p=c('XLiveComposerPrivacySelectorController').getURIBuilder(),q=c('ActorURI').create(p.getURI(),m);new (c('AsyncRequest'))().setURI(q).setData({video_id:n,target_id:o}).setMethod('POST').send()};l.prototype.$LiveVideoBroadcastAPIBroadcastStore2=function(){var m=c('LiveVideoBroadcastUIStore').getState().toObject(),n=m.inputSource;if(n!==k.API)return;var o=c('LiveVideoBroadcastBroadcastStore').getState().toObject(),p=o.actorID,q=c('XLiveVideoUpdateBroadcastController').getURIBuilder().getURI();q=c('ActorURI').create(q,p);new (c('AsyncRequest'))(q).setData({broadcast_id:this.get('apiBroadcastID'),video_broadcast_status:c('VideoBroadcastStatus').LIVE_STOPPED}).setHandler(function(r){c('LiveVideoBroadcastActions').finishBroadcastSuccess()}).setErrorHandler(function(){alert('Error ending broadcast, please try again')}).send()};l.prototype.$LiveVideoBroadcastAPIBroadcastStore3=function(){var m=this.get('apiVideoID');if(m)c('LiveVideoBroadcastBroadcastStore').deleteVideo(m);};function l(){h.apply(this,arguments)}f.exports=new l(c('LiveVideoBroadcastDispatcher'))}),null);
__d('LiveVideoBroadcastAfterBootloadUtils',['ShareDialogAudienceTypes'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l='',m=l;if(j.audience==c('ShareDialogAudienceTypes').PAGE){l=j.audienceTargets[0].actorId;m=j.audienceTargets[0].pageId}else if(j.audience==c('ShareDialogAudienceTypes').OWN){l=k||'';m=k||''}else{l=j.actorId?j.actorId:'';m=j.audienceTargets[0]||l}return {actorID:l,targetID:m}}var i={getIDsFromTarget:h};f.exports=i}),null);
__d('LiveVideoBroadcastCopyrightUtils',['LiveVideoBroadcastActions','RTISubscriptionManager'],(function a(b,c,d,e,f,g){'use strict';var h=[],i={handleCopyrightEvent:function j(event,k){if(k)c('LiveVideoBroadcastActions').handleCopyrightEvent(event,k);},endLiveBroadcastWithCopyrightViolation:function j(){c('LiveVideoBroadcastActions').setBroadcastEndedWithCopyrightViolation();c('LiveVideoBroadcastActions').finishBroadcastRequest()},subscribeToCopyrightEvents:function j(k){var l=c('RTISubscriptionManager').subscribe('live/www/copyright/'+k,function(m){var n=JSON.parse(m.payload);c('LiveVideoBroadcastActions').setCopyrightTriggered(true);c('LiveVideoBroadcastActions').setCopyrightsViolationDialogState(n.event)});h.push(l)},unsubscribeTokens:function j(){for(var k=h,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}var o=n;o.unsubscribe()}}};f.exports=i}),null);
__d("MediaRecorder",[],(function a(b,c,d,e,f,g){f.exports=window.MediaRecorder}),null);
__d("XLiveVideoBroadcastReplayController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/replay\/",{video_id:{type:"FBID",required:true}})}),null);
__d("XLiveVideoCheckIsPublishedController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live_video\/check_is_published\/",{broadcast_id:{type:"FBID",required:true},end_if_unpublished:{type:"Bool",defaultValue:false}})}),null);
__d("XLiveVideoFinishBroadcastController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live_video\/finish\/",{broadcast_id:{type:"FBID",required:true}})}),null);
__d("XLiveVideoInitCommentsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live_video\/init_comments\/",{broadcast_id:{type:"FBID",required:true},target_id:{type:"FBID",required:true}})}),null);
__d("XLiveVideoPublishBroadcastController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live_video\/publish\/",{broadcast_id:{type:"FBID",required:true},description:{type:"String"}})}),null);
__d('LiveVideoBroadcastBroadcastStore',['CollabRTCChromeScreenSharingExtension','LiveVideoBroadcastActions','LiveVideoBroadcastConstants','ActorURI','AsyncRequest','LiveVideoBroadcastDispatcher','FBRTCHangupReason','FluxMapStore','immutable','LiveVideoBroadcastAPIBroadcastStore','LiveVideoBroadcastAfterBootloadUtils','LiveVideoBroadcastCopyrightUtils','LiveVideoBroadcastIDStore','LiveVideoBroadcastUIStore','LiveVideoBroadcastUtils','MediaRecorder','RTCCallActions','RTCCallStore','RTCMWProtocolHandler','RTCUtils','UFILiveStreamingComments','XLiveVideoBroadcastReplayController','XLiveVideoCheckIsPublishedController','XLiveVideoCreateBroadcastController','XLiveVideoFinishBroadcastController','XLiveVideoInitCommentsController','XLiveVideoPublishBroadcastController','setTimeout'],(function a(b,c,d,e,f,g){'use strict';var h,i;c('CollabRTCChromeScreenSharingExtension');var j=c('LiveVideoBroadcastConstants').ACTIONS,k=c('LiveVideoBroadcastConstants').BROADCAST_STATE,l=c('LiveVideoBroadcastConstants').CAMERA_DIMENSIONS,m=c('LiveVideoBroadcastConstants').CAMERA_STATE,n=c('LiveVideoBroadcastConstants').INPUT_SOURCE,o=289247178204284,p=2000;h=babelHelpers.inherits(q,c('FluxMapStore'));i=h&&h.prototype;q.prototype.getInitialState=function(){return c('immutable').Map({initialized:false,recordedChunks:[]})};q.prototype.reduce=function(r,s){if(s.type!==j.INITIALIZE)this.checkPropsSaved();switch(s.type){case j.INITIALIZE:r=this.getInitialState();r=this.saveProps(r,s.value);break;case j.START_BROADCAST_REQUEST:r=r.set('broadcastStartTime',Date.now());var t=this.startBroadcast(s.value);r=r.set('recorder',t);break;case j.START_BROADCAST_SUCCESS:this.$LiveVideoBroadcastBroadcastStore4();this.$LiveVideoBroadcastBroadcastStore5();break;case j.REQUEST_UFI:this.$LiveVideoBroadcastBroadcastStore4();break;case j.ATTEMPT_RECONNECTION:var u=this.get('maxFailureRetries')||0,v=this.get('failureRetries')||0;this.attemptReconnection(v,u);r=r.set('failureRetries',v+1);break;case j.WEBRTC_CONNECTION_ESTABLISHED:r=r.set('failureRetries',0);break;case j.FINISH_BROADCAST_REQUEST:this.finishBroadcast();break;case j.GET_WEBCAM_STREAM_URL_REQUEST:var w=s.config&&s.config.audioInput?s.config.audioInput:r.get('selectedAudioInput'),x=s.config&&s.config.videoInput?s.config.videoInput:r.get('selectedVideoInput'),y=r.get('mediaStream');if(y)c('RTCUtils').stopMediaStream(y);r=r.set('selectedAudioInput',w);r=r.set('selectedVideoInput',x);this.createWebcamStreamUrl(w,x);break;case j.GET_SCREEN_STREAM_URL_REQUEST:{var z=s.config&&s.config.audioInput?s.config.audioInput:r.get('selectedAudioInput');r=r.set('selectedAudioInput',z);this.$LiveVideoBroadcastBroadcastStore6(z)}break;case j.SCHEDULED_LIVE_SUCCESS:case j.CLEANUP:this.$LiveVideoBroadcastBroadcastStore7();this.$LiveVideoBroadcastBroadcastStore8();break;case j.GET_WEBCAM_STREAM_URL_SUCCESS:r=r.set('selectedVideoInputSource','CAMERA');r=r.set('webcamStreamUrl',s.value.url);r=r.set('mediaStream',s.value.mediaStream);break;case j.GET_SCREEN_STREAM_URL_SUCCESS:r=r.set('selectedVideoInputSource','SCREEN');r=r.set('webcamStreamUrl',s.value.url);r=r.set('mediaStream',s.value.mediaStream);break;case j.DELETE_REPLAY_VIDEO:this.$LiveVideoBroadcastBroadcastStore9();break;case j.PREPARE_THUMBNAIL_URI:this.prepareThumbnailUri();break;case j.SET_THUMBNAIL_URI:r=r.set('thumbnailUri',s.value);break;case j.ERROR_TIME_OUT_WAITING_FOR_PUBLISH:case j.ERROR_TRACK_ENDED:this.finishBroadcast();break;case j.SET_TARGET:r=r.set('broadcastId',null);r=r.set('actorID',null);r=r.set('targetID',null);this.$LiveVideoBroadcastBroadcastStore10(r,s.value);break;case j.CLEAR_BROADCAST_ID:r=r.set('broadcastId',null);r=r.set('actorID',null);r=r.set('targetID',null);break;case j.SET_BROADCAST_ID:r=r.set('broadcastId',s.value);break;case j.SET_VIDEO_ID:r=r.set('videoId',s.value);break;case j.SET_IS_360_VIDEO:c('LiveVideoBroadcastDispatcher').waitFor([c('LiveVideoBroadcastAPIBroadcastStore').getDispatchToken()]);this.$LiveVideoBroadcastBroadcastStore11();break;case j.SET_IS_360_AUDIO:c('LiveVideoBroadcastDispatcher').waitFor([c('LiveVideoBroadcastAPIBroadcastStore').getDispatchToken()]);this.$LiveVideoBroadcastBroadcastStore11();break;case j.UPDATE_UI_CONFIG:if(s.values.broadcastId)r=r.set('broadcastId',s.values.broadcastId);if(s.values.videoId)r=r.set('videoId',s.values.videoId);if(s.values.viewerID)r=r.set('viewerID',s.values.viewerID);if(s.values.feedbackID)r=r.set('feedbackID',s.values.feedbackID);if(s.values.targetID)r=r.set('targetID',s.values.targetID);if(s.values.actorID)r=r.set('actorID',s.values.actorID);if(s.values.formData)r=r.set('formData',s.values.formData);if(s.values.streamSettings)r=r.set('streamSettings',s.values.streamSettings);if(s.values.maxFailureRetries)r=r.set('maxFailureRetries',s.values.maxFailureRetries);if(s.values.retryTimeoutSeconds)r=r.set('retryTimeoutSeconds',s.values.retryTimeoutSeconds);if(s.values.speedTestConfig)r=r.set('speedTestConfig',s.values.speedTestConfig);if(s.values.webRTCLoggingFreq)r=r.set('webRTCLoggingFreq',s.values.webRTCLoggingFreq);if(s.values.gks)r=r.set('vp8',s.values.gks.live_www_broadcasting_vp8_encoding);if(s.values.accountID)r=r.set('accountID',s.values.accountID);break;default:break;}return r};q.prototype.saveProps=function(r,s){return r.set('failureRetries',0).set('initialized',true).set('vp8',s.vp8).set('formData',s.formData)};q.prototype.$LiveVideoBroadcastBroadcastStore11=function(){var r=this.get('actorID'),s=this.get('targetID');if(r&&s)this.$LiveVideoBroadcastBroadcastStore12(r,s);};q.prototype.$LiveVideoBroadcastBroadcastStore12=function(r,s){if(this.$LiveVideoBroadcastBroadcastStore2)this.$LiveVideoBroadcastBroadcastStore2.abandon();var t=c('LiveVideoBroadcastAPIBroadcastStore').getState().toObject(),u=t.is360Audio,v=t.is360Video,w=c('XLiveVideoCreateBroadcastController').getURIBuilder().setInt('app_id',o).setFBID('target_id',String(s)).setBool('is_360_broadcast',v).setBool('is_360_audio_broadcast',u).getURI();w=c('ActorURI').create(w,r);this.$LiveVideoBroadcastBroadcastStore2=new (c('AsyncRequest'))(w).setData({video_broadcast_infra_type:'RTMP'}).setHandler(function(x){this.$LiveVideoBroadcastBroadcastStore2=null;c('LiveVideoBroadcastActions').apiBroadcastCreated(r||'',x.payload.id,x.payload.stream_url,x.payload.secure_stream_url,x.payload.video_id,s||'',x.payload.embed_html)}.bind(this));this.$LiveVideoBroadcastBroadcastStore2.send()};q.prototype.$LiveVideoBroadcastBroadcastStore10=function(r,s){var t=c('LiveVideoBroadcastAfterBootloadUtils').getIDsFromTarget(s,r.get('accountID')),u=t.actorID,v=t.targetID;r=r.set('actorID',u);r=r.set('targetID',v);var w=8000;if(this.$LiveVideoBroadcastBroadcastStore1)this.$LiveVideoBroadcastBroadcastStore1.abandon();var x=c('XLiveVideoCreateBroadcastController').getURIBuilder().setFBID('target_id',v).getURI();x=c('ActorURI').create(x,u);this.$LiveVideoBroadcastBroadcastStore1=new (c('AsyncRequest'))(x).setHandler(function(y){this.$LiveVideoBroadcastBroadcastStore1=null;var z=c('LiveVideoBroadcastUIStore').get('composerConfig');if(!z){c('LiveVideoBroadcastUtils').handleCreateBroadcastError({error:'No broadcast config'});return}var aa=c('LiveVideoBroadcastUtils').getComposerFormData(z.contextConfig.composerID,v,z.config.contextInfo);c('LiveVideoBroadcastUtils').fetchUIConfig(u,v,y.payload.id,z.contextConfig.composerType,aa)}.bind(this)).setErrorHandler(c('LiveVideoBroadcastUtils').handleCreateBroadcastError).setTimeoutHandler(w,c('LiveVideoBroadcastUtils').handleCreateBroadcastError);this.$LiveVideoBroadcastBroadcastStore1.send();this.$LiveVideoBroadcastBroadcastStore12(u,v);return r};q.prototype.$LiveVideoBroadcastBroadcastStore13=function(r){var s=r.getAudioTracks();if(s.length===0){c('LiveVideoBroadcastActions').updateCameraState(m.MICROPHONE_NOT_FOUND);return false}var t=r.getVideoTracks();if(t.length===0){c('LiveVideoBroadcastActions').updateCameraState(m.CAMERA_NOT_FOUND);return false}if(t[0].readyState==='ended')c('LiveVideoBroadcastActions').readyStateEnded();return true};q.prototype.$LiveVideoBroadcastBroadcastStore6=function(r){var s=function(v){if(!this.$LiveVideoBroadcastBroadcastStore13(v))return;c('RTCCallActions').removeAllLocalStreams(true);c('RTCCallActions').removeAllLocalScreenStreams(true);c('RTCCallActions').addLocalScreenStream(v);var w=window.URL.createObjectURL(v);c('LiveVideoBroadcastActions').getScreenStreamUrlSuccess({url:w,mediaStream:v});c('LiveVideoBroadcastActions').updateCameraState(m.BROADCAST);var x=v.getVideoTracks();x[0].addEventListener('ended',function(){var y=c('LiveVideoBroadcastUIStore').getState().toObject(),z=y.broadcastState;if(z===k.LIVE){c('LiveVideoBroadcastActions').errorTrackEnded()}else c('LiveVideoBroadcastActions').getWebcamStreamUrlRequest();});this.$LiveVideoBroadcastBroadcastStore3=x[0].getSettings().height}.bind(this),t=this.$LiveVideoBroadcastBroadcastStore14(r),u={audio:t,video:false};if(c('RTCCallStore').getState().localUser.hasScreenStream())return c('RTCUtils').getUserMedia(u).then(function(v){var w=c('RTCCallStore').getState().localUser.getScreenStreams().first();for(var x=w.getAudioTracks(),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var aa;if(y){if(z>=x.length)break;aa=x[z++]}else{z=x.next();if(z.done)break;aa=z.value}var ba=aa;w.removeTrack(ba)}w.addTrack(v.getAudioTracks()[0]);return w})['catch'](function(v){c('LiveVideoBroadcastActions').errorMediaValidation(v,true)});return c('RTCUtils').initLocalScreenStream().then(function(v){return c('RTCUtils').getUserMedia(u).then(function(w){v.addTrack(w.getAudioTracks()[0]);return v})}).then(s)['catch'](function(v){c('LiveVideoBroadcastActions').errorMediaValidation(v,true)})};q.prototype.createWebcamStreamUrl=function(r,s){var t={width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},aspectRatio:{ideal:l.SIXTEEN_NINE},frameRate:{ideal:30,max:30}},u=this.$LiveVideoBroadcastBroadcastStore14(r),v=this.get('streamSettings');if(v&&v.simpleConstaints){t={height:{ideal:368},aspectRatio:{ideal:l.SIXTEEN_NINE}}}else if(v&&v.firefoxSimpleConstraints)t={height:720,aspectRatio:l.SIXTEEN_NINE};if(s)t=babelHelpers['extends']({},t,{deviceId:s});var w={audio:u,video:t},x=function(y){if(!this.$LiveVideoBroadcastBroadcastStore13(y))return;c('RTCCallActions').removeAllLocalStreams(true);c('RTCCallActions').removeAllLocalScreenStreams(true);c('RTCCallActions').addLocalStream(y);var z=window.URL.createObjectURL(y);c('LiveVideoBroadcastActions').getWebcamStreamUrlSuccess({url:z,mediaStream:y});c('LiveVideoBroadcastActions').updateCameraState(m.BROADCAST);var aa=y.getVideoTracks();aa[0].addEventListener('ended',function(){var ba=c('LiveVideoBroadcastUIStore').getState().toObject(),ca=ba.broadcastState;if(ca===k.LIVE)c('LiveVideoBroadcastActions').errorTrackEnded();});this.$LiveVideoBroadcastBroadcastStore3=aa[0].getSettings().height}.bind(this);return this.$LiveVideoBroadcastBroadcastStore15(w).then(x)['catch'](function(y){c('LiveVideoBroadcastActions').errorMediaValidation(y,true);var z=y.name==='NotAllowedError'||y.name==='PermissionDismissedError',aa=z?m.CAMERA_NOT_ALLOWED:m.CAMERA_NOT_FOUND;c('LiveVideoBroadcastActions').updateCameraState(aa,y)})};q.prototype.$LiveVideoBroadcastBroadcastStore14=function(r){var s={echoCancellation:false,channelCount:2,deviceId:r},t=this.get('streamSettings');if(t&&t.simpleConstaints)s={deviceId:r};return s};q.prototype.$LiveVideoBroadcastBroadcastStore15=function(r){var s=this.get('streamSettings');if(s&&s.mediaValidation){return c('RTCUtils').getUserMediaWithValidation(r,{audio:s.audioTrackValidation,video:s.videoTrackValidation},s.validationRetries,{audio:s.audioTrackValidationTimeout,video:s.videoTrackValidationTimeout}).then(function(t){var u=t.stream,v=t.err;if(v)c('LiveVideoBroadcastActions').errorMediaValidation(v,false);return u})}else return c('RTCUtils').getUserMedia(r);};q.prototype.$LiveVideoBroadcastBroadcastStore16=function(event){var r=this.get('recordedChunks');if(r&&event&&event.data.size>0)r.push(event.data);};q.prototype.$LiveVideoBroadcastBroadcastStore7=function(){var r=this.get('mediaStream');if(r)c('RTCUtils').stopMediaStream(r);};q.prototype.$LiveVideoBroadcastBroadcastStore8=function(){var r=this.get('videoId');if(!r)return;c('UFILiveStreamingComments').stop(r)};q.prototype.startBroadcast=function(r){var s=this.get('broadcastId')||'',t=this.get('streamSettings'),u=this.get('vp8')?{video:'VP8/90000'}:{video:'H264/90000'};c('RTCCallActions').addListener('onIceConnectionStateChange',function(ma){if(ma==='disconnected'){c('LiveVideoBroadcastActions').errorConnectionBroken()}else if(ma==='connected'){c('LiveVideoBroadcastActions').webRTCConnectionEstablished()}else c('LiveVideoBroadcastActions').iceConnectionStateChanged(ma);if(ma==='failed')c('LiveVideoBroadcastActions').attemptReconnection();});var v={};if(t)v={'H264/90000':{'x-google-start-bitrate':t.initialBitrate},'opus/48000/2':{minaveragebitrate:t.minAudioBitrate,maxaveragebitrate:t.maxAudioBitrate},'VP8/90000':t.maxVideoBitrate?{'x-google-max-bitrate':t.maxVideoBitrate}:{}};var w=c('RTCCallStore').getState(),x=w.localUser,y=[].concat(x.getStreams().toArray(),x.getScreenStreams().toArray()),z=undefined;if(t&&t.firefoxSimpleConstraints)z=function(ma){var na=this.$LiveVideoBroadcastBroadcastStore3?this.$LiveVideoBroadcastBroadcastStore3/360:1;ma.setParameters({encodings:[{maxBitrate:1e+06,scaleResolutionDownBy:na}]})}.bind(this);var aa=new (c('RTCMWProtocolHandler'))();aa.startCall([],y,'LIVE:'+s,{addStreamCallback:z,callTrigger:'live_video',formatParameters:v,preferredCodecs:u});var ba=c('XLiveVideoPublishBroadcastController').getURIBuilder().setFBID('broadcast_id',s),ca=c('ActorURI').create(ba.getURI(),this.get('actorID')),da=this.get('formData'),ea=c('LiveVideoBroadcastUIStore').getState().toObject(),fa=ea.composerConfig;if(fa){var ga=c('LiveVideoBroadcastUtils').getComposerFormData(fa.contextConfig.composerID,fa.contextConfig.targetID,fa.config.contextInfo);for(var ha in da)if(ga[ha]!==null)da[ha]=ga[ha];}new (c('AsyncRequest'))().setURI(ca).setData(da).setHandler(function(){return c('LiveVideoBroadcastActions').startLiveBroadcastSuccess()}).setErrorHandler(function(ma){return c('LiveVideoBroadcastActions').errorBroadcastCouldNotStart()}).send();c('LiveVideoBroadcastCopyrightUtils').subscribeToCopyrightEvents(s);var ia=Math.max(c('LiveVideoBroadcastConstants').PUBLISH_FAILURE_TIMEOUT_S-5,0);c('setTimeout')(function(){return this.$LiveVideoBroadcastBroadcastStore17()}.bind(this),ia*1000);var ja=null;if(r){var ka=this.get('mediaStream'),la={mimeType:'video/webm; codecs=vp9'};ja=new (c('MediaRecorder'))(ka,la);ja.ondataavailable=function(event){return this.$LiveVideoBroadcastBroadcastStore16(event)}.bind(this);ja.start()}return ja};q.prototype.attemptReconnection=function(r,s){var t=c('LiveVideoBroadcastUIStore').getState().toObject(),u=t.connectionBroken,v=t.broadcastState;if(r<s&&v===k.LIVE&&u){var w=new (c('RTCMWProtocolHandler'))();w.iceRestart('LIVE:'+(this.get('broadcastId')||''),c('RTCCallStore').getState().callInfo.serverInfoData);c('setTimeout')(function(){return c('LiveVideoBroadcastActions').attemptReconnection()},(this.get('retryTimeoutSeconds')||c('LiveVideoBroadcastConstants').DEFAULT_RETRY_TIMEOUT_SECONDS)*1000)}else if(u)c('setTimeout')(function(){return c('LiveVideoBroadcastActions').errorConnectionFailed()},1);};q.prototype.$LiveVideoBroadcastBroadcastStore17=function(r){var s=this.get('broadcastId')||'',t=r?c('LiveVideoBroadcastConstants').PUBLISH_FAILURE_TIMEOUT_S*1.5:c('LiveVideoBroadcastConstants').PUBLISH_FAILURE_TIMEOUT_S,u=this.getCurrentBroadcastTime()>t,v=c('XLiveVideoCheckIsPublishedController').getURIBuilder().setFBID('broadcast_id',s).setBool('end_if_unpublished',u).getURI(),w=function(x,y){var z=c('LiveVideoBroadcastUIStore').getState().toObject(),aa=z.broadcastState;if(aa===k.FINISHED)return;var ba=x.payload;if(!ba.is_published)if(u){c('LiveVideoBroadcastActions').errorTimeOutWaitingForPublish('CLIENT')}else c('setTimeout')(function(){this.$LiveVideoBroadcastBroadcastStore17(y)}.bind(this),p);}.bind(this);new (c('AsyncRequest'))().setURI(v).setHandler(function(x){return w(x,false)}).setErrorHandler(function(x){return w(x,true)}).send()};q.prototype.$LiveVideoBroadcastBroadcastStore4=function(){var r=c('LiveVideoBroadcastIDStore').get('broadcastID'),s=this.get('targetID');if(!r||!s){c('setTimeout')(function(){return c('LiveVideoBroadcastActions').requestUFI()},p);return}var t=c('XLiveVideoInitCommentsController').getURIBuilder().setFBID('broadcast_id',r).setFBID('target_id',s),u=c('ActorURI').create(t.getURI(),this.get('actorID')),v=function w(x){var y=x.payload;if(!y.success){c('setTimeout')(function(){return c('LiveVideoBroadcastActions').requestUFI()},p);return}c('LiveVideoBroadcastActions').updateBroadcastUIConfig({feedbackID:y.feedbackID})};new (c('AsyncRequest'))().setURI(u).setHandler(v).setErrorHandler(v).send()};q.prototype.$LiveVideoBroadcastBroadcastStore5=function(){var r=c('LiveVideoBroadcastUIStore').getState().toObject(),s=r.inputSource;if(s!==n.CAMERA)this.$LiveVideoBroadcastBroadcastStore7();};q.prototype.finishBroadcast=function(){var r=c('LiveVideoBroadcastUIStore').getState().toObject(),s=r.inputSource;if(s!==n.CAMERA)return;var t=this.get('broadcastId')||'';c('setTimeout')(function(){return c('RTCCallActions').removeAllLocalStreams(true)},0);var u=c('XLiveVideoFinishBroadcastController').getURIBuilder().setFBID('broadcast_id',t),v=c('ActorURI').create(u.getURI(),this.get('actorID'));c('setTimeout')(function(){c('RTCMWProtocolHandler').endCall('LIVE:'+t,c('RTCCallStore').getState().callInfo.serverInfoData,c('FBRTCHangupReason').HANGUP_CALL,'User ending live stream');new (c('AsyncRequest'))().setURI(v).setHandler(function(){c('LiveVideoBroadcastActions').finishBroadcastSuccess()}).setErrorHandler(function(ba){return c('LiveVideoBroadcastActions').finishBroadcastSuccess()}).send()},1000*3);var w=this.get('recorder'),x=this.get('recordedChunks');if(w&&x){w.stop();var y=new Blob(x,{type:'video/webm'}),z=URL.createObjectURL(y),aa=document.createElement('a');if(document.body){document.body.appendChild(aa);aa.style.cssText='display: none';aa.href=z;aa.download='test.webm';aa.click();window.URL.revokeObjectURL(z)}}};q.prototype.$LiveVideoBroadcastBroadcastStore9=function(){var r=this.get('videoId');if(r)this.deleteVideo(r);};q.prototype.deleteVideo=function(r){new (c('AsyncRequest'))().setURI('/ajax/video/actions/delete/').setData({fbid:r,redirect:false}).setHandler(function(s){}).send()};q.prototype.checkPropsSaved=function(){if(!this.get('initialized'))throw new Error('Store must be initialized before any other broadcast actions');};q.prototype.prepareThumbnailUri=function(){var r=this.get('videoId')||'',s=c('XLiveVideoBroadcastReplayController').getURIBuilder().setFBID('video_id',r).getURI();new (c('AsyncRequest'))().setURI(s).setMethod('POST').setHandler(function(t){return c('LiveVideoBroadcastActions').setThumbnailUri(t.getPayload())}).send()};q.prototype.getCurrentBroadcastTime=function(){var r=this.get('broadcastStartTime');if(typeof r==='number')return Math.floor((Date.now()-r)/1000);return 0};function q(){h.apply(this,arguments)}f.exports=new q(c('LiveVideoBroadcastDispatcher'))}),null);
__d('LiveVideoBroadcastIDStore',['FluxDerivedStore','LiveVideoBroadcastAPIBroadcastStore','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastUIStore','LiveVideoBroadcastDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxDerivedStore'));i=h&&h.prototype;j.prototype.__getStores=function(){return [c('LiveVideoBroadcastAPIBroadcastStore'),c('LiveVideoBroadcastBroadcastStore'),c('LiveVideoBroadcastUIStore')]};j.prototype.__getData=function(k){var l=c('LiveVideoBroadcastUIStore').get('inputSource'),m=c('LiveVideoBroadcastAPIBroadcastStore').getState().toObject(),n=m.apiBroadcastID,o=m.apiVideoID,p=c('LiveVideoBroadcastBroadcastStore').getState().toObject();return {inputSource:l,apiBroadcastID:n,apiVideoID:o,cameraBroadcastID:p.broadcastId,cameraVideoID:p.videoId}};j.prototype.__computeResult=function(k,l){if(l.inputSource==='CAMERA')switch(k){case 'broadcastID':return l.cameraBroadcastID;case 'videoID':return l.cameraVideoID;}if(l.inputSource==='API')switch(k){case 'broadcastID':return l.apiBroadcastID;case 'videoID':return l.apiVideoID;}return null};function j(){h.apply(this,arguments)}f.exports=new j(c('LiveVideoBroadcastDispatcher'))}),null);
__d("XLiveVideoBroadcastMaybeLaunchEndScreenSurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/live\/broadcast\/end_screen_survey\/",{broadcast_id:{type:"FBID",required:true}})}),null);
__d('LiveVideoBroadcastUIStore',['fbt','AsyncRequest','ReactComposerActions','ErrorDialog','FluxMapStore','immutable','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastConstants','LiveVideoBroadcastDispatcher','XLiveVideoBroadcastMaybeLaunchEndScreenSurveyController'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('LiveVideoBroadcastConstants').ACTIONS,l=c('LiveVideoBroadcastConstants').BROADCAST_STATE,m=c('LiveVideoBroadcastConstants').CAMERA_STATE,n=c('LiveVideoBroadcastConstants').INPUT_SOURCE;i=babelHelpers.inherits(o,c('FluxMapStore'));j=i&&i.prototype;o.prototype.getInitialState=function(){return c('immutable').Map({broadcastCouldNotStart:false,broadcastCouldNotPublish:false,broadcastState:l.PREVIEW,cameraState:m.CHECK_CAMERA_ACCESS,canSeeCopyrightOption:false,canSeeDisturbingOptions:false,countdownTime:null,connectionBroken:false,connectionFailed:false,dialog:null,dialogContainerID:null,composerConfig:null,isOnline:true,showNUX:false,showReplay:false,startTime:0,wasEverOffline:false,ufiMarkup:null,ufiScrollArea:null,isDescriptionExpanded:false,warnOnExit:true,tagList:null,peopleTaggerSource:null,inputSource:n.CAMERA,isScheduledLiveRequestPending:false,sponsorEnabled:false,sponsorConfig:null,isDialogLoading:false})};o.prototype.reduce=function(p,q){switch(q.type){case k.SHOW_REPLAY:p=p.set('showReplay',true);break;case k.UPDATE_CAMERA_STATE:p=p.set('cameraState',q.value);break;case k.UPDATE_COUNTDOWN:p=p.set('countdownTime',q.value);break;case k.FINISH_COUNT_DOWN:p=p.set('startTime',Date.now());p=p.set('broadcastState',l.READY_TO_LIVE);p=p.set('countdownTime',null);break;case k.API_GO_LIVE_CLICKED:p=p.set('startTime',Date.now());break;case k.START_BROADCAST_SUCCESS:p=p.set('broadcastState',l.LIVE);p=p.set('countdownTime',null);break;case k.START_LIVE_COUNTDOWN:p=p.set('countdownTime',c('LiveVideoBroadcastConstants').COUNTDOWN_START_TIME);break;case k.CANCEL_LIVE_COUNTDOWN:p=p.set('countdownTime',null);break;case k.FINISH_BROADCAST_REQUEST:p=p.set('broadcastState',l.FINISHING);break;case k.FINISH_BROADCAST_SUCCESS:p=p.set('broadcastState',l.FINISHED);p=p.set('showReplay',true);var r=c('LiveVideoBroadcastBroadcastStore').get('broadcastId'),s=c('XLiveVideoBroadcastMaybeLaunchEndScreenSurveyController').getURIBuilder().setFBID('broadcast_id',r).getURI();new (c('AsyncRequest'))().setURI(s).setMethod('GET').setReadOnly(true).send();break;case k.API_BROADCAST_STOPPED:p=p.set('broadcastState',l.FINISHED);p=p.set('showReplay',true);break;case k.ERROR_CONNECTION_BROKEN:p=p.set('connectionBroken',true);break;case k.ERROR_CONNECTION_FAILED:p=p.set('connectionFailed',true);break;case k.WEBRTC_CONNECTION_ESTABLISHED:p=p.set('connectionBroken',false);break;case k.ERROR_BROADCAST_COULD_NOT_START:p=p.set('broadcastCouldNotStart',true);break;case k.ERROR_BROADCAST_PUBLISH_FAIL:case k.ERROR_TIME_OUT_WAITING_FOR_PUBLISH:case k.ERROR_MWS_BAD_AUDIO_OR_VIDEO_DATA:case k.ERROR_RTC_CLIENT_ERROR:case k.ERROR_TRACK_ENDED:p=p.set('broadcastCouldNotPublish',true);p=p.set('broadcastState',l.FINISHED);break;case k.ACCEPT_ERROR_BROADCAST_COULD_NOT_START:p=p.set('broadcastCouldNotStart',false);break;case k.NETWORK_OFFLINE:p=p.set('isOnline',false);p=p.set('wasEverOffline',true);break;case k.NETWORK_ONLINE:p=p.set('isOnline',true);break;case k.SET_SHOW_NUX:p=p.set('showNUX',q.value);break;case k.SET_UFI_MARKUP:p=p.set('ufiMarkup',q.value);break;case k.SET_DIALOG:p=p.set('dialog',q.value);break;case k.SET_DIALOG_CONTAINER_ID:p=p.set('dialogContainerID',q.value);break;case k.SET_COMPOSER_CONFIG:p=p.set('composerConfig',q.value);break;case k.SET_UFI_SCROLL_AREA:p=p.set('ufiScrollArea',q.value);break;case k.SET_DESCRIPTION_EXPANDED:p=p.set('isDescriptionExpanded',q.value);break;case k.CLEANUP:p=p.set('warnOnExit',false);this.$LiveVideoBroadcastUIStore1();break;case k.SCHEDULED_LIVE_SUCCESS:p=p.set('warnOnExit',false);p=p.set('isScheduledLiveRequestPending',false);this.$LiveVideoBroadcastUIStore1();break;case k.PREPARE_BROADCAST_FOR_SCHEDULED_LIVE:case k.SCHEDULED_LIVE_REQUEST:p=p.set('isScheduledLiveRequestPending',true);break;case k.SCHEDULED_LIVE_FAIL:p=p.set('isScheduledLiveRequestPending',false);this.$LiveVideoBroadcastUIStore2();break;case k.INITIALIZE:p=this.getInitialState();p=p.set('dialog',this.get('dialog'));p=p.set('composerConfig',this.get('composerConfig'));p=p.set('peopleTaggerSource',this.get('peopleTaggerSource'));p=p.set('inputSource',this.get('inputSource'));p=p.set('isDialogLoading',false);break;case k.SET_DESCRIPTION:p=p.set('description',q.value.description);p=p.set('shortDescription',q.value.shortDescription);break;case k.SET_TAG_LIST:p=p.set('tagList',q.value);break;case k.SET_PRIVACY_SELECTOR:p=p.set('privacySelector',q.value);break;case k.SET_PEOPLE_TAGGER_SOURCE:p=p.set('peopleTaggerSource',q.value);break;case k.SET_TARGET:case k.CLEAR_BROADCAST_ID:p=p.set('composerPrivacySelector',null);p=p.set('profilePicUri',null);p=p.set('sponsorEnabled',false);p=p.set('targetingEnabled',false);break;case k.UPDATE_UI_CONFIG:if(q.values.encoders)p=p.set('encoders',q.values.encoders);if(q.values.composerPrivacySelector)p=p.set('composerPrivacySelector',q.values.composerPrivacySelector);if(q.values.shareMode)p=p.set('shareMode',q.values.shareMode);if(q.values.description)p=p.set('description',q.values.description);if(q.values.shortDescription)p=p.set('shortDescription',q.values.shortDescription);if(q.values.showNUX)p=p.set('showNUX',q.values.showNUX);if(q.values.tagList)p=p.set('tagList',q.values.tagList);if(q.values.privacySelector)p=p.set('privacySelector',q.values.privacySelector);if(q.values.profileLink)p=p.set('profileLink',q.values.profileLink);if(q.values.broadcasterName)p=p.set('broadcasterName',q.values.broadcasterName);if(q.values.gks&&!this.get('gks'))p=p.set('gks',q.values.gks);if(q.values.targetSelectorProps)p=p.set('targetSelectorProps',q.values.targetSelectorProps);if(q.values.profilePicUri)p=p.set('profilePicUri',q.values.profilePicUri);if(q.values.accessToken)p=p.set('accessToken',q.values.accessToken);if(q.values.timezoneString)p=p.set('timezoneString',q.values.timezoneString);if(q.values.cameraEmbedHTML!==undefined)p=p.set('cameraEmbedHTML',q.values.cameraEmbedHTML);if(q.values.targetingEnabled!==undefined)p=p.set('targetingEnabled',q.values.targetingEnabled);if(q.values.canSeeDisturbingOptions!==undefined)p=p.set('canSeeDisturbingOptions',q.values.canSeeDisturbingOptions);if(q.values.sponsorEnabled!==undefined)p=p.set('sponsorEnabled',q.values.sponsorEnabled);if(q.values.sponsorConfig)p=p.set('sponsorConfig',q.values.sponsorConfig);if(q.values.canSeeCopyrightOption!==undefined)p=p.set('canSeeCopyrightOption',q.values.canSeeCopyrightOption);break;case k.SET_INPUT_SOURCE:p=p.set('inputSource',q.source);break;case k.SET_DIALOG_LOADING:p=p.set('isDialogLoading',q.value);break;default:break;}return p};o.prototype.$LiveVideoBroadcastUIStore2=function(){c('ErrorDialog').show(h._("Broadcast error"),h._("Error scheduling broadcast, please try again"))};o.prototype.$LiveVideoBroadcastUIStore1=function(){var p=this.get('dialog');if(p){p.destroy()}else window.close();var q=this.get('composerConfig'),r=q&&q.composerID;if(r)c('ReactComposerActions').reset(r);};function o(){i.apply(this,arguments)}f.exports=new o(c('LiveVideoBroadcastDispatcher'))}),null);
__d('LiveVideoBroadcastAPIActions',['LiveVideoBroadcastDispatcher'],(function a(b,c,d,e,f,g){var h={deleteAPIReplayVideo:function i(){var j={type:'DELETE_API_REPLAY_VIDEO'};c('LiveVideoBroadcastDispatcher').dispatch(j)},apiBroadcastStopped:function i(){var j={type:'API_BROADCAST_STOPPED'};c('LiveVideoBroadcastDispatcher').dispatch(j)},apiGoLiveClicked:function i(){var j={type:'API_GO_LIVE_CLICKED'};c('LiveVideoBroadcastDispatcher').dispatch(j)},setIs360Video:function i(j){var k={type:'SET_IS_360_VIDEO',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)},setIs360Audio:function i(j){var k={type:'SET_IS_360_AUDIO',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)},setEmbeddable:function i(j){var k={type:'SET_EMBEDDABLE',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)},setShouldExpireAfterGoLive:function i(j){var k={type:'SET_SHOULD_EXPIRE_AFTER_GO_LIVE',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)},setContinuous:function i(j){var k={type:'SET_CONTINUOUS',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)},setShouldShowGraphicContentWarning:function i(j){var k={type:'SET_SHOULD_SHOW_GRAPHIC_CONTENT_WARNING',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)},setCopyrighted:function i(j){var k={type:'SET_COPYRIGHTED',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)},setCopyrightMonitoringType:function i(j){var k={type:'SET_COPYRIGHT_MONITORING_TYPE',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)},setCopyrightOwnershipCountries:function i(j,k){var l={type:'SET_COPYRIGHT_OWNERSHIP_COUNTRIES',ownershipCountries:j,areCountriesIncluded:k};c('LiveVideoBroadcastDispatcher').dispatch(l)},setCopyrightRuleID:function i(j){var k={type:'SET_COPYRIGHT_RULE_ID',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)},updateCopyrightWhitelistedPartners:function i(j){var k={type:'UPDATE_COPYRIGHT_WHITELISTED_PARTNERS',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k)}};f.exports=h}),null);
__d('LiveVideoBroadcastAPIGoLiveButton.react',['ix','cx','fbt','ActorURI','AsyncRequest','ComposerVideoPostUtils','ContextualDialogArrow','ErrorDialog','Image.react','LiveVideoBroadcastActions','LiveVideoBroadcastAPIActions','LiveVideoBroadcastCopyrightUtils','LiveVideoBroadcastStatusUpdateSubscriptionHack','LiveVideoBroadcastUtils','PopoverMenu.react','React','ReactComposerStatusStore','ReactDOM','ScheduleLiveVideoDialog.react','ShareModeConst','VideoBroadcastStatus','VideoCopyrightAPI','XUIButton.react','ReactXUIMenu','XLiveVideoUpdateBroadcastController','expectationViolation','fbglyph','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('ReactXUIMenu').Item;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$LiveVideoBroadcastAPIGoLiveButton5=function(t,u,v){var w=function(){if(!this.props.actorID){c('expectationViolation')('cannot start broadcast without an actorID');return}c('LiveVideoBroadcastActions').scheduledLiveRequest(this.props.actorID,this.props.apiBroadcastID,t,u,v)}.bind(this);c('LiveVideoBroadcastActions').prepareBroadcastForScheduledLive();this.$LiveVideoBroadcastAPIGoLiveButton6({video_broadcast_status:c('VideoBroadcastStatus').SCHEDULED_PREVIEW},w,c('LiveVideoBroadcastActions').scheduledLiveFail)}.bind(this),this.$LiveVideoBroadcastAPIGoLiveButton1=function(){var t=c('ReactComposerStatusStore').getEditorState(this.props.composerConfig.contextConfig.composerID),u=t?t.getCurrentContent().getPlainText():'',v=c('React').createElement(c('ScheduleLiveVideoDialog.react'),{broadcastID:this.props.apiBroadcastID,description:u,isPageTarget:this.props.shareMode===c('ShareModeConst').PAGE,targetID:this.props.targetID,timezoneStr:this.props.timezoneString?this.props.timezoneString:'',onSubmit:this.$LiveVideoBroadcastAPIGoLiveButton5});v=c('ReactDOM').render(v,c('ReactDOM').findDOMNode(this.refs.scheduleDialogPlaceholder));if(v.show instanceof Function)v.show();}.bind(this),this.$LiveVideoBroadcastAPIGoLiveButton4=function(){c('LiveVideoBroadcastAPIActions').apiGoLiveClicked();c('LiveVideoBroadcastStatusUpdateSubscriptionHack').subscribe(this.props.apiVideoID,function(t){var u=t.live_video_broadcast_status_update_subscribe,v=u.video_broadcast_status;if(v===c('VideoBroadcastStatus').LIVE_STOPPED)c('LiveVideoBroadcastAPIActions').apiBroadcastStopped();});c('LiveVideoBroadcastCopyrightUtils').subscribeToCopyrightEvents(this.props.apiBroadcastID);this.$LiveVideoBroadcastAPIGoLiveButton6({video_broadcast_status:c('VideoBroadcastStatus').LIVE},c('LiveVideoBroadcastActions').startLiveBroadcastSuccess,this.$LiveVideoBroadcastAPIGoLiveButton7)}.bind(this),p}n.prototype.render=function(){var o=c('React').createElement(c('ReactXUIMenu'),null,c('React').createElement(m,{onclick:this.$LiveVideoBroadcastAPIGoLiveButton1},j._("Schedule Live..."))),p=c('React').createElement(c('PopoverMenu.react'),{alignh:'right',alignv:'middle',disabled:false,layerBehaviors:[c('ContextualDialogArrow')],menu:o,position:'above'},c('React').createElement(c('XUIButton.react'),{className:"_42ss _3s83",disabled:this.$LiveVideoBroadcastAPIGoLiveButton2(),imageRight:c('React').createElement(c('Image.react'),{src:h("115693")}),label:j._("Open"),labelIsHidden:true,use:'confirm'}));return c('React').createElement('div',null,c('React').createElement('div',{ref:'scheduleDialogPlaceholder'}),c('React').createElement('div',{className:"_eg3"},c('React').createElement(c('XUIButton.react'),{className:"_227w _3s84",disabled:this.$LiveVideoBroadcastAPIGoLiveButton3(),label:j._("Go Live"),use:'confirm',onClick:this.$LiveVideoBroadcastAPIGoLiveButton4}),p))};n.prototype.$LiveVideoBroadcastAPIGoLiveButton3=function(){return !this.props.apiLivePreviewPlaying||!this.props.apiBroadcastID||!this.props.actorID||this.props.isScheduledLiveRequestPending};n.prototype.$LiveVideoBroadcastAPIGoLiveButton2=function(){return !this.props.apiBroadcastID||!this.props.actorID||this.props.isScheduledLiveRequestPending};n.prototype.$LiveVideoBroadcastAPIGoLiveButton6=function(o,p,q){var r={};if(this.props.metadataConfig.selectedAttributionTag){var s=c('ComposerVideoPostUtils').getAttributionTagID(this.props.metadataConfig.selectedAttributionTag);r=babelHelpers['extends']({},r,{app_attribution_tag:s})}if(this.props.metadataConfig.videoTitle)r=babelHelpers['extends']({},r,{title:this.props.metadataConfig.videoTitle});if(this.props.metadataConfig.contentTags){var t=this.props.metadataConfig.contentTags.map(function(w){return w.getUniqueID()});r=babelHelpers['extends']({},r,{content_tags:t})}var u=c('LiveVideoBroadcastUtils').getComposerFormData(this.props.composerConfig.contextConfig.composerID,this.props.composerConfig.config.targetData.targetID,this.props.composerConfig.config.contextInfo),v=c('XLiveVideoUpdateBroadcastController').getURIBuilder().getURI();if(!this.props.actorID){c('expectationViolation')('cannot start broadcast without an actorID');return}v=c('ActorURI').create(v,this.props.actorID);if(!this.props.isCopyrighted){this.$LiveVideoBroadcastAPIGoLiveButton8(v,o,u,r,p,q)}else c('VideoCopyrightAPI').copyrightVideo(this.props.accessToken,c('nullthrows')(this.props.targetID),this.props.apiVideoID,this.props.copyrightData,'live_video_composer').done(function(w){this.$LiveVideoBroadcastAPIGoLiveButton8(v,o,u,r,p,q)}.bind(this),function(w){this.$LiveVideoBroadcastAPIGoLiveButton7(w.error_user_msg)}.bind(this));};n.prototype.$LiveVideoBroadcastAPIGoLiveButton7=function(o){c('ErrorDialog').show(j._("Broadcast error"),o?o:j._("Error starting broadcast, please try again"))};n.prototype.$LiveVideoBroadcastAPIGoLiveButton8=function(o,p,q,r,s,t){new (c('AsyncRequest'))(o).setData(babelHelpers['extends']({broadcast_id:this.props.apiBroadcastID,video_broadcast_status:c('VideoBroadcastStatus').LIVE,is_continuous:this.props.isContinuous,is_embeddable:this.props.isEmbeddable,should_expire_after_live:this.props.shouldExpireAfterGoLive,should_show_graphic_content_warning:this.props.shouldShowGraphicContentWarning},p,q,r)).setHandler(s).setErrorHandler(t).send()};f.exports=n}),null);
__d("XLiveVideoBroadcastMetadataInputController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/metadata_input\/",{})}),null);
__d('LiveVideoBroadcastMetadataInputStore',['LiveVideoBroadcastConstants','AsyncRequest','FluxMapStore','immutable','LiveVideoBroadcastActions','LiveVideoBroadcastDispatcher','SearchableEntry','StaticSearchSource','XLiveVideoBroadcastMetadataInputController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LiveVideoBroadcastConstants').ACTIONS;h=babelHelpers.inherits(k,c('FluxMapStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return c('immutable').Map({attributionTagSearchSource:null,contentTags:[],selectedAttributionTag:null,videoTitle:null})};k.prototype.reduce=function(l,m){switch(m.type){case j.SET_INPUT_SOURCE:if(m.source==='API')this.$LiveVideoBroadcastMetadataInputStore1();break;case j.SET_ATTRIBUTION_TAGS:l=this.$LiveVideoBroadcastMetadataInputStore2(l,m.value);break;case j.SET_CONTENT_TAGS:l=l.set('contentTags',m.value);break;case j.SET_SELECTED_ATTRIBUTION_TAG:l=l.set('selectedAttributionTag',m.value);break;case j.SET_VIDEO_TITLE:l=l.set('videoTitle',m.value);break;case j.INITIALIZE:l=l.set('contentTags',[]);l=l.set('selectedAttributionTag',null);l=l.set('videoTitle',null);break;}return l};k.prototype.$LiveVideoBroadcastMetadataInputStore1=function(){var l=c('XLiveVideoBroadcastMetadataInputController').getURIBuilder().getURI();new (c('AsyncRequest'))(l).setHandler(function(m){if(m.payload.attributionTags)c('LiveVideoBroadcastActions').setAttributionTags(m.payload.attributionTags);}).send()};k.prototype.$LiveVideoBroadcastMetadataInputStore2=function(l,m){var n=new (c('StaticSearchSource'))(m.map(function(o){return new (c('SearchableEntry'))({uniqueID:o.id,title:o.name})}));l=l.set('attributionTagSearchSource',n);return l};function k(){h.apply(this,arguments)}f.exports=new k(c('LiveVideoBroadcastDispatcher'))}),null);
__d('LiveVideoBroadcastAPIGoLiveButtonContainer.react',['FluxContainer','LiveVideoBroadcastAPIGoLiveButton.react','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastMetadataInputStore','LiveVideoBroadcastUIStore','LiveVideoBroadcastAPIBroadcastStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('LiveVideoBroadcastUIStore'),c('LiveVideoBroadcastAPIBroadcastStore'),c('LiveVideoBroadcastMetadataInputStore'),c('LiveVideoBroadcastBroadcastStore')]};j.calculateState=function(){var k=c('LiveVideoBroadcastUIStore').getState().toObject(),l=k.accessToken,m=k.composerConfig,n=k.gks,o=k.isScheduledLiveRequestPending,p=k.shareMode,q=k.timezoneString,r=c('LiveVideoBroadcastMetadataInputStore').getState().toObject(),s=c('LiveVideoBroadcastAPIBroadcastStore').getState().toObject(),t=s.apiBroadcastID,u=s.apiLivePreviewPlaying,v=s.apiVideoID,w=s.areCountriesIncluded,x=s.copyrightMonitoringType,y=s.copyrightRuleID,z=s.copyrightWhitelistedPartners,aa=s.isCopyrighted,ba=s.isContinuous,ca=s.isEmbeddable,da=s.ownershipCountries,ea=s.shouldExpireAfterGoLive,fa=s.shouldShowGraphicContentWarning,ga=c('LiveVideoBroadcastBroadcastStore').getState().toObject(),ha=ga.actorID,ia=ga.targetID,ja={copyrightMonitoringType:x,copyrightRuleID:y,copyrightWhitelistedPartners:z,areCopyrightCountriesIncluded:w,copyrightOwnershipCountries:da};return {accessToken:l,actorID:ha,composerConfig:m,copyrightData:ja,apiBroadcastID:t,apiLivePreviewPlaying:u,apiVideoID:v,isEmbeddable:ca,metadataConfig:r,isCopyrighted:aa,isScheduledLiveRequestPending:o,shareMode:p,shouldExpireAfterGoLive:ea,shouldShowGraphicContentWarning:fa,isContinuous:ba,targetID:ia,timezoneString:q}};j.prototype.render=function(){return c('React').createElement(c('LiveVideoBroadcastAPIGoLiveButton.react'),{accessToken:this.state.accessToken,actorID:this.state.actorID,apiBroadcastID:this.state.apiBroadcastID,apiLivePreviewPlaying:this.state.apiLivePreviewPlaying,apiVideoID:this.state.apiVideoID,composerConfig:this.state.composerConfig,copyrightData:this.state.copyrightData,isContinuous:this.state.isContinuous,isCopyrighted:this.state.isCopyrighted,isEmbeddable:this.state.isEmbeddable,isScheduledLiveRequestPending:this.state.isScheduledLiveRequestPending,metadataConfig:this.state.metadataConfig,shareMode:this.state.shareMode,shouldExpireAfterGoLive:this.state.shouldExpireAfterGoLive,shouldShowGraphicContentWarning:this.state.shouldShowGraphicContentWarning,targetID:this.state.targetID,timezoneString:this.state.timezoneString})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j)}),null);
__d('LiveVideoBroadcastAPIToggle.react',['ix','cx','fbt','Image.react','LiveVideoBroadcastActions','LiveVideoBroadcastConstants','React','XUIButton.react','XUIButtonGroup.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('LiveVideoBroadcastConstants').INPUT_SOURCE;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;n.prototype.$LiveVideoBroadcastAPIToggle1=function(){c('LiveVideoBroadcastActions').setInputSource(m.CAMERA)};n.prototype.$LiveVideoBroadcastAPIToggle2=function(){c('LiveVideoBroadcastActions').setInputSource(m.API)};n.prototype.render=function(){return c('React').createElement('div',{className:"_jzb"},c('React').createElement(c('XUIButtonGroup.react'),null,c('React').createElement(c('XUIButton.react'),{className:"_jzh"+(' '+"_jzi")+(this.props.inputSource===m.CAMERA?' '+"_jzj":'')+(this.props.inputSource!==m.CAMERA?' '+"_jzk":''),disabled:this.props.inputSource===m.CAMERA,image:c('React').createElement(c('Image.react'),{src:h("114514")}),label:j._("Camera"),size:'xlarge',onClick:this.$LiveVideoBroadcastAPIToggle1}),c('React').createElement(c('XUIButton.react'),{className:"_jzh"+(' '+"_jzl")+(this.props.inputSource===m.API?' '+"_jzj":'')+(this.props.inputSource!==m.API?' '+"_jzk":''),disabled:this.props.inputSource===m.API,image:c('React').createElement(c('Image.react'),{src:h("115012")}),label:j._("External Device"),size:'xlarge',onClick:this.$LiveVideoBroadcastAPIToggle2})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d('LiveVideoBroadcastAPIToggleContainer.react',['FluxContainer','LiveVideoBroadcastAPIToggle.react','LiveVideoBroadcastUIStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('LiveVideoBroadcastUIStore')]};j.calculateState=function(){var k=c('LiveVideoBroadcastUIStore').getState().toObject(),l=k.countdownTime,m=k.inputSource;return {shouldShow:!l,inputSource:m}};j.prototype.render=function(){if(!this.state.shouldShow)return null;return c('React').createElement(c('LiveVideoBroadcastAPIToggle.react'),{inputSource:this.state.inputSource})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j)}),null);
__d('LiveVideoBroadcastVolumeMeter.react',['cx','fbt','React','RTCSettingsAudioInputPreview.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=i._("No microphone"),n=this.props.className?this.props.className:"_10e4",o=this.props.fillStyle?this.props.fillStyle:'rgb(198, 217, 255)',p=this.props.height?this.props.height:48,q=this.props.width?this.props.width:200;return c('React').createElement('div',{className:"_10e2"},c('React').createElement(c('RTCSettingsAudioInputPreview.react'),{className:n,fillStyle:o,gain:4.5,height:p,mediaStream:this.props.mediaStream,noMicMessage:m,width:q}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoBroadcastVolumeMeterContainer.react',['FluxContainer','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastDispatcher','LiveVideoBroadcastVolumeMeter.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);c('LiveVideoBroadcastDispatcher').explicitlyRegisterStores([c('LiveVideoBroadcastBroadcastStore')]);this.state={mediaStream:null}}j.getStores=function(){return [c('LiveVideoBroadcastBroadcastStore')]};j.calculateState=function(){var k=c('LiveVideoBroadcastBroadcastStore').getState().toObject(),l=k.mediaStream;return {mediaStream:l}};j.prototype.render=function(){return c('React').createElement(c('LiveVideoBroadcastVolumeMeter.react'),{className:this.props.className,fillStyle:this.props.fillStyle,height:this.props.height,mediaStream:this.state.mediaStream,width:this.props.width})};f.exports=c('FluxContainer').create(j)}),null);
__d('LiveVideoBroadcastCameraSettings.react',['ix','cssVar','cx','fbt','Image.react','LiveVideoBroadcastActions','React','RTCSettingsMediaDeviceSelector.react','LiveVideoBroadcastVolumeMeterContainer.react','XUIRadioList.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('XUIRadioList.react').Item;l=babelHelpers.inherits(o,c('React').PureComponent);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$LiveVideoBroadcastCameraSettings1=function(u){this.$LiveVideoBroadcastCameraSettings2(u,this.props.audioInput,this.props.videoInput)}.bind(this),this.$LiveVideoBroadcastCameraSettings3=function(u){var v=u.value;this.$LiveVideoBroadcastCameraSettings2(this.props.selectedVideoInputSource,this.props.audioInput,v)}.bind(this),this.$LiveVideoBroadcastCameraSettings4=function(u){var v=u.value;this.$LiveVideoBroadcastCameraSettings2(this.props.selectedVideoInputSource,v,this.props.videoInput)}.bind(this),q}o.prototype.$LiveVideoBroadcastCameraSettings2=function(p,q,r){switch(p){case 'SCREEN':c('LiveVideoBroadcastActions').getScreenStreamUrlRequest({audioInput:q});break;case 'CAMERA':c('LiveVideoBroadcastActions').getWebcamStreamUrlRequest({audioInput:q,videoInput:r});break;}};o.prototype.render=function(){return c('React').createElement('div',{className:"_60n3"},this.$LiveVideoBroadcastCameraSettings5(),this.$LiveVideoBroadcastCameraSettings6())};o.prototype.$LiveVideoBroadcastCameraSettings5=function(){var p=this.props,q=p.showScreenSharingOption,r=p.selectedVideoInputSource,s=q?c('React').createElement('div',{className:"_1zfz"},c('React').createElement(c('XUIText.react'),{size:'small',weight:'bold'},k._("Video Input"))):null,t="_60n1"+(q?' '+"_1zf-":''),u=c('React').createElement('div',{className:t},c('React').createElement(c('Image.react'),{src:h("122523")})),v=this.props.videoInputs&&this.props.videoInputs.length>0&&this.props.videoInput?c('React').createElement(c('RTCSettingsMediaDeviceSelector.react'),{defaultValue:this.props.videoInput,devices:this.props.videoInputs,disabled:q&&r==='SCREEN',height:28,maxwidth:160,size:'large',onChange:this.$LiveVideoBroadcastCameraSettings3}):null,w=c('React').createElement('div',{className:q?"_1zf_":"_60n4"},u,v),x=w,y=null;if(q){y=c('React').createElement('div',{className:"_1zf_"},c('React').createElement('div',{className:t},c('React').createElement(c('Image.react'),{src:h("122802")})),c('React').createElement(c('XUIText.react'),null,k._("Share Screen")));x=c('React').createElement(c('XUIRadioList.react'),{selectedValue:r,onValueChange:this.$LiveVideoBroadcastCameraSettings1},c('React').createElement(n,{centered:true,className:"_1zg0",value:'CAMERA'},w),c('React').createElement(n,{centered:true,className:"_1zg0",value:'SCREEN'},y))}return c('React').createElement('div',null,s,x)};o.prototype.$LiveVideoBroadcastCameraSettings6=function(){var p=this.props.showScreenSharingOption?c('React').createElement('div',{className:"_1zg1"},c('React').createElement(c('XUIText.react'),{size:'small',weight:'bold'},k._("Audio Input"))):null,q=c('React').createElement('div',{className:"_60n2"},c('React').createElement(c('Image.react'),{src:h("123250")})),r=this.props.audioInputs&&this.props.audioInputs.length>0?c('React').createElement(c('RTCSettingsMediaDeviceSelector.react'),{defaultValue:this.props.audioInput,devices:this.props.audioInputs,height:28,maxwidth:160,size:'large',onChange:this.$LiveVideoBroadcastCameraSettings4}):null,s=c('React').createElement('div',{className:"_60m_"},c('React').createElement(c('LiveVideoBroadcastVolumeMeterContainer.react'),{className:"_60n0",fillStyle:"#4080ff",height:28,width:82}));return c('React').createElement('div',null,p,c('React').createElement('div',{className:"_60n5"},c('React').createElement('div',{className:"_60n6"},q,r),s))};f.exports=o}),null);
__d('LiveVideoBroadcastCameraSettingsContainer.react',['FluxContainer','LiveVideoBroadcastCameraSettings.react','React','RTCGroupCallDispatcher','RTCMediaDevicesStore','RTCUserSettingsStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state=j.calculateState(),l}j.prototype.componentDidMount=function(){c('RTCGroupCallDispatcher').explicitlyRegisterStores([c('RTCMediaDevicesStore'),c('RTCUserSettingsStore')])};j.getStores=function(){return [c('RTCMediaDevicesStore'),c('RTCUserSettingsStore')]};j.calculateState=function(){var k=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],l=c('RTCMediaDevicesStore').getState();if(l==null)return {audioInput:null,audioInputs:[],videoInput:null,videoInputs:[]};var m=c('RTCUserSettingsStore').getState(),n=m.audioInput,o=m.videoInput;return {audioInput:n,audioInputs:l.filter(function(p){return p.kind==='audioinput'}),videoInput:o,videoInputs:l.filter(function(p){return p.kind==='videoinput'})}};j.prototype.render=function(){return c('React').createElement(c('LiveVideoBroadcastCameraSettings.react'),babelHelpers['extends']({selectedVideoInputSource:this.props.selectedVideoInputSource,showScreenSharingOption:this.props.showScreenSharingOption},this.state))};f.exports=c('FluxContainer').create(j)}),null);
__d('LiveVideoBroadcastComposer.react',['ix','cx','fbt','BasicTypeaheadLoggerJSConstants','ReactComposerActivityTaggerButton.react','ReactComposerActivityTaggerContainer.react','ReactComposerAudienceSelectorContainer.react','ReactComposerLocationTaggerButton.react','ReactComposerLocationTaggerContainer.react','ReactComposerPagesPrivacyContainer.react','ReactComposerPeopleTaggerButton.react','ReactComposerPeopleTaggerContainer.react','ReactComposerSponsorTaggerButton.react','ReactComposerSponsorTaggerContainer.react','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerTaggerButtons.react','ReactComposerTaggers.react','ReactComposerTaggerSummaryContainer.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ReactComposerTargetingTaggerButton.react','ReactComposerTargetingTaggerContainer.react','ExternalWebShareDialogAudienceHeader.react','Image.react','PlaceSearchConstants','React','ShareDialogAudienceTypes','ShareModeConst','ReactComposerBody.react','Layout.react','ReactComposerProfilePhoto.react','FBLoadShimmer.react','XUICardSection.react','LeftRight.react','emptyFunction','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('BasicTypeaheadLoggerJSConstants').EventNames,n=c('Layout.react').Column,o=c('Layout.react').FillColumn;k=babelHelpers.inherits(p,c('React').PureComponent);l=k&&k.prototype;p.prototype.$LiveVideoBroadcastComposer1=function(){return this.props.config.taggersConfig.PEOPLE&&this.props.config.taggersConfig.PEOPLE.enabled&&this.props.shareMode!==c('ShareDialogAudienceTypes').PAGE};p.prototype.$LiveVideoBroadcastComposer2=function(){return this.props.config.taggersConfig.TARGETING&&this.props.config.taggersConfig.TARGETING.enabled};p.prototype.$LiveVideoBroadcastComposer3=function(){if(!this.props.enableTaggers)return null;var q=c('React').createElement(c('ReactComposerActivityTaggerButton.react'),null),r=this.$LiveVideoBroadcastComposer1()?c('React').createElement(c('ReactComposerPeopleTaggerButton.react'),{isMultiCompanyGroup:false}):null,s=c('React').createElement(c('ReactComposerLocationTaggerButton.react'),null),t=this.props.targetingEnabled?c('React').createElement(c('ReactComposerTargetingTaggerButton.react'),null):null,u=this.props.sponsorEnabled?c('React').createElement(c('ReactComposerSponsorTaggerButton.react'),null):null;return c('React').createElement(c('ReactComposerTaggerButtons.react'),null,r,q,s,t,u)};p.prototype.render=function(){var q=null,r=null,s=this.props.shareMode===c('ShareModeConst').GROUP?this.props.targetID:undefined,t=this.props.shareMode===c('ShareModeConst').PAGE?[this.props.targetID,this.props.actorID]:[undefined,undefined],u=t[0],v=t[1],w=this.props.targetSelectorProps!=null&&this.props.targetSelectorProps.contextConfig!=null&&this.props.shareMode!=null,x=this.props.showSurfaceSelector&&w?c('React').createElement(c('ExternalWebShareDialogAudienceHeader.react'),babelHelpers['extends']({},this.props.targetSelectorProps,{audience:this.props.shareMode,defaultGroupTargetID:s,defaultPageActorID:v,defaultPageTargetID:u,hidePagePostingAs:true,key:1,onAudienceSelect:this.props.onAudienceTypeChange,onChange:this.props.onAudienceTargetChange})):null;if(this.props.enableTaggers){var y=this.props.config.taggersConfig,z=y[c('ReactComposerTaggerType').OG],aa=c('React').createElement(c('ReactComposerActivityTaggerContainer.react'),{actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,actionTypeIDsToPrefetch:z?z.actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:z?z.actionTypeIDsWithNoFreeForm:{},actorID:this.props.contextConfig.actorID,isPersonalTimeline:false,layerPosition:'below',objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,placeID:undefined,rankVerbs:z?z.rankVerbs:null,typeaheadLoggerEventName:m.OGCOMPOSER_TAGGER}),ba=y[c('ReactComposerTaggerType').PEOPLE]?c('React').createElement(c('ReactComposerPeopleTaggerContainer.react'),{actorID:this.props.contextConfig.actorID,layerPosition:'below',placeholder:undefined,showEntriesOnFocus:false,taggerConfig:y[c('ReactComposerTaggerType').PEOPLE],taggerSource:this.props.peopleTaggerSource}):null,ca=y[c('ReactComposerTaggerType').LOCATION]?c('React').createElement(c('ReactComposerLocationTaggerContainer.react'),{implicitLocationEnabled:y[c('ReactComposerTaggerType').LOCATION].implicitLocationEnabled,layerPosition:'below',taggerConfig:y[c('ReactComposerTaggerType').LOCATION],taggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,typeaheadLoggerEventName:m.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:c('PlaceSearchConstants').SOURCE_W_COMPOSER}):null,da=this.props.config.defaultDemographicsConfig,ea=da?da.defaultDemographicsList:[],fa=ea.length>0?c('React').createElement(c('ReactComposerPagesPrivacyContainer.react'),{defaultDemographicsList:ea,key:'privacy_selector',targetingEnabled:false,useTargetingAsFilter:false}):null,ga=this.$LiveVideoBroadcastComposer2()?c('React').createElement(c('ReactComposerTargetingTaggerContainer.react'),null):null,ha=this.props.sponsorEnabled&&this.props.sponsorConfig?c('React').createElement(c('ReactComposerSponsorTaggerContainer.react'),{key:'sponsor_container',showDirectBoost:this.props.sponsorConfig.showSponsorTaggerDirectBoost,showDirectBoostNUX:this.props.sponsorConfig.showSponsorTaggerDirectBoostNUX,showSponsorRelationship:this.props.sponsorConfig.showSponsorTaggerSponsorRelationship,viewer:this.props.sponsorConfig.viewer}):null;r=c('React').createElement(c('ReactComposerTaggers.react'),null,aa,ba,ca,ga,ha);if(fa){q=fa}else if(this.props.composerPrivacySelector)q=c('React').createElement(c('ReactComposerAudienceSelectorContainer.react'),{audienceXHP:this.props.composerPrivacySelector,viewerIsTarget:this.props.config.targetData.viewerIsTarget});}var ia=this.props.profilePicUri?c('React').createElement(c('ReactComposerProfilePhoto.react'),{src:this.props.profilePicUri,onClick:c('emptyFunction')}):c('React').createElement(c('FBLoadShimmer.react'),{height:c('ReactComposerProfilePhoto.react').PROFILE_PIC_WIDTH,width:c('ReactComposerProfilePhoto.react').PROFILE_PIC_WIDTH}),ja=j._("Say something about this live video..."),ka=c('React').createElement('div',{className:"_36bx"+(' '+"_609t")+(this.props.forceNoLargeText?' '+"_1tp_":''),key:this.props.contextConfig.composerID},c('React').createElement(c('ReactComposerBody.react'),null,c('React').createElement(c('Layout.react'),null,c('React').createElement(n,{className:"_q-v"},ia),c('React').createElement(o,null,c('React').createElement(c('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react'),{className:(this.props.forceNoLargeText?"_1tq0":'')+(' '+"_609u")+(' '+"_1tqg"),config:this.props.config,placeholder:ja}))),c('React').createElement(c('ReactComposerTaggerSummaryContainer.react'),null),c('React').createElement('div',{className:"_1j2v"},r,c('React').createElement(c('XUICardSection.react'),{background:'white',className:"_2dck"},c('React').createElement(c('LeftRight.react'),null,this.$LiveVideoBroadcastComposer3(),c('React').createElement(c('XUICardSection.react'),{className:"_2ph-"},q,this.props.actionButton)))),this.props.showTriangle&&c('React').createElement(c('Image.react'),{className:"_609w",src:h("115698")})));return [x,ka]};function p(){k.apply(this,arguments)}p.defaultProps={showTriangle:true};f.exports=p}),null);
__d('LiveVideoBroadcastMetadataSection.react',['cx','fbt','LiveVideoBroadcastContentTagSelector.react','LiveVideoBroadcastGameSelector.react','LiveVideoBroadcastVideoTitleInput.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(m){'use strict';k.constructor.call(this,m);this.$LiveVideoBroadcastMetadataSection4=function(event){this.setState({title:event.target.value});this.props.onTitleChange&&this.props.onTitleChange(event)}.bind(this);this.state={title:this.props.title}}l.prototype.render=function(){'use strict';return c('React').createElement('div',null,this.$LiveVideoBroadcastMetadataSection1(),this.props.isPageTarget?this.$LiveVideoBroadcastMetadataSection2():null,this.props.shouldShowGameSelector?this.$LiveVideoBroadcastMetadataSection3():null)};l.prototype.$LiveVideoBroadcastMetadataSection1=function(){'use strict';return c('React').createElement(c('LiveVideoBroadcastVideoTitleInput.react'),{title:this.state.title,onChange:this.$LiveVideoBroadcastMetadataSection4})};l.prototype.$LiveVideoBroadcastMetadataSection2=function(){'use strict';var m=i._("Tags");return c('React').createElement('div',{className:"_2owm"},c('React').createElement(c('LiveVideoBroadcastContentTagSelector.react'),{accessToken:this.props.accessToken,contentTags:this.props.contentTags,shouldShowSelectorNUX:false,title:m,onContentTagChange:this.props.onContentTagChange}))};l.prototype.$LiveVideoBroadcastMetadataSection3=function(){'use strict';return c('React').createElement('div',{className:"_2pig"},c('React').createElement(c('LiveVideoBroadcastGameSelector.react'),{attributionTag:this.props.attributionTag,searchSource:this.props.searchSource,onAttributionTagChange:this.props.onAttributionTagChange}))};f.exports=l}),null);
__d('LiveVideoBroadcastMetadataSectionContainer.react',['cx','CurrentUser','FluxContainer','LiveVideoBroadcastActions','LiveVideoBroadcastMetadataInputStore','LiveVideoBroadcastMetadataSection.react','LiveVideoBroadcastUIStore','React','ShareDialogAudienceTypes'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.getStores=function(){return [c('LiveVideoBroadcastMetadataInputStore'),c('LiveVideoBroadcastUIStore')]};k.calculateState=function(l,m){var n=c('LiveVideoBroadcastMetadataInputStore').getState().toObject(),o=n.attributionTagSearchSource,p=c('LiveVideoBroadcastUIStore').getState().toObject(),q=p.accessToken,r=p.shareMode,s=r===c('ShareDialogAudienceTypes').PAGE;return {attributionTagSearchSource:o,accessToken:q,isPageTarget:s}};k.prototype.render=function(){return c('React').createElement('div',{className:"_21s8"},c('React').createElement(c('LiveVideoBroadcastMetadataSection.react'),{accessToken:this.state.accessToken,attributionTag:null,contentTags:[],isPageTarget:this.state.isPageTarget,searchSource:this.state.attributionTagSearchSource||{},shouldShowGameSelector:!!this.state.attributionTagSearchSource&&!c('CurrentUser').isWorkUser(),title:'',onAttributionTagChange:this.$LiveVideoBroadcastMetadataSectionContainer1,onContentTagChange:this.$LiveVideoBroadcastMetadataSectionContainer2,onTitleChange:this.$LiveVideoBroadcastMetadataSectionContainer3}))};k.prototype.$LiveVideoBroadcastMetadataSectionContainer1=function(event){c('LiveVideoBroadcastActions').setSelectedAttributionTag(event)};k.prototype.$LiveVideoBroadcastMetadataSectionContainer2=function(event){c('LiveVideoBroadcastActions').setContentTags(event)};k.prototype.$LiveVideoBroadcastMetadataSectionContainer3=function(event){c('LiveVideoBroadcastActions').setVideoTitle(event.target.value)};function k(){i.apply(this,arguments)}f.exports=c('FluxContainer').create(k)}),null);
__d('LiveVideoBroadcastComposerRHC.react',['ix','cx','fbt','ComposerVideoUploadSection.react','Image.react','InputLabel_DEPRECATED.react','InputLabelLabel_DEPRECATED.react','Link.react','LiveVideoBroadcastCameraSettingsContainer.react','LiveVideoBroadcastActions','LiveVideoBroadcastAPIActions','LiveVideoBroadcastAfterBootloadUtils','LiveVideoBroadcastComposer.react','LiveVideoBroadcastMetadataSectionContainer.react','React','ReactComposerLiveBroadcastPreviewEmbedDialog.react','ReactComposerLiveEncoderSelector.react','ShareDialogAudienceTypes','ShareModeConst','Tooltip.react','VideoCopyrightGeoSelector.react','VideoCopyrightMatchRuleSelector.react','VideoCopyrightMonitoringSelector.react','VideoCopyrightWhitelistSelector.react','XUIButton.react','XUICard.react','XUICheckboxInput.react','XUIPageNavigation.react','XUIPageNavigationGroup.react','XUIPageNavigationItem.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;function m(o){var p=j._("Learn more."),q=o.learnMoreLink?c('React').createElement(c('Link.react'),{href:'/help/828417127257368',target:'_blank'},p):null,r=o.tooltipText?c('React').createElement(c('Tooltip.react'),{alignH:'left',position:'above',tooltip:c('React').createElement('div',{className:"_3-7m"},o.tooltipText)},c('React').createElement(c('Image.react'),{className:"_5igb",src:h("124738")})):null;return c('React').createElement(c('InputLabel_DEPRECATED.react'),{className:"_4n2q"},c('React').createElement(c('XUICheckboxInput.react'),{checked:o.checked,onChange:o.onChange}),c('React').createElement(c('InputLabelLabel_DEPRECATED.react'),null,o.label,'\xa0',q,r))}k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$LiveVideoBroadcastComposerRHC3=function(p){this.$LiveVideoBroadcastComposerRHC4(p)}.bind(this);this.$LiveVideoBroadcastComposerRHC5=function(p){c('LiveVideoBroadcastActions').clearBroadcastID();c('LiveVideoBroadcastActions').clearAPIBroadcastID();if(p===c('ShareDialogAudienceTypes').OWN){var q={audience:p};this.$LiveVideoBroadcastComposerRHC4(q)}}.bind(this);this.$LiveVideoBroadcastComposerRHC6=function(p){this.setState({selectedTab:p})}.bind(this);this.$LiveVideoBroadcastComposerRHC7=function(){this.setState({showEmbedDialog:false})}.bind(this);this.$LiveVideoBroadcastComposerRHC8=function(){this.setState({showEmbedDialog:true})}.bind(this);this.state={selectedTab:'post',showEmbedDialog:false}}n.prototype.$LiveVideoBroadcastComposerRHC4=function(o){var p=c('LiveVideoBroadcastAfterBootloadUtils').getIDsFromTarget(o,this.props.accountID),q=p.actorID,r=p.targetID;if(q!==this.props.actorID||r!==this.props.targetID)c('LiveVideoBroadcastActions').setTarget(o);};n.prototype.$LiveVideoBroadcastComposerRHC9=function(){if(!this.state.showEmbedDialog||!this.props.embedHTML)return null;return c('React').createElement(c('ReactComposerLiveBroadcastPreviewEmbedDialog.react'),{accessToken:'',broadcastID:'',embeddedHtml:this.props.embedHTML,shown:this.state.showEmbedDialog,onToggle:this.$LiveVideoBroadcastComposerRHC7})};n.prototype.render=function(){var o=this.props.shareMode===c('ShareModeConst').PAGE?c('React').createElement(c('XUIButton.react'),{className:"_2ip6",image:c('React').createElement(c('Image.react'),{src:h("129069")}),label:'',labelIsHidden:true,use:'default',onClick:this.$LiveVideoBroadcastComposerRHC8}):null,p=c('React').createElement('div',{className:"_609-"},o,this.props.actionButton),q=null;switch(this.state.selectedTab){case 'post':q=this.$LiveVideoBroadcastComposerRHC10();break;case 'settings':q=this.$LiveVideoBroadcastComposerRHC11();break;case 'monetization':q=this.$LiveVideoBroadcastComposerRHC12();break;}return c('React').createElement('div',{className:"_609_"},this.$LiveVideoBroadcastComposerRHC13(),c('React').createElement('div',{className:"_22fx"},q),p,this.$LiveVideoBroadcastComposerRHC9())};n.prototype.$LiveVideoBroadcastComposerRHC13=function(){if(!this.$LiveVideoBroadcastComposerRHC14()&&!this.$LiveVideoBroadcastComposerRHC15())return this.$LiveVideoBroadcastComposerRHC16();var o=this.$LiveVideoBroadcastComposerRHC14()?c('React').createElement(c('XUIPageNavigationItem.react'),{key:'settings'},j._("Settings")):null,p=this.$LiveVideoBroadcastComposerRHC15()?c('React').createElement(c('XUIPageNavigationItem.react'),{key:'monetization'},j._("Monetization")):null;return c('React').createElement(c('XUICard.react'),{className:"_609r"},c('React').createElement(c('XUIPageNavigation.react'),{activeTabKey:this.state.selectedTab,className:"_619c",onTabClick:this.$LiveVideoBroadcastComposerRHC6},c('React').createElement(c('XUIPageNavigationGroup.react'),{width:'340'},c('React').createElement(c('XUIPageNavigationItem.react'),{key:'post'},j._("Post")),o,p)))};n.prototype.$LiveVideoBroadcastComposerRHC16=function(){return c('React').createElement('div',{className:"_609r"},c('React').createElement('div',{className:"_609s"},c('React').createElement(c('XUIText.react'),{size:'medium',weight:'bold'},j._("Live Video Settings"))))};n.prototype.$LiveVideoBroadcastComposerRHC10=function(){var o=null,p=null,q=null;if(!this.props.countdownTime){o=c('React').createElement(c('LiveVideoBroadcastComposer.react'),{accountID:this.props.accountID,actorID:this.props.actorID,composerPrivacySelector:this.props.composerPrivacySelector,config:this.props.config,contextConfig:this.props.contextConfig,enableTaggers:this.props.enableTaggers,forceNoLargeText:true,peopleTaggerSource:this.props.peopleTaggerSource,profilePicUri:this.props.profilePicUri,shareMode:this.props.shareMode,showSurfaceSelector:this.props.showSurfaceSelector,sponsorConfig:this.props.sponsorConfig,sponsorEnabled:this.props.sponsorEnabled,targetID:this.props.targetID,targetSelectorProps:this.props.targetSelectorProps,targetingEnabled:this.props.targetingEnabled,onAudienceTargetChange:this.$LiveVideoBroadcastComposerRHC3,onAudienceTypeChange:this.$LiveVideoBroadcastComposerRHC5});q=this.props.showVideoSettings&&this.props.selectedVideoInputSource?c('React').createElement(c('LiveVideoBroadcastCameraSettingsContainer.react'),{selectedVideoInputSource:this.props.selectedVideoInputSource,showScreenSharingOption:this.props.showScreenSharingOption}):null}p=this.props.showMetadataInput?c('React').createElement(c('LiveVideoBroadcastMetadataSectionContainer.react'),null):null;var r=this.props.showEncoderSelector&&this.props.videoID&&this.props.broadcastID&&this.props.accessToken&&this.props.targetID&&this.props.encoders&&this.props.encoders.length>0?c('React').createElement('div',{className:"_zwj"},c('React').createElement(c('ReactComposerLiveEncoderSelector.react'),{accessToken:this.props.accessToken,broadcastID:this.props.broadcastID,encoders:this.props.encoders,targetID:this.props.targetID,videoID:this.props.videoID})):null;return c('React').createElement('div',null,o,r,q,p)};n.prototype.$LiveVideoBroadcastComposerRHC14=function(){return !!this.props.show360Option};n.prototype.$LiveVideoBroadcastComposerRHC15=function(){return false};n.prototype.$LiveVideoBroadcastComposerRHC11=function(){var o=j._("LIVE SETTINGS");return c('React').createElement('div',null,c('React').createElement('h1',{className:"_1q71"},c('React').createElement(c('Image.react'),{className:"_1q74",src:h("123207")}),o),this.$LiveVideoBroadcastComposerRHC17(),this.$LiveVideoBroadcastComposerRHC18(),this.$LiveVideoBroadcastComposerRHC19(),this.$LiveVideoBroadcastComposerRHC20(),this.$LiveVideoBroadcastComposerRHC21(),this.$LiveVideoBroadcastComposerRHC22())};n.prototype.$LiveVideoBroadcastComposerRHC23=function(event){c('LiveVideoBroadcastAPIActions').setIs360Video(event.target.checked)};n.prototype.$LiveVideoBroadcastComposerRHC24=function(event){c('LiveVideoBroadcastAPIActions').setIs360Audio(event.target.checked)};n.prototype.$LiveVideoBroadcastComposerRHC25=function(event){c('LiveVideoBroadcastAPIActions').setEmbeddable(event.target.checked)};n.prototype.$LiveVideoBroadcastComposerRHC26=function(event){c('LiveVideoBroadcastAPIActions').setShouldExpireAfterGoLive(event.target.checked)};n.prototype.$LiveVideoBroadcastComposerRHC27=function(event){c('LiveVideoBroadcastAPIActions').setContinuous(event.target.checked)};n.prototype.$LiveVideoBroadcastComposerRHC28=function(event){c('LiveVideoBroadcastAPIActions').setShouldShowGraphicContentWarning(event.target.checked)};n.prototype.$LiveVideoBroadcastComposerRHC29=function(event){c('LiveVideoBroadcastAPIActions').setCopyrighted(event.target.checked)};n.prototype.$LiveVideoBroadcastComposerRHC30=function(o){c('LiveVideoBroadcastAPIActions').setCopyrightRuleID(o)};n.prototype.$LiveVideoBroadcastComposerRHC31=function(event){c('LiveVideoBroadcastAPIActions').setCopyrightMonitoringType(event.value)};n.prototype.$LiveVideoBroadcastComposerRHC32=function(o,p){c('LiveVideoBroadcastAPIActions').setCopyrightOwnershipCountries(o,p)};n.prototype.$LiveVideoBroadcastComposerRHC33=function(o){c('LiveVideoBroadcastAPIActions').updateCopyrightWhitelistedPartners(o.slice())};n.prototype.$LiveVideoBroadcastComposerRHC17=function(){var o=j._("This live stream is a 360 video."),p=j._("This live stream has spatial audio."),q=this.props.show360Option?c('React').createElement(m,{checked:!!this.props.is360Video,label:o,learnMoreLink:'/help/828417127257368',onChange:this.$LiveVideoBroadcastComposerRHC23}):null,r=this.props.show360Option&&this.props.is360Video?c('React').createElement(m,{checked:!!this.props.is360Audio,label:p,learnMoreLink:'/help/828417127257368',onChange:this.$LiveVideoBroadcastComposerRHC24}):null;return c('React').createElement('div',null,q,r)};n.prototype.$LiveVideoBroadcastComposerRHC19=function(){if(!this.props.show360Option||this.props.shareMode!==c('ShareModeConst').PAGE)return null;var o=j._("Allow embedding"),p=j._("If checked, this video can be embedded on third-party websites");return c('React').createElement(m,{checked:!!this.props.isEmbeddable,label:o,tooltipText:p,onChange:this.$LiveVideoBroadcastComposerRHC25})};n.prototype.$LiveVideoBroadcastComposerRHC20=function(){if(!this.props.show360Option||this.props.shareMode!==c('ShareModeConst').PAGE)return null;var o=j._("Unpublish after live video ends"),p=j._("Unpublished posts are not visible to the public. Page admins can still see unpublished posts and their insights.");return c('React').createElement(m,{checked:!!this.props.shouldExpireAfterGoLive,label:o,tooltipText:p,onChange:this.$LiveVideoBroadcastComposerRHC26})};n.prototype.$LiveVideoBroadcastComposerRHC18=function(){if(!this.props.show360Option||this.props.shareMode!==c('ShareModeConst').PAGE)return null;var o=j._("Publish this as a continuous live video"),p=j._("A continuous live video can last as long as you want. To end the broadcast, click the Finish button. It will be deleted automatically after the broadcast ends.");return c('React').createElement(m,{checked:!!this.props.isContinuous,label:o,tooltipText:p,onChange:this.$LiveVideoBroadcastComposerRHC27})};n.prototype.$LiveVideoBroadcastComposerRHC21=function(){if(!this.props.show360Option||!this.props.canSeeDisturbingOptions)return null;var o=j._("Show graphic content warning"),p=j._("Displays a warning and turns off autoplay. Graphic content will be hidden from people 18 and under.");return c('React').createElement(m,{checked:!!this.props.shouldShowGraphicContentWarning,label:o,tooltipText:p,onChange:this.$LiveVideoBroadcastComposerRHC28})};n.prototype.$LiveVideoBroadcastComposerRHC22=function(){if(!this.props.canSeeCopyrightOption)return null;var o=j._("RIGHTS MANAGEMENT");return c('React').createElement('div',null,c('React').createElement('h1',{className:"_1q71 _1q75"},c('React').createElement(c('Image.react'),{className:"_1q74",src:h("122702")}),o,c('React').createElement('div',{className:"_1q76"},j._("Facebook can alert you if anyone posts a video that matches this one"))),c('React').createElement('div',null,this.$LiveVideoBroadcastComposerRHC34(),this.$LiveVideoBroadcastComposerRHC35()))};n.prototype.$LiveVideoBroadcastComposerRHC34=function(){var o=j._("Monitor matching uploads"),p=j._("Identifies other Facebook videos that include all or part of this video");return c('React').createElement(m,{checked:!!this.props.isCopyrighted,label:o,tooltipText:p,onChange:this.$LiveVideoBroadcastComposerRHC29})};n.prototype.$LiveVideoBroadcastComposerRHC35=function(){if(!this.props.canSeeCopyrightOption||!this.props.isCopyrighted)return null;return c('React').createElement('div',null,this.$LiveVideoBroadcastComposerRHC36(),this.$LiveVideoBroadcastComposerRHC37(),this.$LiveVideoBroadcastComposerRHC38(),this.$LiveVideoBroadcastComposerRHC39())};n.prototype.$LiveVideoBroadcastComposerRHC36=function(){return c('React').createElement(c('ComposerVideoUploadSection.react'),{className:"_61s6",title:j._("Specify Ownership"),tooltip:j._("Ownership establishes what element of the content belong to you in what parts of the world")},c('React').createElement(c('VideoCopyrightMonitoringSelector.react'),{disabled:false,value:this.props.copyrightMonitoringType||undefined,onChange:this.$LiveVideoBroadcastComposerRHC31}))};n.prototype.$LiveVideoBroadcastComposerRHC37=function(){return c('React').createElement(c('VideoCopyrightGeoSelector.react'),{areCountriesIncluded:!!this.props.areCountriesIncluded,className:"_61s6"+(' '+"_61s7"),disabled:false,selectedCountries:this.props.ownershipCountries,shouldShowIncludeExcludeGeoOptions:true,onChange:this.$LiveVideoBroadcastComposerRHC32})};n.prototype.$LiveVideoBroadcastComposerRHC38=function(){if(!this.props.targetID)return null;return c('React').createElement(c('ComposerVideoUploadSection.react'),{className:"_61s6",title:j._("Apply Match Rule"),tooltip:j._("Select which rule to apply to matching content")},c('React').createElement(c('VideoCopyrightMatchRuleSelector.react'),{accessToken:this.props.accessToken||undefined,pageID:this.props.targetID,selectedRule:this.props.copyrightRuleID,onChange:this.$LiveVideoBroadcastComposerRHC30,onCreateNewRule:this.props.onCreateNewCopyrightRule}))};n.prototype.$LiveVideoBroadcastComposerRHC39=function(){return c('React').createElement(c('ComposerVideoUploadSection.react'),{className:"_61s6"+(' '+"_61s7"),title:j._("Grant Permissions"),tooltip:j._("Grant permission to any Page or person on Facebook to upload videos that contain this one.")},c('React').createElement(c('VideoCopyrightWhitelistSelector.react'),{disabled:false,entries:this.props.copyrightWhitelistedPartners,placeholder:j._("Add Page or Person"),onEntriesUpdated:this.$LiveVideoBroadcastComposerRHC33}))};n.prototype.$LiveVideoBroadcastComposerRHC12=function(){return c('React').createElement('div',null,'$$$')};f.exports=n}),null);
__d('LiveVideoBroadcastPreviewOverlay.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){'use strict';var m=this.props.hidePreviewLabel?null:i._("PREVIEW");return c('React').createElement('div',{className:"_14j2"+(this.props.apiToggleVisible?' '+"_4mn9":'')+(' '+"_5pf0")},m)};function l(){'use strict';j.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoBroadcastAPIComposerDialog.react',['ix','cx','fbt','CenteredContainer.react','ReactComposerContextProviderMixin','CurrentUser','Image.react','Layout.react','LiveVideoBroadcastAPIGoLiveButtonContainer.react','LiveVideoBroadcastAPIToggleContainer.react','LiveVideoBroadcastComposerRHC.react','LiveVideoBroadcastPreviewOverlay.react','React','ReactComposerLiveBroadcastPreviewVideoPlayer.react','XUISpinner.react','fbglyph','ReactComposerContextMixin'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').FillColumn,n=c('Layout.react').Column,o=c('ReactComposerContextMixin').contextTypes;k=babelHelpers.inherits(p,c('React').PureComponent);l=k&&k.prototype;p.prototype.$LiveVideoBroadcastAPIComposerDialog1=function(){if(!this.props.apiStreamURL||!this.props.apiSecureStreamURL||!this.props.apiVideoID||!this.props.apiBroadcastID||this.props.isScheduledLiveRequestPending)return c('React').createElement('div',{className:"_1k0p"+(!c('CurrentUser').isWorkUser()?' '+"_2ds_":'')+(c('CurrentUser').isWorkUser()?' '+"_2dt1":'')},c('React').createElement(c('CenteredContainer.react'),{className:"_1k0q",vertical:true},c('React').createElement(c('XUISpinner.react'),{size:'large'})));return c('React').createElement('div',{className:"_4co-"+(!c('CurrentUser').isWorkUser()?' '+"_2ds_":'')+(c('CurrentUser').isWorkUser()?' '+"_2dt1":'')},c('React').createElement(c('ReactComposerLiveBroadcastPreviewVideoPlayer.react'),{composerType:this.props.contextConfig.composerType,fluid:true,isUnifiedLiveUI:true,secureStreamURL:this.props.apiSecureStreamURL,shown:true,streamURL:this.props.apiStreamURL,surpressLoadingState:!this.props.apiLivePreviewPlaying,videoID:this.props.apiVideoID.toString()}))};p.prototype.render=function(){var q=c('React').createElement(c('LiveVideoBroadcastAPIGoLiveButtonContainer.react'),null),r=c('React').createElement(c('LiveVideoBroadcastComposerRHC.react'),{accessToken:this.props.accessToken,accountID:this.props.accountID,actionButton:q,actorID:this.props.actorID,areCountriesIncluded:this.props.areCountriesIncluded,broadcastID:this.props.apiBroadcastID,broadcasterName:null,canSeeCopyrightOption:this.props.canSeeCopyrightOption,canSeeDisturbingOptions:this.props.canSeeDisturbingOptions,composerPrivacySelector:this.props.apiComposerPrivacySelector,config:this.props.config,contextConfig:this.props.contextConfig,copyrightMonitoringType:this.props.copyrightMonitoringType,copyrightRuleID:this.props.copyrightRuleID,copyrightWhitelistedPartners:this.props.copyrightWhitelistedPartners,countdownTime:this.props.countdownTime,embedHTML:this.props.embedHTML,enableTaggers:true,encoders:this.props.encoders,is360Audio:this.props.is360Audio,is360Video:this.props.is360Video,isContinuous:this.props.isContinuous,isCopyrighted:this.props.isCopyrighted,isEmbeddable:this.props.isEmbeddable,ownershipCountries:this.props.ownershipCountries,peopleTaggerSource:this.props.peopleTaggerSource,profilePicUri:this.props.profilePicUri,shareMode:this.props.shareMode,shouldExpireAfterGoLive:this.props.shouldExpireAfterGoLive,shouldShowGraphicContentWarning:this.props.shouldShowGraphicContentWarning,show360Option:true,showEncoderSelector:this.props.showEncoderSelector,showMetadataInput:true,showStreamLink:false,showSurfaceSelector:this.props.showSurfaceSelector,showVideoSettings:false,sponsorConfig:this.props.sponsorConfig,sponsorEnabled:this.props.sponsorEnabled,targetID:this.props.targetID,targetSelectorProps:this.props.targetSelectorProps,targetingEnabled:this.props.targetingEnabled,videoID:this.props.apiVideoID,onCreateNewCopyrightRule:this.props.onCreateNewCopyrightRule}),s=c('CurrentUser').isWorkUser()?null:c('React').createElement('div',{className:"_263c"},c('React').createElement(c('Image.react'),{src:h("115130")}),c('React').createElement('span',{className:"_263d"},j._("Don't put third-party video ads in your live video. For example, don't include bumpers, pre-roll, mid-roll or post-roll. Ensure any pre-recorded content is clearly distinguishable from live content.")));return c('React').createElement('div',{className:"_t42"},c('React').createElement(c('Layout.react'),{className:"_w10"},c('React').createElement(m,null,c('React').createElement('div',{className:"_2nno"},c('React').createElement(c('LiveVideoBroadcastAPIToggleContainer.react'),null),this.$LiveVideoBroadcastAPIComposerDialog1(),c('React').createElement(c('LiveVideoBroadcastPreviewOverlay.react'),{apiToggleVisible:true,hidePreviewLabel:!this.props.apiLivePreviewPlaying}),s)),c('React').createElement(n,null,r)))};p.prototype.getChildContext=function(){return c('ReactComposerContextProviderMixin').getChildContext.bind(this)()};function p(){k.apply(this,arguments)}p.childContextTypes=o;f.exports=p}),null);
__d('LiveVideoBroadcastAPIComposerDialogContainer.react',['ActorURI','AsyncDialog','AsyncRequest','FluxContainer','LiveVideoBroadcastAPIComposerDialog.react','LiveVideoBroadcastAPIBroadcastStore','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastUIStore','React','VideoCopyrightRuleDialogSource','XVideoCopyrightRuleDialogController','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$LiveVideoBroadcastAPIComposerDialogContainer1=function(){var p=c('XVideoCopyrightRuleDialogController').getURIBuilder().setFBID('page_id',this.state.targetID).setEnum('source',c('VideoCopyrightRuleDialogSource').COMPOSER).setString('access_token',this.state.accessToken).getURI();p=c('ActorURI').create(p,c('nullthrows')(this.state.targetID));c('AsyncDialog').send(new (c('AsyncRequest'))(p),function(q){var r=q.subscribe('hide',function(){if(r){r.unsubscribe();r=null}})})}.bind(this),l}j.getStores=function(){return [c('LiveVideoBroadcastBroadcastStore'),c('LiveVideoBroadcastUIStore'),c('LiveVideoBroadcastAPIBroadcastStore')]};j.calculateState=function(){var k=c('LiveVideoBroadcastUIStore').getState().toObject(),l=k.accessToken,m=k.areCountriesIncluded,n=k.canSeeDisturbingOptions,o=k.composerConfig,p=k.countdownTime,q=k.encoders,r=k.gks,s=k.isScheduledLiveRequestPending,t=k.ownershipCountries,u=k.peopleTaggerSource,v=k.profilePicUri,w=k.shareMode,x=k.sponsorConfig,y=k.sponsorEnabled,z=k.targetSelectorProps,aa=k.targetingEnabled,ba=c('LiveVideoBroadcastUIStore').getState().toObject(),ca=ba.canSeeCopyrightOption,da=r&&r.live_www_broadcasting_composer_target_selector,ea=r&&r.show_encoder_selector,fa=c('LiveVideoBroadcastAPIBroadcastStore').getState().toObject(),ga=fa.apiBroadcastID,ha=fa.apiEmbedHTML,ia=fa.apiLivePreviewPlaying,ja=fa.apiStreamURL,ka=fa.apiSecureStreamURL,la=fa.apiVideoID,ma=fa.apiComposerPrivacySelector,na=fa.copyrightMonitoringType,oa=fa.copyrightRuleID,pa=fa.copyrightWhitelistedPartners,qa=fa.is360Audio,ra=fa.is360Video,sa=fa.isContinuous,ta=fa.isCopyrighted,ua=fa.isEmbeddable,va=fa.shouldExpireAfterGoLive,wa=fa.shouldShowGraphicContentWarning,xa=c('LiveVideoBroadcastBroadcastStore').getState().toObject(),ya=xa.accountID,za=xa.actorID,ab=xa.targetID;return {accessToken:l,accountID:ya,actorID:za,apiComposerPrivacySelector:ma,apiEmbedHTML:ha,areCountriesIncluded:m,canSeeCopyrightOption:ca,canSeeDisturbingOptions:n,composerConfig:o,copyrightMonitoringType:na,copyrightRuleID:oa,copyrightWhitelistedPartners:pa,peopleTaggerSource:u,apiBroadcastID:ga,apiLivePreviewPlaying:ia,apiStreamURL:ja,apiSecureStreamURL:ka,apiVideoID:la,countdownTime:p,encoders:q,is360Audio:qa,is360Video:ra,isContinuous:sa,isCopyrighted:ta,isEmbeddable:ua,isScheduledLiveRequestPending:s,ownershipCountries:t,profilePicUri:v,targetSelectorProps:z,shareMode:w,shouldExpireAfterGoLive:va,shouldShowGraphicContentWarning:wa,showEncoderSelector:ea,showSurfaceSelector:da,sponsorConfig:x,sponsorEnabled:y,targetID:ab,targetingEnabled:aa}};j.prototype.render=function(){if(!this.state.composerConfig)return null;return c('React').createElement(c('LiveVideoBroadcastAPIComposerDialog.react'),{accessToken:this.state.accessToken,accountID:this.state.accountID,actorID:this.state.actorID,apiBroadcastID:this.state.apiBroadcastID,apiComposerPrivacySelector:this.state.apiComposerPrivacySelector,apiLivePreviewPlaying:this.state.apiLivePreviewPlaying,apiSecureStreamURL:this.state.apiSecureStreamURL,apiStreamURL:this.state.apiStreamURL,apiVideoID:this.state.apiVideoID,areCountriesIncluded:this.state.areCountriesIncluded,canSeeCopyrightOption:this.state.canSeeCopyrightOption,canSeeDisturbingOptions:this.state.canSeeDisturbingOptions,config:this.state.composerConfig.config,contextConfig:this.state.composerConfig.contextConfig,copyrightMonitoringType:this.state.copyrightMonitoringType,copyrightRuleID:this.state.copyrightRuleID,copyrightWhitelistedPartners:this.state.copyrightWhitelistedPartners,countdownTime:this.state.countdownTime,embedHTML:this.state.apiEmbedHTML,encoders:this.state.encoders,is360Audio:this.state.is360Audio,is360Video:this.state.is360Video,isContinuous:this.state.isContinuous,isCopyrighted:this.state.isCopyrighted,isEmbeddable:this.state.isEmbeddable,isScheduledLiveRequestPending:this.state.isScheduledLiveRequestPending,ownershipCountries:this.state.ownershipCountries,peopleTaggerSource:this.state.peopleTaggerSource,profilePicUri:this.state.profilePicUri,shareMode:this.state.shareMode,shouldExpireAfterGoLive:this.state.shouldExpireAfterGoLive,shouldShowGraphicContentWarning:this.state.shouldShowGraphicContentWarning,showEncoderSelector:this.state.showEncoderSelector,showSurfaceSelector:this.state.showSurfaceSelector,sponsorConfig:this.state.sponsorConfig,sponsorEnabled:this.state.sponsorEnabled,targetID:this.state.targetID,targetSelectorProps:this.state.targetSelectorProps,targetingEnabled:this.state.targetingEnabled,onCreateNewCopyrightRule:this.$LiveVideoBroadcastAPIComposerDialogContainer1})};f.exports=c('FluxContainer').create(j)}),null);
__d('LiveVideoBroadcastAPIVideo.react',['ReactComposerContextProviderMixin','React','ReactComposerLiveBroadcastPreviewVideoPlayer.react','ReactComposerContextMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('ReactComposerContextMixin').contextTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){if(!this.props.apiStreamURL||!this.props.apiSecureStreamURL||!this.props.apiVideoID)return null;return c('React').createElement(c('ReactComposerLiveBroadcastPreviewVideoPlayer.react'),{composerType:this.props.contextConfig.composerType,fluid:true,isLive:true,isUnifiedLiveUI:true,secureStreamURL:this.props.apiSecureStreamURL,shown:true,streamURL:this.props.apiStreamURL,videoID:this.props.apiVideoID.toString()})};k.prototype.getChildContext=function(){return c('ReactComposerContextProviderMixin').getChildContext.bind(this)()};function k(){h.apply(this,arguments)}k.childContextTypes=j;f.exports=k}),null);
__d('LiveVideoBroadcastAPIVideoContainer.react',['FluxContainer','LiveVideoBroadcastAPIBroadcastStore','LiveVideoBroadcastAPIVideo.react','LiveVideoBroadcastUIStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('LiveVideoBroadcastUIStore'),c('LiveVideoBroadcastAPIBroadcastStore')]};j.calculateState=function(){var k=c('LiveVideoBroadcastUIStore').getState().toObject(),l=k.composerConfig,m=c('LiveVideoBroadcastAPIBroadcastStore').getState().toObject(),n=m.apiStreamURL,o=m.apiSecureStreamURL,p=m.apiVideoID;return {composerConfig:l,apiStreamURL:n,apiSecureStreamURL:o,apiVideoID:p}};j.prototype.render=function(){if(!this.state.composerConfig)return null;return c('React').createElement(c('LiveVideoBroadcastAPIVideo.react'),{apiSecureStreamURL:this.state.apiSecureStreamURL,apiStreamURL:this.state.apiStreamURL,apiVideoID:this.state.apiVideoID,config:this.state.composerConfig.config,contextConfig:this.state.composerConfig.contextConfig})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j)}),null);
__d('LiveVideoBroadcastModalOverlay.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('div',{className:"_5yoe"},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('LiveVideoBroadcastBrokenConnectionModalOverlay.react',['cx','fbt','LiveVideoBroadcastModalOverlay.react','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement(c('LiveVideoBroadcastModalOverlay.react'),null,c('React').createElement('div',{className:"_alo"},c('React').createElement(c('XUISpinner.react'),{size:'large',background:'dark'}),c('React').createElement('div',{className:"_alp"},i._("Trying to Reconnect")),c('React').createElement('div',{className:"_alq"},i._("Due to poor wireless connection, your video has been paused. Consider moving to find a better signal, or you can end the broadcast."))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoBroadcastCameraNotAllowedMessage.react',['fbt','cx','LiveVideoBroadcastActions','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.$LiveVideoBroadcastCameraNotFoundMessage1=function(){c('LiveVideoBroadcastActions').cleanup()};l.prototype.$LiveVideoBroadcastCameraNotFoundMessage2=function(){c('LiveVideoBroadcastActions').getWebcamStreamUrlRequest()};l.prototype.render=function(){var m=h._("Retry"),n=h._("Close");return c('React').createElement('div',{className:"_1jpj"},c('React').createElement('div',{className:"_1jpk"},c('React').createElement('div',{className:"_1jpm"},h._("Camera permission denied")),c('React').createElement('div',{className:"_1jpn"},h._("You have blocked camera access. To go live, please update your browser settings to allow access.")),c('React').createElement(c('XUIButton.react'),{className:"_yjt",label:m,size:'xlarge',onClick:this.$LiveVideoBroadcastCameraNotFoundMessage2}),c('React').createElement(c('XUIButton.react'),{className:"_yjt",label:n,size:'xlarge',onClick:this.$LiveVideoBroadcastCameraNotFoundMessage1})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoBroadcastCameraNotFoundMessage.react',['fbt','cx','LiveVideoBroadcastActions','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){var m=h._("Done"),n=h._("Unable to find microphone"),o=h._("Unable to find camera"),p=this.props.missingMicrophone?n:o,q=h._("Please connect a microphone and verify correct microphone permissions in your browser"),r=h._("Please connect a camera and verify correct camera permissions in your browser"),s=this.props.missingMicrophone?q:r;return c('React').createElement('div',{className:"_1jpj"},c('React').createElement('div',{className:"_1jpk"},c('React').createElement('div',{className:"_1jpm"},p),c('React').createElement('div',{className:"_1jpn"},s),c('React').createElement(c('XUIButton.react'),{className:"_yjt",label:m,onClick:function t(){return c('LiveVideoBroadcastActions').cleanup()},size:'xlarge'})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoBroadcastComposerDialog.react',['cx','fbt','ActorURI','AsyncRequest','ReactComposerContextProviderMixin','Layout.react','LiveVideoBroadcastAPIToggleContainer.react','LiveVideoBroadcastComposerRHC.react','LiveVideoBroadcastPreviewOverlay.react','LiveVideoBroadcastUtils','React','XLiveVideoUpdateBroadcastController','XUIAmbientNUX.react','XUIButton.react','XUISpinner.react','expectationViolation','ReactComposerContextMixin','LiveVideoBroadcastConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').FillColumn,m=c('Layout.react').Column,n=c('ReactComposerContextMixin').contextTypes,o=c('LiveVideoBroadcastConstants').BROADCAST_STATE;j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.$LiveVideoBroadcastComposerDialog5=function(){if(this.props.broadcastState!==o.PREVIEW||this.props.countdownTime){this.props.onActionButtonClick();return}var r=c('LiveVideoBroadcastUtils').getComposerFormData(this.props.contextConfig.composerID,this.props.config.targetData.targetID,this.props.config.contextInfo),s=c('XLiveVideoUpdateBroadcastController').getURIBuilder().setFBID('broadcast_id',this.props.broadcastId).getURI();if(!this.props.actorID){c('expectationViolation')('We should not be able to click Go Live if there is no actorID');return}s=c('ActorURI').create(s,this.props.actorID);new (c('AsyncRequest'))(s).setData(r).setHandler(function(t){this.props.onActionButtonClick()}.bind(this)).setErrorHandler(function(t){alert('Error starting broadcast, please try again')}).send()}.bind(this);this.$LiveVideoBroadcastComposerDialog1=i._("Go Live");this.$LiveVideoBroadcastComposerDialog4=i._("Connecting");this.$LiveVideoBroadcastComposerDialog2=i._("Say something about this live video...");this.$LiveVideoBroadcastComposerDialog3=i._("Cancel")}p.prototype.$LiveVideoBroadcastComposerDialog6=function(){if(!this.props.countdownTime)return null;return c('React').createElement('div',{className:"_5yoh"},this.props.countdownTime)};p.prototype.$LiveVideoBroadcastComposerDialog7=function(){if(this.props.countdownTime)return null;return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.button}.bind(this),onCloseButtonClick:this.props.onNUXCloseButtonClick,alignment:'right',position:'above',shown:this.props.showNUX,width:'auto'},i._("Click to begin the live broadcast"))};p.prototype.$LiveVideoBroadcastComposerDialog8=function(q,r){var s=c('React').createElement(c('LiveVideoBroadcastComposerRHC.react'),{accountID:this.props.accountID,actionButton:q,actorID:this.props.actorID,broadcastID:this.props.broadcastId,broadcasterName:this.props.broadcasterName,composerPrivacySelector:this.props.composerPrivacySelector,config:this.props.config,contextConfig:this.props.contextConfig,countdownTime:this.props.countdownTime,embedHTML:this.props.embedHTML,enableTaggers:!this.props.countdownTime,peopleTaggerSource:this.props.peopleTaggerSource,profilePicUri:this.props.profilePicUri,selectedVideoInputSource:this.props.selectedVideoInputSource,shareMode:this.props.shareMode,show360Option:false,showMetadataInput:false,showScreenSharingOption:this.props.gks!=null&&this.props.gks.live_www_broadcasting_screen_sharing,showSurfaceSelector:this.props.gks!=null&&this.props.gks.live_www_broadcasting_composer_target_selector,showVideoSettings:true,sponsorConfig:this.props.sponsorConfig,sponsorEnabled:this.props.sponsorEnabled,targetID:this.props.targetID,targetSelectorProps:this.props.targetSelectorProps,targetingEnabled:this.props.targetingEnabled});return c('React').createElement('div',{className:"_t42"},c('React').createElement(c('Layout.react'),{className:"_w10"},c('React').createElement(l,null,c('React').createElement('div',{className:"_2nno"},c('React').createElement(c('LiveVideoBroadcastAPIToggleContainer.react'),null),r,this.$LiveVideoBroadcastComposerDialog6(),c('React').createElement(c('LiveVideoBroadcastPreviewOverlay.react'),{apiToggleVisible:true}))),c('React').createElement(m,null,s)))};p.prototype.render=function(){var q=null;if(this.props.broadcastId){var r=this.props.countdownTime?this.$LiveVideoBroadcastComposerDialog3:this.$LiveVideoBroadcastComposerDialog1;q=c('React').createElement('span',null,c('React').createElement(c('XUIButton.react'),{className:"_eg3 _227w",label:r,onClick:this.$LiveVideoBroadcastComposerDialog5,ref:'button',use:'confirm'}),this.$LiveVideoBroadcastComposerDialog7())}else q=c('React').createElement(c('XUIButton.react'),{className:"_eg3 _227w",disabled:true,image:c('React').createElement(c('XUISpinner.react'),null),label:this.$LiveVideoBroadcastComposerDialog4,ref:'button'});var s=c('React').createElement('video',{autoPlay:true,className:"_1drj",muted:true,src:this.props.webcamStreamUrl}),t=c('React').createElement('div',{className:"_5yoo"},s);return this.$LiveVideoBroadcastComposerDialog8(q,t)};p.prototype.getChildContext=function(){return c('ReactComposerContextProviderMixin').getChildContext.bind(this)()};p.childContextTypes=n;f.exports=p}),null);
__d('LiveVideoBroadcastVideoOverlay.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_5nnp"+(this.props.leftAligned?' '+"_b3j":'')},this.props.children)};function k(){'use strict';i.apply(this,arguments)}f.exports=k}),null);
__d('LiveVideoBroadcastCopyrightTakedownVideoOverlay.react',['cx','fbt','LiveVideoBroadcastVideoOverlay.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){'use strict';return c('React').createElement(c('LiveVideoBroadcastVideoOverlay.react'),null,c('React').createElement('div',{className:"_-7_"},i._("Your live video has been stopped.")))};function l(){'use strict';j.apply(this,arguments)}f.exports=l}),null);
__d("XLiveVideoCopyrightViolationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/copyright_violation\/",{broadcast_id:{type:"FBID",required:true}})}),null);
__d('LiveVideoBroadcastCopyrightStore',['LiveVideoBroadcastConstants','LiveVideoBroadcastActions','AsyncRequest','LiveVideoBroadcastDispatcher','LiveVideoBroadcastCopyrightUtils','FluxMapStore','immutable','XLiveVideoCopyrightViolationController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LiveVideoBroadcastConstants').ACTIONS;h=babelHelpers.inherits(k,c('FluxMapStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return c('immutable').Map({copyrightTriggered:false,copyrightsViolationDialogState:null,broadcastEndedWithCopyrightViolation:false})};k.prototype.reduce=function(l,m){switch(m.type){case j.INITIALIZE:l=this.getInitialState();break;case j.SET_COPYRIGHT_TRIGGERED:l=l.set('copyrightTriggered',m.value);break;case j.SET_COPYRIGHTS_VIOLATION_DIALOG_STATE:l=l.set('copyrightsViolationDialogState',m.value);break;case j.HANDLE_COPYRIGHT_EVENT:this.$LiveVideoBroadcastCopyrightStore1(m.value,m.broadcastID);break;case j.SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION:l=l.set('broadcastEndedWithCopyrightViolation',true);break;case j.CLEANUP:c('LiveVideoBroadcastCopyrightUtils').unsubscribeTokens();break;default:break;}return l};k.prototype.$LiveVideoBroadcastCopyrightStore1=function(l,m){var n=c('XLiveVideoCopyrightViolationController').getURIBuilder().setFBID('broadcast_id',m).getURI();new (c('AsyncRequest'))().setURI(n).setData({copyright_event:l}).setMethod('POST').setHandler(function(){c('LiveVideoBroadcastActions').setCopyrightTriggered(false);c('LiveVideoBroadcastActions').setCopyrightsViolationDialogState(null)}).send()};function k(){h.apply(this,arguments)}f.exports=new k(c('LiveVideoBroadcastDispatcher'))}),null);
__d("LiveVideoBroadcastCopyrightEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACK_TAKE_DOWN_LIVE_VIDEO:"ack_take_down_live_video",AUTO_TAKE_DOWN_LIVE_VIDEO:"auto_take_down_live_video",DELETE_LIVE_VIDEO:"delete_live_video",RESUME_BLOCKED_LIVE_VIDEO:"resume_blocked_live_video",RESUME_LIVE_VIDEO:"resume_live_video"})}),null);
__d('LiveVideoBroadcastCopyrightViolationModalOverlay.react',['cx','fbt','CenteredContainer.react','CopyrightsViolationDialogState','LiveVideoBroadcastConstants','LiveVideoBroadcastModalOverlay.react','React','VideoCopyrightInStreamNoticeText','VideoCopyrightInStreamNoticeTextType','XUIButton.react','XUIText.react','LiveVideoBroadcastCopyrightEvent'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$LiveVideoBroadcastCopyrightViolationModalOverlay4=function(){var event=this.props.copyrightsViolationDialogState===c('CopyrightsViolationDialogState').LIVE_TAKEDOWN_MSG_SENT?c('LiveVideoBroadcastCopyrightEvent').ACK_TAKE_DOWN_LIVE_VIDEO:c('LiveVideoBroadcastCopyrightEvent').DELETE_LIVE_VIDEO;clearTimeout(this.$LiveVideoBroadcastCopyrightViolationModalOverlay1);this.props.onEndLiveBroadcast();this.props.handleCopyrightEvent(event,this.props.broadcastID)}.bind(this);this.$LiveVideoBroadcastCopyrightViolationModalOverlay5=function(){var event=this.props.copyrightsViolationDialogState===c('CopyrightsViolationDialogState').MATCH_BLOCKED_MSG_SENT?c('LiveVideoBroadcastCopyrightEvent').RESUME_BLOCKED_LIVE_VIDEO:c('LiveVideoBroadcastCopyrightEvent').RESUME_LIVE_VIDEO;clearTimeout(this.$LiveVideoBroadcastCopyrightViolationModalOverlay1);this.props.handleCopyrightEvent(event,this.props.broadcastID)}.bind(this);this.$LiveVideoBroadcastCopyrightViolationModalOverlay2=function(){this.props.onEndLiveBroadcast();this.props.handleCopyrightEvent(c('LiveVideoBroadcastCopyrightEvent').AUTO_TAKE_DOWN_LIVE_VIDEO,this.props.broadcastID)}.bind(this);this.$LiveVideoBroadcastCopyrightViolationModalOverlay1=setInterval(this.$LiveVideoBroadcastCopyrightViolationModalOverlay2,c('LiveVideoBroadcastConstants').AUTO_TAKENDOWN_TIME_FOR_COPYRIGHT_VIOLATION)}l.prototype.componentWillUnmount=function(){clearTimeout(this.$LiveVideoBroadcastCopyrightViolationModalOverlay1)};l.prototype.render=function(){var m=this.$LiveVideoBroadcastCopyrightViolationModalOverlay3(),n=c('React').createElement(c('XUIButton.react'),{className:"_p-i",label:i._("Finish"),onClick:this.$LiveVideoBroadcastCopyrightViolationModalOverlay4}),o=m===c('CopyrightsViolationDialogState').LIVE_TAKEDOWN_MSG_SENT?null:c('React').createElement(c('XUIButton.react'),{label:i._("Resume"),use:'confirm',onClick:this.$LiveVideoBroadcastCopyrightViolationModalOverlay5});return c('React').createElement(c('LiveVideoBroadcastModalOverlay.react'),null,c('React').createElement(c('CenteredContainer.react'),{className:"_p-d",vertical:true},c('React').createElement('div',{className:"_p-e"},c('React').createElement(c('XUIText.react'),{size:'xlarge'},c('VideoCopyrightInStreamNoticeText')[m][c('VideoCopyrightInStreamNoticeTextType').TITLE])),this.$LiveVideoBroadcastCopyrightViolationModalOverlay6(),c('React').createElement('div',{className:"_p-h"},n,o)))};l.prototype.$LiveVideoBroadcastCopyrightViolationModalOverlay3=function(){var m=this.props.copyrightsViolationDialogState;if(m==null||m!==c('CopyrightsViolationDialogState').MATCH_CREATED_MSG_SENT&&m!==c('CopyrightsViolationDialogState').MATCH_BLOCKED_MSG_SENT&&m!==c('CopyrightsViolationDialogState').LIVE_TAKEDOWN_MSG_SENT)return c('CopyrightsViolationDialogState').MATCH_CREATED_MSG_SENT;return m};l.prototype.$LiveVideoBroadcastCopyrightViolationModalOverlay6=function(){var m=this.$LiveVideoBroadcastCopyrightViolationModalOverlay3(),n=c('VideoCopyrightInStreamNoticeText')[m][c('VideoCopyrightInStreamNoticeTextType').MESSAGE];return n.map(function(o){return c('React').createElement('div',{className:"_p-f"},c('React').createElement(c('XUIText.react'),{size:'large'},o))})};f.exports=l}),null);
__d('LiveVideoBroadcastCopyrightViolationModalOverlayContainer.react',['FluxContainer','LiveVideoBroadcastAPIBroadcastStore','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastCopyrightStore','LiveVideoBroadcastCopyrightUtils','LiveVideoBroadcastCopyrightViolationModalOverlay.react','LiveVideoBroadcastUIStore','React','expectationViolation'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('LiveVideoBroadcastUIStore'),c('LiveVideoBroadcastBroadcastStore'),c('LiveVideoBroadcastAPIBroadcastStore'),c('LiveVideoBroadcastCopyrightStore')]};j.calculateState=function(){var k=c('LiveVideoBroadcastUIStore').get('inputSource'),l=k==='API'?c('LiveVideoBroadcastAPIBroadcastStore').get('apiBroadcastID'):c('LiveVideoBroadcastBroadcastStore').get('broadcastId'),m=c('LiveVideoBroadcastCopyrightStore').getState().toObject(),n=m.copyrightsViolationDialogState;return {broadcastID:l,copyrightsViolationDialogState:n}};j.prototype.render=function(){if(!this.state.broadcastID){c('expectationViolation')('Trying to create LiveVideoBroadcastCopyrightViolationModalOverlay with no broadcastID');return null}return c('React').createElement(c('LiveVideoBroadcastCopyrightViolationModalOverlay.react'),{broadcastID:this.state.broadcastID,copyrightsViolationDialogState:this.state.copyrightsViolationDialogState,handleCopyrightEvent:c('LiveVideoBroadcastCopyrightUtils').handleCopyrightEvent,onEndLiveBroadcast:c('LiveVideoBroadcastCopyrightUtils').endLiveBroadcastWithCopyrightViolation})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j)}),null);
__d('LiveVideoBroadcastCouldNotStartBroadcastModalOverlay.react',['cx','fbt','LiveVideoBroadcastModalOverlay.react','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement(c('LiveVideoBroadcastModalOverlay.react'),null,c('React').createElement('div',{className:"_alo"},c('React').createElement('div',{className:"_alp"},i._("Your broadcast could not be started, please try again")),c('React').createElement(c('XUIButton.react'),{className:"_5yoa _1u3f",label:this.props.buttonText,onClick:this.props.onActionButtonClick})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoBroadcastDescription.react',['cx','fbt','DOMContainer.react','LineClamp.react','LiveVideoBroadcastActions','React','ShimButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=18;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(n){k.constructor.call(this,n)}m.prototype.$LiveVideoBroadcastDescription1=function(n){c('LiveVideoBroadcastActions').setDescriptionExpanded(n)};m.prototype.render=function(){if(!this.props.description)return null;var n=c('React').createElement(c('DOMContainer.react'),null,this.props.description),o=this.props.shortDescription?c('React').createElement(c('DOMContainer.react'),null,this.props.shortDescription):c('React').createElement(c('DOMContainer.react'),null,this.props.description),p=this.props.shortDescription?c('React').createElement(c('ShimButton.react'),{className:"_szt",form:'link',onClick:function(){return this.$LiveVideoBroadcastDescription1(true)}.bind(this)},i._("See More")):null;if(this.props.isDescriptionExpanded)return c('React').createElement('span',{className:"_27uu"},n,c('React').createElement(c('ShimButton.react'),{className:"_27uv",form:'link',onClick:function(){return this.$LiveVideoBroadcastDescription1(false)}.bind(this)},i._("See Less")));return c('React').createElement('span',{className:"_27uu"},o,p)};f.exports=m}),null);
__d('LiveVideoBroadcastEndingModalOverlay.react',['cx','fbt','ix','Image.react','LiveVideoBroadcastModalOverlay.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').PureComponent);l=k&&k.prototype;m.prototype.render=function(){return c('React').createElement(c('LiveVideoBroadcastModalOverlay.react'),null,c('React').createElement('div',null,c('React').createElement('div',null,c('React').createElement('div',{className:"_5ynu"},c('React').createElement('div',{className:"_5yo7"},c('React').createElement('div',{className:"_5yo8"}),c('React').createElement(c('Image.react'),{className:"_5yo9",src:j("101608")}))),i._("Ending Live Video"))))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d('LiveVideoBroadcastFinishedActions.react',['cx','fbt','Link.react','LiveVideoBroadcastActions','LiveVideoBroadcastAPIActions','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.$LiveVideoBroadcastFinishedActions1=function(){var m=i._("If you continue, this live video and its Timeline post will be permanently deleted."),n=window.confirm(m);if(n){if(this.props.inputSource==='CAMERA'){c('LiveVideoBroadcastActions').deleteReplayVideo()}else c('LiveVideoBroadcastAPIActions').deleteAPIReplayVideo();c('LiveVideoBroadcastActions').cleanup()}};l.prototype.render=function(){var m=i._("Done");return c('React').createElement('div',null,c('React').createElement(c('XUIButton.react'),{className:"_yjt",label:m,size:'xlarge',onClick:function n(){return c('LiveVideoBroadcastActions').cleanup()}}),c('React').createElement('div',null,c('React').createElement(c('Link.react'),{className:"_4ozm",onClick:function(){return this.$LiveVideoBroadcastFinishedActions1()}.bind(this)},i._("Delete Video"))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoBroadcastFailedConnectionModalOverlay.react',['cx','fbt','LiveVideoBroadcastFinishedActions.react','LiveVideoBroadcastModalOverlay.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement(c('LiveVideoBroadcastModalOverlay.react'),null,c('React').createElement('div',{className:"_alo"},c('React').createElement('div',{className:"_alp"},i._("Failed to Reconnect")),c('React').createElement('div',{className:"_alq"},i._("Due to poor wireless connection, your live video has been ended.")),c('React').createElement(c('LiveVideoBroadcastFinishedActions.react'),{dialog:this.props.dialog,inputSource:this.props.inputSource,vodReady:this.props.vodReady})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoBroadcastFinishedVideoOverlay.react',['cx','fbt','ix','Image.react','LiveVideoBroadcastFinishedActions.react','LiveVideoBroadcastVideoOverlay.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n)}m.prototype.render=function(){var n=void 0,o=void 0;if(this.props.showContent){if(this.props.shareMode==='group'){o=c('React').createElement('p',null,i._("The replay of your live video will be available soon in this group."))}else o=c('React').createElement('p',null,i._("The replay of your live video will be available soon on your Timeline"));n=c('React').createElement('div',null,c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_-7v",display:'block',src:j("101609")})),c('React').createElement('p',{className:"_yju"},i._("Your live video has ended")),o,c('React').createElement(c('LiveVideoBroadcastFinishedActions.react'),{dialog:this.props.dialog,inputSource:this.props.inputSource,vodReady:this.props.vodReady}))}return c('React').createElement(c('LiveVideoBroadcastVideoOverlay.react'),null,c('React').createElement('div',{className:"_-7_"},n))};f.exports=m}),null);
__d('LiveVideoBroadcastLiveIndicatorOverlay.react',['cx','fbt','AsyncRequest','DOMContainer.react','Duration.react','HTML','LiveVideoBroadcastVideoOverlay.react','React','VideoPlayerLoggerSource','XVideoLiveViewCountController'],(function a(b,c,d,e,f,g,h,i){var j,k,l=3000;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){'use strict';k.constructor.call(this,n);this.state={viewCount:null}}m.prototype.componentDidMount=function(){'use strict';this.$LiveVideoBroadcastLiveIndicatorOverlay3();this.$LiveVideoBroadcastLiveIndicatorOverlay1=setInterval(function(){return this.$LiveVideoBroadcastLiveIndicatorOverlay3()}.bind(this),l)};m.prototype.componentWillUnmount=function(){'use strict';this.$LiveVideoBroadcastLiveIndicatorOverlay1&&clearInterval(this.$LiveVideoBroadcastLiveIndicatorOverlay1);this.$LiveVideoBroadcastLiveIndicatorOverlay2&&this.$LiveVideoBroadcastLiveIndicatorOverlay2.abort()};m.prototype.$LiveVideoBroadcastLiveIndicatorOverlay3=function(){'use strict';var n=c('XVideoLiveViewCountController').getURIBuilder().setString('video_id',this.props.videoID).setString('source',c('VideoPlayerLoggerSource').LIVE_VIDEO_BROADCAST).setBool('unmuted',false).getURI();this.$LiveVideoBroadcastLiveIndicatorOverlay2=new (c('AsyncRequest'))().setMethod('GET').setURI(n).setReadOnly(true).setHandler(function(o){return this.$LiveVideoBroadcastLiveIndicatorOverlay4(o)}.bind(this));this.$LiveVideoBroadcastLiveIndicatorOverlay2.send()};m.prototype.$LiveVideoBroadcastLiveIndicatorOverlay4=function(n){'use strict';if(n)this.setState({viewCount:c('HTML').replaceJSONWrapper(n.payload).getRootNode()});};m.prototype.render=function(){'use strict';var n=c('React').createElement('div',{className:"_3rno _530p _31r-"},c('React').createElement('div',{className:"_5pe-"},c('React').createElement('span',{className:"_5pf0"},i._("LIVE"),c('React').createElement('span',{className:"_31r_"},c('React').createElement(c('Duration.react'),{startTime:this.props.startTime,useLocalTime:this.props.useLocalTime}))))),o=null;if(this.state.viewCount)o=c('React').createElement(c('DOMContainer.react'),null,this.state.viewCount);return c('React').createElement(c('LiveVideoBroadcastVideoOverlay.react'),{leftAligned:true},n,o)};f.exports=m}),null);
__d('LiveVideoBroadcastPublishFailureModalOverlay.react',['cx','fbt','CenteredContainer.react','LiveVideoBroadcastModalOverlay.react','React','XUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m)}l.prototype.render=function(){return c('React').createElement(c('LiveVideoBroadcastModalOverlay.react'),null,c('React').createElement(c('CenteredContainer.react'),{className:"_p-d",vertical:true},c('React').createElement('div',{className:"_p-e"},c('React').createElement(c('XUIText.react'),{size:'xlarge'},i._("Live Video Stopped"))),c('React').createElement('div',{className:"_p-f"},c('React').createElement(c('XUIText.react'),{size:'large'},i._("There was an error publishing your live video to News Feed. Please check your connection and camera and retry later.")))))};f.exports=l}),null);
__d('LiveVideoBroadcastRequestCameraAccessMessage.react',['fbt','cx','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){'use strict';var m=h._("To create a live broadcast, make sure your camera and microphone are turned on and Facebook Live is allowed to use them.");return c('React').createElement('div',{className:"_1jpj"},c('React').createElement('div',{className:"_1jpk"},c('React').createElement('div',{className:"_1jpm"},h._("Accessing your camera")),c('React').createElement('div',{className:"_1jpn"},m),c('React').createElement('div',{className:"_1jpo"},h._("You can always turn these off later."))))};function l(){'use strict';j.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoBroadcastUFI.react',['cx','DOMContainer.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.$LiveVideoBroadcastUFI1=function(){return c('React').createElement('div',{className:"_53-4"})};k.prototype.render=function(){var l=void 0,m=void 0;if(this.props.ufiMarkup){l=c('React').createElement(c('DOMContainer.react'),{display:'block',className:"_1fzy"},this.props.ufiMarkup)}else m=this.$LiveVideoBroadcastUFI1();return c('React').createElement('div',{className:"_1fzz"},l,c('React').createElement('div',{className:"_53-9"}),m)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('FlexLayout.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props,n=m.align,o=m.className,p=m.direction,q=m.justify,r=m.style,s=c('joinClasses')(o,"_3qn7"+(q==='start'?' '+"_61-0":'')+(q==='center'?' '+"_61-1":'')+(q==='end'?' '+"_61-2":'')+(q==='all'?' '+"_61-3":'')+(p==='vertical'?' '+"_2fyh":'')+(p==='horizontal'?' '+"_2fyi":'')+(n==='start'?' '+"_3qnf":'')+(n==='center'?' '+"_3qng":'')+(n==='end'?' '+"_3qnu":''));return c('React').createElement('div',{className:s,style:r},this.props.children)};function l(){'use strict';i.apply(this,arguments)}l.propTypes={align:k.oneOf(['start','center','end']),direction:k.oneOf(['horizontal','vertical']),className:k.string,justify:k.oneOf(['start','center','end','all']),style:k.object};l.defaultProps={align:'start',direction:'horizontal',justify:'start'};f.exports=l}),null);
__d('LiveInviteFriendsResultRow.react',['ix','cx','fbt','LiveVideoBroadcastActions','Image.react','InlineBlock.react','Layout.react','ProfileTile.react','React','XUIButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.$LiveInviteFriendsResultRow1=function(event){c('LiveVideoBroadcastActions').inviteFriend({invitedFriendID:this.props.friendID,videoID:this.props.videoID})}.bind(this)}o.prototype.render=function(){var p=c('React').createElement(c('Image.react'),{src:h("113341")}),q=c('React').createElement(c('Image.react'),{src:h("112967")}),r=this.props.friendInvited?c('React').createElement(c('XUIButton.react'),{className:"_3b8a",disabled:true,image:q,label:j._("Invited")}):c('React').createElement(c('XUIButton.react'),{className:"_3b8a",image:p,label:j._("Invite"),onClick:this.$LiveInviteFriendsResultRow1});return c('React').createElement(c('Layout.react'),null,c('React').createElement(m,{className:"_2kji"},c('React').createElement(c('ProfileTile.react'),{id:this.props.friendID,shouldShowProfileCardOnHover:false,size:32})),c('React').createElement(n,null,c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:56},this.props.friendName)),c('React').createElement(m,{className:"_3b8b"},c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:28},r)))};f.exports=o}),null);
__d('LiveInviteFriendsResultList.react',['cx','fbt','LiveInviteFriendsResultRow.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$LiveInviteFriendsResultList1=i._("No results found")}l.prototype.render=function(){if(this.props.friendList.length===0)return c('React').createElement('div',{className:"_12xf"},this.$LiveInviteFriendsResultList1);var m=this.props.friendList.map(function(n){return c('React').createElement('li',{className:"_2kjh",key:n.id},this.$LiveInviteFriendsResultList2(n))}.bind(this));return c('React').createElement('ul',{className:"_2kjg"},m)};l.prototype.$LiveInviteFriendsResultList2=function(m){var n=this.props.invitedFriendIDs.indexOf(m.id)>=0;return c('React').createElement(c('LiveInviteFriendsResultRow.react'),{friendID:m.id,friendInvited:n,friendName:m.name,videoID:this.props.videoID})};f.exports=l}),null);
__d('LiveVideoInviteFriendsDialog.react',['fbt','cx','LiveVideoBroadcastActions','CurrentUser','InlineBlock.react','FlexLayout.react','LiveInviteFriendsResultList.react','React','SearchableTextInput.react','WebAsyncSearchSource','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$LiveVideoInviteFriendsDialog1=new (c('WebAsyncSearchSource'))({bootstrapRequests:[{data:{filter:['user'],options:['friends_only'],viewer:c('CurrentUser').getID()},uri:'/ajax/typeahead/first_degree.php'}]})}l.prototype.$LiveVideoInviteFriendsDialog2=function(m){c('LiveVideoBroadcastActions').setInviteFriendsQuery(m.target.value)};l.prototype.$LiveVideoInviteFriendsDialog3=function(m){m=m.slice(0,25).filter(function(n){return n.getUniqueID()!==c('CurrentUser').getID()});c('LiveVideoBroadcastActions').setInviteFriendsSearchResults(m)};l.prototype.$LiveVideoInviteFriendsDialog4=function(){if(this.props.inviteFriendsQueryString==='')return this.props.inviteFriendsSuggestions;return this.props.inviteFriendsQueryResults.map(function(m){return {id:m.getUniqueID(),name:m.getTitle()}})};l.prototype.$LiveVideoInviteFriendsDialog5=function(){c('LiveVideoBroadcastActions').setInviteFriendsShown(false)};l.prototype.render=function(){var m=c('React').createElement('div',{className:"_ftk"},c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_4zd3",height:40},h._("Invite Friends"))),n=c('React').createElement('div',{className:"_ftl"},c('React').createElement(c('SearchableTextInput.react'),{className:"_4zd4",placeholder:this.props.placeholderText,queryString:this.props.inviteFriendsQueryString,ref:function t(u){if(u!=null)u.focusInput();},searchOnUpdate:true,searchSource:this.$LiveVideoInviteFriendsDialog1,onChange:this.$LiveVideoInviteFriendsDialog2,onEntriesFound:this.$LiveVideoInviteFriendsDialog3})),o=this.$LiveVideoInviteFriendsDialog4(),p=c('React').createElement(c('LiveInviteFriendsResultList.react'),{friendList:o,invitedFriendIDs:this.props.invitedFriendIDs,videoID:this.props.videoId}),q=c('React').createElement('div',{className:"_ftm"},p),r=c('React').createElement(c('XUIButton.react'),{label:h._("Done"),size:'large',use:'confirm',onClick:this.$LiveVideoInviteFriendsDialog5}),s=c('React').createElement(c('FlexLayout.react'),{align:'center',className:"_fto",justify:'end'},c('React').createElement('div',{className:"_ftp"},r));return c('React').createElement('div',{className:"_1yda"},m,n,q,s)};f.exports=l}),null);
__d("LiveInviteNotifContext",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({API:"api",CHAT:"chat",WWW_BROADCASTING:"www_broadcasting",TEST:"test",UNKNOWN:"unknown"})}),null);
__d("XLiveVideoInviteFriendsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live_video\/invite_friends\/",{friend_ids:{type:"FBIDVector"},video_id:{type:"FBID"},source:{type:"Enum",defaultValue:"unknown",enumType:1}})}),null);
__d('LiveVideoInviteFriendsStore',['LiveVideoBroadcastConstants','AsyncRequest','LiveVideoBroadcastDispatcher','FluxMapStore','immutable','LiveInviteNotifContext','XLiveVideoInviteFriendsController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LiveVideoBroadcastConstants').ACTIONS;h=babelHelpers.inherits(k,c('FluxMapStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return c('immutable').Map({invitedFriendIDs:[],inviteFriendsQueryResults:[],inviteFriendsQueryString:'',inviteFriendsSuggestions:[],inviteFriendsShown:false})};k.prototype.reduce=function(l,m){switch(m.type){case j.INITIALIZE:l=this.getInitialState();break;case j.FINISH_BROADCAST_REQUEST:l=l.set('inviteFriendsShown',false);break;case j.SET_INVITE_FRIENDS_SHOWN:l=l.set('inviteFriendsShown',m.value);if(!m.value)l=l.set('inviteFriendsQueryResults',[]).set('inviteFriendsQueryString','');break;case j.SET_INVITE_FRIENDS_QUERY:l=l.set('inviteFriendsQueryString',m.value.inviteFriendsQueryString);break;case j.INVITE_FRIEND:var n=m.value.invitedFriendID,o=m.value.videoID,p=c('XLiveVideoInviteFriendsController').getURIBuilder().setFBID('video_id',o).setFBIDVector('friend_ids',[n]).setEnum('source',c('LiveInviteNotifContext').WWW_BROADCASTING).getURI();new (c('AsyncRequest'))(p).setHandler(function(q){}).setErrorHandler(function(q){}).send();l=l.set('invitedFriendIDs',l.get('invitedFriendIDs').concat([n]));break;case j.SET_INVITE_FRIENDS_RESULTS:l=l.set('inviteFriendsQueryResults',m.value.results);break;case j.SET_INVITE_FRIENDS_SUGGESTIONS:l=l.set('inviteFriendsSuggestions',m.value.results);break;default:break;}return l};function k(){h.apply(this,arguments)}f.exports=new k(c('LiveVideoBroadcastDispatcher'))}),null);
__d('LiveVideoInviteFriendsDialogContainer.react',['fbt','LiveVideoBroadcastActions','FluxContainer','LiveVideoBroadcastDispatcher','LiveVideoInviteFriendsDialog.react','LiveVideoInviteFriendsStore','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);c('LiveVideoBroadcastDispatcher').explicitlyRegisterStores([c('LiveVideoInviteFriendsStore')]);this.state={inviteFriendsQueryString:'',inviteFriendsQueryResults:[],invitedFriendIDs:[],inviteFriendsSuggestions:[],inviteFriendsShown:false};c('LiveVideoBroadcastActions').fetchInviteFriendsSuggestions()}k.getStores=function(){return [c('LiveVideoInviteFriendsStore')]};k.calculateState=function(){var l=c('LiveVideoInviteFriendsStore').getState().toObject(),m=l.invitedFriendIDs,n=l.inviteFriendsQueryResults,o=l.inviteFriendsQueryString,p=l.inviteFriendsSuggestions,q=l.inviteFriendsShown;return {invitedFriendIDs:m,inviteFriendsQueryResults:n,inviteFriendsQueryString:o,inviteFriendsSuggestions:p,inviteFriendsShown:q}};k.prototype.render=function(){if(!this.state.inviteFriendsShown)return null;var l=h._("Search");return c('React').createElement(c('LiveVideoInviteFriendsDialog.react'),{inviteFriendsQueryResults:this.state.inviteFriendsQueryResults,inviteFriendsQueryString:this.state.inviteFriendsQueryString,inviteFriendsSuggestions:this.state.inviteFriendsSuggestions,invitedFriendIDs:this.state.invitedFriendIDs,placeholderText:l,videoId:this.props.videoId})};f.exports=c('FluxContainer').create(k)}),null);
__d('LiveVideoBroadcast.react',['ix','cx','fbt','LiveVideoBroadcastActions','LiveVideoBroadcastRequestCameraAccessMessage.react','LiveVideoBroadcastCameraNotFoundMessage.react','DateConsts','DOMContainer.react','Event','Image.react','ImageBlock.react','InlineBlock.react','Keys','Layout.react','LeftRight.react','Link.react','LiveVideoInviteFriendsDialogContainer.react','LiveVideoBroadcastAPIComposerDialogContainer.react','LiveVideoBroadcastAPIToggleContainer.react','LiveVideoBroadcastAPIVideoContainer.react','LiveVideoBroadcastBrokenConnectionModalOverlay.react','LiveVideoBroadcastCameraNotAllowedMessage.react','LiveVideoBroadcastComposerDialog.react','LiveVideoBroadcastConstants','LiveVideoBroadcastCopyrightTakedownVideoOverlay.react','LiveVideoBroadcastCopyrightViolationModalOverlayContainer.react','LiveVideoBroadcastCouldNotStartBroadcastModalOverlay.react','LiveVideoBroadcastDescription.react','LiveVideoBroadcastEndingModalOverlay.react','LiveVideoBroadcastFailedConnectionModalOverlay.react','LiveVideoBroadcastFinishedVideoOverlay.react','LiveVideoBroadcastLiveIndicatorOverlay.react','LiveVideoBroadcastPublishFailureModalOverlay.react','LiveVideoBroadcastUFI.react','StreamingReactionsTray','React','Timestamp.react','XUIAmbientNUX.react','XUIButton.react','XVideoPermalinkController','expectationViolation','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=c('LiveVideoBroadcastConstants').BROADCAST_STATE,p=c('LiveVideoBroadcastConstants').CAMERA_STATE,q=c('LiveVideoBroadcastConstants').INPUT_SOURCE;k=babelHelpers.inherits(r,c('React').Component);l=k&&k.prototype;function r(s){l.constructor.call(this,s);this.$LiveVideoBroadcast6=function(){if(Date.now()-this.props.startTime<c('LiveVideoBroadcastConstants').MINIMUM_BROADCAST_LENGTH_MS){this.setState({showFinishNux:true});setTimeout(function(){return this.setState({showFinishNux:false})}.bind(this),c('LiveVideoBroadcastConstants').FINISH_BUTTON_NUX_TIME_MS)}else this.props.onActionButtonClick();}.bind(this);this.$LiveVideoBroadcast11=function(t){if(this.state.streamingReactionsInitialized||!t||!this.props.feedbackID||!this.props.broadcastID)return;new (c('StreamingReactionsTray'))(t,null,'',this.props.feedbackID,this.props.broadcastID,'',{},true,true);this.setState({streamingReactionsInitialized:true})}.bind(this);this.state={showEscapeKeyNux:false,showFinishNux:false,streamingReactionsInitialized:false};this.$LiveVideoBroadcast1=j._("Finish");this.$LiveVideoBroadcast2=j._("Resume");this.$LiveVideoBroadcast3=j._("Invite Friends");this.$LiveVideoBroadcast4=j._("Live Viewers").toString();if(this.props.dialog)this.props.dialog.subscribe('key',this.$LiveVideoBroadcast5.bind(this));}r.prototype.$LiveVideoBroadcast5=function(s,event){if(c('Event').getKeyCode(event)!==c('Keys').ESC)return;if(this.props.broadcastState===o.LIVE){this.setState({showEscapeKeyNux:true});setTimeout(function(){return this.setState({showEscapeKeyNux:false})}.bind(this),c('LiveVideoBroadcastConstants').FINISH_BUTTON_NUX_TIME_MS);return}else if(this.props.countdownTime)return;c('LiveVideoBroadcastActions').cleanup()};r.prototype.$LiveVideoBroadcast7=function(){c('LiveVideoBroadcastActions').setInviteFriendsShown(true)};r.prototype.$LiveVideoBroadcast8=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.finishbutton}.bind(this),position:'above',shown:this.state.showFinishNux,width:'auto',onCloseButtonClick:function(){return this.setState({showFinishNux:false})}.bind(this)},j._("Live videos must be at least 4 seconds long"))};r.prototype.$LiveVideoBroadcast9=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.finishbutton}.bind(this),position:'left',shown:this.state.showEscapeKeyNux,width:'auto',onCloseButtonClick:function(){return this.setState({showEscapeKeyNux:false})}.bind(this)},j._("Click Finish to end your broadcast"))};r.prototype.$LiveVideoBroadcast10=function(){var s=null;if(this.props.composerConfig&&this.props.inputSource===q.CAMERA){s=c('React').createElement(c('LiveVideoBroadcastComposerDialog.react'),{accountID:this.props.accountID,actorID:this.props.actorID,broadcasterName:this.props.broadcasterName,broadcastId:this.props.broadcastID,broadcastState:this.props.broadcastState,composerPrivacySelector:this.props.composerPrivacySelector,config:this.props.composerConfig.config,contextConfig:this.props.composerConfig.contextConfig,countdownTime:this.props.countdownTime,embedHTML:this.props.embedHTML,gks:this.props.gks,peopleTaggerSource:this.props.peopleTaggerSource,profilePicUri:this.props.profilePicUri,selectedVideoInputSource:this.props.selectedVideoInputSource,shareMode:this.props.shareMode,showNUX:this.props.showNUX,sponsorConfig:this.props.sponsorConfig,sponsorEnabled:this.props.sponsorEnabled,targetID:this.props.targetID,targetSelectorProps:this.props.targetSelectorProps,targetingEnabled:this.props.targetingEnabled,webcamStreamUrl:this.props.webcamStreamUrl,onActionButtonClick:this.props.onActionButtonClick,onNUXCloseButtonClick:this.props.onNUXCloseButtonClick})}else if(this.props.inputSource===q.API){s=c('React').createElement(c('LiveVideoBroadcastAPIComposerDialogContainer.react'),null)}else c('expectationViolation')('LiveVideoBroadcast should always have a composer config and a valid input source');return c('React').createElement('div',{className:"_5zrk"},s)};r.prototype.$LiveVideoBroadcast12=function(){var s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0;switch(this.props.broadcastState){case o.PREVIEW:return this.$LiveVideoBroadcast10();case o.READY_TO_LIVE:break;case o.LIVE:s=c('React').createElement(c('XUIButton.react'),{className:"_5yoa _1drf",label:this.$LiveVideoBroadcast1,ref:'finishbutton',size:'xlarge',use:'confirm',onClick:this.$LiveVideoBroadcast6});v=this.props.videoID?c('React').createElement(c('LiveVideoBroadcastLiveIndicatorOverlay.react'),{startTime:this.props.startTime,useLocalTime:true,videoID:this.props.videoID}):null;t=this.$LiveVideoBroadcast8();if(this.props.gks&&this.props.gks.live_www_invite_friends&&this.props.shareMode!=='page'&&this.props.ufiMarkup){var y=c('React').createElement(c('Image.react'),{src:h("113395")});x=c('React').createElement(c('XUIButton.react'),{className:"_1r3e",image:y,label:this.$LiveVideoBroadcast3,size:'xlarge',onClick:this.$LiveVideoBroadcast7})}break;case o.FINISHING:v=c('React').createElement(c('LiveVideoBroadcastEndingModalOverlay.react'),null);break;case o.FINISHED:v=c('React').createElement(c('LiveVideoBroadcastFinishedVideoOverlay.react'),{dialog:this.props.dialog,inputSource:this.props.inputSource,shareMode:this.props.shareMode,showContent:true,vodReady:this.props.vodReady});break;default:throw new Error('Invalid broadcast state: '+this.props.broadcastState);}if(this.props.copyrightTriggered){w=c('React').createElement(c('LiveVideoBroadcastCopyrightViolationModalOverlayContainer.react'),null)}else if(this.props.broadcastEndedWithCopyrightViolation){v=c('React').createElement(c('LiveVideoBroadcastCopyrightTakedownVideoOverlay.react'),null)}else if(this.props.connectionFailed&&this.props.broadcastState===o.LIVE){v=c('React').createElement(c('LiveVideoBroadcastFailedConnectionModalOverlay.react'),{dialog:this.props.dialog,inputSource:this.props.inputSource,vodReady:false})}else if(this.props.connectionBroken&&this.props.broadcastState===o.LIVE){v=c('React').createElement(c('LiveVideoBroadcastBrokenConnectionModalOverlay.react'),null)}else if(this.props.broadcastCouldNotStart){w=c('React').createElement(c('LiveVideoBroadcastCouldNotStartBroadcastModalOverlay.react'),{buttonText:this.$LiveVideoBroadcast2,onActionButtonClick:c('LiveVideoBroadcastActions').errorBroadcastCouldNotStartAccepted})}else if(this.props.broadcastCouldNotPublish)v=c('React').createElement(c('LiveVideoBroadcastPublishFailureModalOverlay.react'),null);var z=c('React').createElement('span',{className:(this.props.broadcastState!==o.LIVE?"_t2a":'')+(' '+"_3i3a")},c('React').createElement(c('DOMContainer.react'),null,this.props.profileLink)),aa=c('XVideoPermalinkController').getURIBuilder().setInt('video_id',this.props.videoID).setString('vanity',this.props.actorID).getURI(),ba=this.props.broadcastState===o.LIVE?c('React').createElement(c('Link.react'),{className:"_3hte",href:aa,target:'_blank'},c('React').createElement(c('Timestamp.react'),{time:this.props.startTime/c('DateConsts').MS_PER_SEC})):null,ca=void 0;if(this.props.inputSource===q.API){ca=c('React').createElement(c('LiveVideoBroadcastAPIVideoContainer.react'),null)}else ca=c('React').createElement('video',{autoPlay:true,className:"_1drj",muted:true,src:this.props.webcamStreamUrl});var da=c('React').createElement('div',{className:"_5yoo"},ca),ea=this.props.videoID?c('React').createElement(c('LiveVideoInviteFriendsDialogContainer.react'),{videoId:this.props.videoID}):null,fa=this.props.feedbackID&&this.props.broadcastID?c('React').createElement('div',{className:"_f5b",ref:this.$LiveVideoBroadcast11}):null,ga=this.props.privacySelector?c('React').createElement(c('DOMContainer.react'),null,this.props.privacySelector):null;return c('React').createElement('div',{className:"_1drg"},c('React').createElement(c('Layout.react'),{className:"_1drh"},c('React').createElement(n,null,c('React').createElement('div',{className:"_1dri"},da,u,v,fa)),c('React').createElement(m,{className:"_1dtf"},c('React').createElement('div',{className:"_5yoj"},c('React').createElement(c('ImageBlock.react'),{className:"_zga"},c('React').createElement(c('Image.react'),{className:"_3i39",height:40,src:this.props.profilePicUri,width:40}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:40},z,c('React').createElement(c('DOMContainer.react'),null,this.props.tagList),ga,ba))),c('React').createElement(c('LiveVideoBroadcastDescription.react'),{description:this.props.description,isDescriptionExpanded:this.props.isDescriptionExpanded,shortDescription:this.props.shortDescription}),c('React').createElement(c('LiveVideoBroadcastUFI.react'),{showPlaceholder:!!this.props.ufiMarkup,ufiMarkup:this.props.ufiMarkup}),ea)),c('React').createElement('div',{className:"_5zjh"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{className:"_1drk"},x),c('React').createElement('div',{className:"_2v03"},c('React').createElement('div',{className:"_1drl"},s,t,this.$LiveVideoBroadcast9())))),w)};r.prototype.$LiveVideoBroadcast13=function(){if(this.props.broadcastState===o.LIVE||this.props.countdownTime)return null;return c('React').createElement(c('Link.react'),{className:"_2k_f",href:'#',onClick:c('LiveVideoBroadcastActions').cleanup},c('React').createElement(c('Image.react'),{alt:j._("Close"),src:h("125922")}))};r.prototype.$LiveVideoBroadcast14=function(){return this.$LiveVideoBroadcast12()};r.prototype.$LiveVideoBroadcast15=function(){var s=void 0;if(this.props.gks&&!this.props.gks.www_live_video_broadcasting_supported_browsers){s=c('React').createElement('div',null,c('React').createElement(c('LiveVideoBroadcastAPIToggleContainer.react'),null),c('React').createElement('div',{className:"_620d"},j._("Please try broadcasting on Chrome to go live with your camera.")));return s}switch(this.props.cameraState){case p.CHECK_CAMERA_ACCESS:s=null;break;case p.REQUEST_CAMERA_ACCESS:s=c('React').createElement('div',null,c('React').createElement(c('LiveVideoBroadcastAPIToggleContainer.react'),null),c('React').createElement(c('LiveVideoBroadcastRequestCameraAccessMessage.react'),null));break;case p.CAMERA_NOT_FOUND:s=c('React').createElement('div',null,c('React').createElement(c('LiveVideoBroadcastAPIToggleContainer.react'),null),c('React').createElement(c('LiveVideoBroadcastCameraNotFoundMessage.react'),{missingCamera:true}));break;case p.MICROPHONE_NOT_FOUND:s=c('React').createElement('div',null,c('React').createElement(c('LiveVideoBroadcastAPIToggleContainer.react'),null),c('React').createElement(c('LiveVideoBroadcastCameraNotFoundMessage.react'),{missingMicrophone:true}));break;case p.CAMERA_NOT_ALLOWED:s=c('React').createElement('div',null,c('React').createElement(c('LiveVideoBroadcastAPIToggleContainer.react'),null),c('React').createElement(c('LiveVideoBroadcastCameraNotAllowedMessage.react'),null));break;default:s=this.$LiveVideoBroadcast12();}return s};r.prototype.render=function(){var s=this.props.inputSource===q.API?this.$LiveVideoBroadcast14():this.$LiveVideoBroadcast15();return c('React').createElement('div',{className:"_358d",'data-testid':'live-video-broadcast-ui-container'},s,this.$LiveVideoBroadcast13())};f.exports=r}),null);
__d("LiveVideoBroadcastWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATE_BROADCAST_START:"create_broadcast_start",CREATE_BROADCAST_FINISH:"create_broadcast_finish",CREATE_BROADCAST_FAILED:"create_broadcast_failed",UPDATE_BROADCAST_FAILED:"update_broadcast_failed",PUBLISH_BROADCAST_START:"publish_broadcast_start",PUBLISH_BROADCAST_FINISH:"publish_broadcast_finish",PUBLISH_BROADCAST_FAILED:"publish_broadcast_failed",ENDED_BROADCAST_IN_UNPUBLISHED_CHECK:"ended_broadcast_in_unpublished_check",UI_REQUEST_BROADCAST_START:"ui.request_broadcast_start",UI_TIME_OUT_WAITING_FOR_PUBLISH:"ui.time_out_waiting_for_publish",UI_MWS_BAD_AUDIO_OR_VIDEO_DATA:"ui.mws_bad_audio_or_video_data",UI_TRACK_ENDED:"ui.track_ended",UI_UFI_LOADED:"ui.ufi_loaded",END_BROADCAST_START:"end_broadcast_start",END_BROADCAST_FINISH:"end_broadcast_finish",END_BROADCAST_FAILED:"end_broadcast_failed",UI_FINISH_LIVE_START:"ui.finish_live_start",UI_ENTERED_FINISHED_STATE:"ui.entered_finished_state",UI_DELETED_VIDEO:"ui.deleted_video",UI_DOWNLOADED_VIDEO:"ui.downloaded_video",COPYRIGHT_RESUME_BROADCAST:"copyright_resume_broadcast",COPYRIGHT_END_BROADCAST:"copyright_end_broadcast",UI_COPYRIGHT_AUTO_TAKEDOWN:"ui.copyright_auto_takedown",UI_COPYRIGHT_END_BROADCAST:"ui.copyright_end_broadcast",UI_COPYRIGHT_USER_DELETE_BROADCAST:"ui.copyright_user_delete_broadcast",UI_COPYRIGHT_RESUME_BROADCAST:"ui.copyright_resume_broadcast",UI_COPYRIGHT_TRIGGERED:"ui.copyright_triggered",UI_BROADCAST_COULD_NOT_FINISH:"ui.broadcast_could_not_finish",UI_BROADCAST_COULD_NOT_START:"ui.broadcast_could_not_start",UI_BROADCAST_DISCONNECTED:"ui.broadcast_disconnected",UI_BROADCAST_FAILED:"ui.broadcast_failed",UI_CONNECTION_ESTABLISHED:"ui.connection_established",UI_ICE_CONNECTION_STATE_CHANGED:"ui.ice_connection_state_changed",UI_INVITED_FRIEND:"ui.invited_friend",UI_INVITE_FRIENDS_OPENED:"ui.invite_friends_opened",UI_JOIN_RESPONSE_RECEIVED:"ui.join_response_received",UI_CANCEL_COUNTDOWN:"ui.cancel_countdown",UI_GO_LIVE_CLICKED:"ui.go_live_clicked",UI_REQUEST_CAMERA_ACCESS:"ui.request_camera_access",UI_ERROR_CREATING_BROADCAST:"ui.error_creating_broadcast",UI_SCHEDULED_LIVE_SUCCESS:"ui.scheduled_live_success",UI_SCHEDULED_LIVE_FAIL:"ui.scheduled_live_fail",UI_SET_CONTENT_TAGS:"ui.set_content_tags",SEND_JOIN_REQUEST_START:"send_join_request_start",SEND_JOIN_REQUEST_FINISH:"send_join_request_finish",SEND_JOIN_REQUEST_FAILED:"send_join_request_failed",SEND_ICE_RESTART_REQUEST_START:"send_ice_restart_request_start",SEND_ICE_RESTART_REQUEST_FINISH:"send_ice_restart_request_finish",SEND_ICE_RESTART_REQUEST_FAILED:"send_ice_restart_request_failed",SPEED_TEST_RESULT:"speed_test_result",STREAM_LINK_CLICK:"stream_link_click",CAMERA_NOT_FOUND:"camera_not_found",UI_READY_STATE_ENDED:"ui.ready_state_ended",UI_WEBRTC_STATS:"ui.webrtc_stats",API_BROADCAST_STOPPED:"ui.api_broadcast_stopped",UI_SET_INPUT_SOUCE:"ui.set_input_source",UI_SET_TARGET:"ui.set_target",UI_REQUEST_WEBCAM_STREAM:"ui.request_webcam_stream",UI_INITIALIZE:"ui.initialize"})}),null);
__d("VideoBroadcastLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BROADCASTER_UPDATE:"broadcaster_update",BROADCASTER_UPDATE_FAILED:"broadcaster_update_failed",BROADCASTER_REQUESTED_SEAL:"broadcaster_requested_seal",CREATIVE_TOOL_SELECT_EFFECT:"creative_tool_select_effect",INGESTION_UPDATE:"ingestion_update",INGESTION_UPDATE_FAILED:"ingestion_update_failed",INGESTION_UPDATE_FAILED_ALREADY_SEALED:"ingestion_update_failed_already_sealed",INGESTION_UPDATE_FAILED_ALREADY_HAS_SEGMENT:"ingestion_update_failed_already_has_segment",INGESTION_UPDATE_FAILED_CANNOT_EDIT:"ingestion_update_failed_cannot_edit",INGESTION_PRIVACY_FAIL:"ingestion_privacy_fail",INGESTION_OWNER_PRIVACY_FAIL:"ingestion_owner_privacy_fail",INGESTION_OMNI_VIDEO_NOT_LOADABLE:"ingestion_omni_video_not_loadable",CREATE_BROADCAST:"create_broadcast",CREATE_BROADCAST_FAILED:"create_broadcast_failed",INGESTION_REJECTED_VOD_READY:"ingestion_rejected_vod_ready",SEGMENT_ENCODED:"segment_encoded",SEGMENT_ENCODE_FAILED:"segment_encode_failed",SEGMENT_FFPROBE_FAILED:"segment_ffprobe_failed",PREVIEW_URL_READ:"preview_url_read",PREVIEW_URL_READ_BLOCKED:"preview_url_read_blocked",DASH_PREVIEW_URL_READ:"dash_preview_url_read",PUBLISH_BROADCAST:"publish_broadcast",ANNOUNCE_BROADCAST:"announce_broadcast",QUICK_PUBLISH_TRANSITION_TO_LIVE:"quick_publish_transition_to_live",QUICK_PUBLISH_TRANSITION_TO_EXPIRED:"quick_publish_transition_to_expired",PUBLISH_FAILED:"publish_failed",REPUBLISH_BROADCAST_BLOCKED:"republish_broadcast_blocked",SEAL_BROADCAST:"seal_broadcast",SEAL_SCHEDULED:"seal_scheduled",SEAL_IN_PROGRESS:"seal_in_progress",SEAL_FAILED:"seal_failed",EXPLICIT_BROADCAST_END:"explicit_broadcast_end",NOT_PUBLISHED_CANNOT_SEAL:"not_published_cannot_seal",TOO_MANY_SEGMENTS:"too_many_segments",VOD_SOFT_DELETED:"vod_soft_deleted",VOD_SOFT_DELETION_FAILED:"vod_soft_deletion_failed",LIVE_STARTED:"live_started",LIVE_STREAM_TAKEDOWN:"live_stream_takedown",LIVE_TOTALS:"live_totals",LIVE_VIDEO_VIEWS_30:"live_video_views_30",LIVE_VIDEO_VIEWS_60:"live_video_views_60",LIVE_VIDEO_VIEWS_90:"live_video_views_90",LIVE_VIDEO_VIEWS_120:"live_video_views_120",VOD_TAKEDOWN_AM:"vod_takedown_am",VOD_TAKEDOWN_RIDGE_AUDIO:"vod_takedown_ridge_audio",VOD_TAKEDOWN_RIDGE_VIDEO:"vod_takedown_ridge_video",DELETE_BROADCAST:"delete_broadcast",DELETE_BROADCAST_FAILED:"delete_broadcast_failed",HLS_VARIANT_PLAYLIST:"hls_variant_playlist",HLS_MEDIA_PLAYLIST:"hls_media_playlist",HLS_MEDIA_PLAYLIST_ERROR:"hls_media_playlist_error",HLS_MEDIA_PLAYLIST_SUCCESS:"hls_media_playlist_success",HLS_STALL:"hls_stall",PUBLISH_FAILED_SI:"publish_failed_si",CREATE_BROADCAST_FAILED_SI:"create_broadcast_failed_si",ASYNC_CLEANUP_ALREADY_DELETED:"async_cleanup_already_deleted",ASYNC_CLEANUP_ALREADY_SEALED:"async_cleanup_already_sealed",ASYNC_CLEANUP_NOT_PUBLISHED:"async_cleanup_not_published",ASYNC_CLEANUP_RECENTLY_UPDATED:"async_cleanup_recently_updated",ASYNC_CLEANUP_VODLESS_RECENTLY_UPDATED:"async_cleanup_vodless_recently_updated",ASYNC_CLEANUP_BROADCAST_DELETED:"async_cleanup_broadcast_deleted",ASYNC_CLEANUP_CANNOT_LOAD:"async_cleanup_cannot_load",ASYNC_CLEANUP_SCHEDULED:"async_cleanup_scheduled",ASYNC_CLEANUP_FAILURE:"async_cleanup_failure",ASYNC_CLEANUP_CANNOT_INITIATE:"async_cleanup_cannot_initiate",ASYNC_CLEANUP_SUCCESS:"async_cleanup_success",ASYNC_CLEANUP_VODLESS_SUCCESS:"async_cleanup_vodless_success",ASYNC_CLEANUP_EXPIRED:"async_cleanup_expired",ASYNC_CLEANUP_NOT_LIVE:"async_cleanup_not_live",NOTIF_USER_SET_SUBSCRIPTION:"notif_user_set_subscription",NOTIF_USER_SET_GLOBAL_SUBSCRIPTION:"notif_user_set_global_subscription",SILVERCITY_PARAMS:"silvercity_params",VIDEO_THUMBNAILS_PRODUCED:"video_thumbnails_produced",VIDEO_THUMBNAILS_PRODUCTION_FAILURE:"video_thumbnails_production_failure",VIDEO_ENCODE_MANAGER:"video_encode_manager",VIDEO_SPLICE:"video_splice",VIDEO_SPLICE_FAILED:"video_splice_failed",VIDEO_DURATION_COMPARE:"video_duration_compare",VIDEO_ENCODING_PRODUCED:"video_encoding_produced",URLGEN_MANIFEST_URL:"urlgen_manifest_url",URLGEN_RTMP_URL:"urlgen_rtmp_url",URLGEN_PUBLISH_URL:"urlgen_publish_url",URLGEN_VIEW_URL:"urlgen_view_url",SAVE_QUICK_DASH_STARTED:"save_quick_dash_started",SAVE_QUICK_DASH_FAILED:"save_quick_dash_failed",SAVE_QUICK_DASH_FINISHED:"save_quick_dash_finished",DOWNLOAD_NGINX_MPD_SUCCEEDED:"download_nginx_mpd_succeeded",DOWNLOAD_NGINX_MPD_FAILED:"download_nginx_mpd_failed",DOWNLOAD_NGINX_MPD_SETBACK:"download_nginx_mpd_setback",MODIFY_NGINX_MPD_SUCCEEDED:"modify_nginx_mpd_succeeded",MODIFY_NGINX_MPD_FAILED:"modify_nginx_mpd_failed",SESSION_INVALID:"session_invalid",SESSION_INVALID_API:"session_invalid_api",CURRENT_VIDEOS_CACHE_RECORD:"current_videos_cache_record",LIVE_VIDEO_BROADCASTER_LIKED_COMMENTS_DELIVERED:"live_video_broadcaster_liked_comments_delivered",LIVE_VIDEO_BROADCAST_CONNECTION_WEAK:"live_video_broadcast_connection_weak",NOTIF_QUEUE_SKIPPED_WEAK_CONNECTION:"notif_queue_skipped_weak_connection",LIVE_VIDEO_RHC_UNIT_RENDERED:"live_video_rhc_unit_rendered",NOTIF_EXPERIMENT_LOG_EXPOSURE:"notif_experiment_log_exposure",LIVE_LIKE_RECORD:"live_like_record",CALCULATE_STATS:"calculate_stats",SHOW_INFO_CARD:"show_info_card",LIVE_SUBSCRIPTION_MUTATE_ATTEMPT:"live_subscription_mutate_attempt",INGESTION_STALLED:"ingestion_stalled",LIVE_SUBSCRIBE_WWW_RENDER:"live_subscribe_www_render",LIVE_SUBSCRIBE_WWW_CHEVRON:"live_subscribe_www_chevron",LIVE_NUX_SEEN:"live_nux_seen",SENTIMENT_ADDED:"sentiment_added",BROADCASTER_DVR_UPLOADED:"broadcaster_dvr_uploaded",BROADCASTER_DVR_UPLOAD_FAILED:"broadcaster_dvr_upload_failed",BROADCASTER_DVR_UPLOAD_DESTINATION_DELETED:"broadcaster_dvr_destination_deleted",BROADCASTER_CHECKPOINTED:"broadcaster_checkpointed",NOTIF_SUBSCRIPTION_LIVE_VIDEO_INVITE:"notif_subscription_live_video_invite",CREATE_TIME_SLICES_EXCEPTION:"create_time_slices_exception",CREATE_TIME_SLICE:"create_time_slice",PRE_CREATE_TIME_SLICES:"pre_create_time_slices",LIVE_VIDEO_WATCH_LIKE_EVENT_RENDERED:"live_video_watch_like_event_rendered",POLLING:"polling",REPLACE_BROADCAST_VOD_STARTED:"replace_broadcast_vod_started",REPLACE_BROADCAST_VOD_SUCCEEDED:"replace_broadcast_vod_succeeded",REPLACE_BROADCAST_VOD_FAILED:"replace_broadcast_vod_failed",BROADCASTER_PRESENCE_STATUS:"broadcaster_presence_status",LIVE_GAME_SELF_NOTIFICATION_STARTED:"live_game_self_notification_started",SCHEDULE_CUSTOM_PROFILE_IMAGE_UPLOADED:"schedule_custom_profile_image_uploaded",SCHEDULE_CUSTOM_PROFILE_IMAGE_VALIDATION_FAILED:"schedule_custom_profile_image_validation_failed",SCHEDULE_CUSTOM_BACKGROUND_IMAGE_UPLOADED:"schedule_custom_background_image_uploaded",SCHEDULE_CUSTOM_BACKGROUND_IMAGE_VALIDATION_FAILED:"schedule_custom_background_image_validation_failed",FACECASTWITH_RTCCALL_ENDED:"facecastwith_rtccall_ended",WEBRTC_BROADCASTING_UPDATE:"webrtc_broadcasting_update",SET_GRAPHIC_CONTENT_FLAG:"set_graphic_content_flag",REMOVE_GRAPHIC_CONTENT_FLAG:"remove_graphic_content_flag",STATE_CHANGE:"state_change",BROADCAST_EXPIRED:"broadcast_expired",QUICK_PUBLISH_ATTEMPT_TO_SET_SCHEDULE_PREVIEW_STATUS:"quick_publish_attempt_to_set_schedule_preview_status",SCHEDULED_LIVE_INVALID_LIVE_TO_SCHEDULED_LIVE_STATUS_TRANSITION:"scheduled_live_invalid_live_to_scheduled_live_status_transition",SET_EPISODE_DATA:"set_episode_data",DISTRIBUTION_REDUCED:"distribution_reduced",SEGMENT_UPLOAD_FAILED:"segment_upload_failed",VIDEO_BROADCAST_SCHEDULE_OBJECT_MISSING:"video_broadcast_schedule_object_missing",VIDEO_BROADCAST_SCHEDULE_OBJECT_ALREADY_CREATED:"video_broadcast_schedule_object_already_created"})}),null);
__d('LiveVideoBroadcastLoggingStore',['LiveVideoBroadcastConstants','LiveVideoBroadcastDispatcher','FluxMapStore','LiveVideoBroadcastAfterBootloadUtils','LiveVideoBroadcastAPIBroadcastStore','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastCopyrightEvent','LiveVideoBroadcastFunnelLogger','LiveVideoBroadcastUIStore','LiveVideoBroadcastWaterfallEvent','LiveVideoBroadcastWaterfallTypedLogger','VideoBroadcastLoggerEvent','VideoBroadcastTypedLogger','RTCMediaDevicesStore','uuid'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LiveVideoBroadcastConstants').ACTIONS,k=c('LiveVideoBroadcastConstants').BROADCAST_STATE,l=c('LiveVideoBroadcastConstants').CAMERA_STATE;h=babelHelpers.inherits(m,c('FluxMapStore'));i=h&&h.prototype;m.prototype.reduce=function(n,o){switch(o.type){case j.GET_WEBCAM_STREAM_URL_REQUEST:var p=o.config?o.config.audioInput:null,q=o.config?o.config.videoInput:null,r=c('RTCMediaDevicesStore').getState(),s=r&&p?r.find(function(y){return y.deviceId===p}):null,t=r&&q?r.find(function(y){return y.deviceId===q}):null,u=s?s.label:p,v=t?t.label:q;this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_REQUEST_WEBCAM_STREAM,null,{audioDevice:u,videoDevice:v});break;case j.SCHEDULED_LIVE_SUCCESS:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_SCHEDULED_LIVE_SUCCESS);break;case j.INITIALIZE:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_INITIALIZE);break;case j.SCHEDULED_LIVE_FAIL:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_SCHEDULED_LIVE_FAIL);break;case j.SET_TARGET:var w=c('LiveVideoBroadcastAfterBootloadUtils').getIDsFromTarget(o.value,c('LiveVideoBroadcastBroadcastStore').get('accountID'));this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_SET_TARGET,null,w);break;case j.SET_COMPOSER_CONFIG:n=n.set('sessionID',c('uuid')());break;case j.START_BROADCAST_REQUEST:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_REQUEST_BROADCAST_START,null,{videoInputSource:c('LiveVideoBroadcastBroadcastStore').get('selectedVideoInputSource')});break;case j.START_LIVE_COUNTDOWN:this.$LiveVideoBroadcastLoggingStore2();break;case j.CANCEL_LIVE_COUNTDOWN:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_CANCEL_COUNTDOWN);c('LiveVideoBroadcastFunnelLogger').goLiveCancelled();break;case j.FINISH_BROADCAST_REQUEST:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_FINISH_LIVE_START);c('LiveVideoBroadcastFunnelLogger').finishClicked();break;case j.DELETE_REPLAY_VIDEO:case j.DELETE_API_REPLAY_VIDEO:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_DELETED_VIDEO);break;case j.FINISH_BROADCAST_SUCCESS:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_ENTERED_FINISHED_STATE);c('LiveVideoBroadcastFunnelLogger').endFinishedFromUser();break;case j.ERROR_BROADCAST_PUBLISH_FAIL:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').PUBLISH_BROADCAST_FAILED);c('LiveVideoBroadcastFunnelLogger').endPublishFailed();break;case j.UPDATE_CAMERA_STATE:if(o.value===l.REQUEST_CAMERA_ACCESS){this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_REQUEST_CAMERA_ACCESS);c('LiveVideoBroadcastFunnelLogger').requestCameraAccess()}else if(o.value===l.CAMERA_NOT_FOUND){c('LiveVideoBroadcastFunnelLogger').endCameraNotFound()}else if(o.value===l.MICROPHONE_NOT_FOUND){c('LiveVideoBroadcastFunnelLogger').endMicrophoneNotFound()}else if(o.value===l.BROADCAST){c('LiveVideoBroadcastFunnelLogger').foundCamera()}else if(o.value===l.CAMERA_NOT_ALLOWED)c('LiveVideoBroadcastFunnelLogger').cameraPermissionDenied();break;case j.ERROR_MEDIA_VALIDATION:var x={mediaValidationError:o.errorMessage,blockedFromGoingLive:o.blockedFromGoingLive};this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').CAMERA_NOT_FOUND,null,x,null);break;case j.ERROR_BROADCAST_COULD_NOT_START:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_BROADCAST_COULD_NOT_START);c('LiveVideoBroadcastFunnelLogger').endCouldNotStart();break;case j.ERROR_CONNECTION_BROKEN:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_BROADCAST_DISCONNECTED,k.LIVE,null,'disconnected');n=n.set('iceConnectionState','disconnected');c('LiveVideoBroadcastFunnelLogger').connectionBroken();break;case j.ERROR_CREATING_BROADCAST:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_ERROR_CREATING_BROADCAST,null,o.additionalLoggingData,null);c('LiveVideoBroadcastFunnelLogger').errorCreatingBroadcast();break;case j.ERROR_CONNECTION_FAILED:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_BROADCAST_FAILED,k.LIVE,null,'failed');this.$LiveVideoBroadcastLoggingStore3(c('VideoBroadcastLoggerEvent').FACECASTWITH_RTCCALL_ENDED,k.LIVE,{broadcast_transition_reason:'webrtc_failed'});n=n.set('iceConnectionState','failed');c('LiveVideoBroadcastFunnelLogger').endConnectionFailed();break;case j.WEBRTC_CONNECTION_ESTABLISHED:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_CONNECTION_ESTABLISHED,null,null,'connected');n=n.set('iceConnectionState','connected');c('LiveVideoBroadcastFunnelLogger').uploadStarted();break;case j.ICE_CONNECTION_STATE_CHANGED:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_ICE_CONNECTION_STATE_CHANGED,null,null,o.value);n=n.set('iceConnectionState',o.value);break;case j.SET_COPYRIGHT_TRIGGERED:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_COPYRIGHT_TRIGGERED);break;case j.SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_COPYRIGHT_END_BROADCAST);c('LiveVideoBroadcastFunnelLogger').endCopyrightViolation();break;case j.HANDLE_COPYRIGHT_EVENT:switch(o.value){case c('LiveVideoBroadcastCopyrightEvent').RESUME_LIVE_VIDEO:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_COPYRIGHT_RESUME_BROADCAST);break;case c('LiveVideoBroadcastCopyrightEvent').AUTO_TAKE_DOWN_LIVE_VIDEO:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_COPYRIGHT_AUTO_TAKEDOWN);break;case c('LiveVideoBroadcastCopyrightEvent').DELETE_LIVE_VIDEO:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_COPYRIGHT_USER_DELETE_BROADCAST);break;}break;case j.LOG_WEBRTC_STATS:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_WEBRTC_STATS,null,o.value);break;case j.INVITE_FRIEND:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_INVITED_FRIEND,null,null);break;case j.SET_INVITE_FRIENDS_SHOWN:if(o.value)this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_INVITE_FRIENDS_OPENED,null,null);break;case j.ERROR_TIME_OUT_WAITING_FOR_PUBLISH:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_TIME_OUT_WAITING_FOR_PUBLISH,null,{errorSource:o.errorSource});break;case j.ERROR_MWS_BAD_AUDIO_OR_VIDEO_DATA:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_MWS_BAD_AUDIO_OR_VIDEO_DATA,null,null);break;case j.ERROR_TRACK_ENDED:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_TRACK_ENDED,null,null);c('LiveVideoBroadcastFunnelLogger').trackEnded();break;case j.SET_UFI_MARKUP:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_UFI_LOADED,null,null);break;case j.UI_MOUNTED:c('LiveVideoBroadcastFunnelLogger').updateSourceTag();break;case j.READY_STATE_ENDED:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_READY_STATE_ENDED,null,null);break;case j.API_BROADCAST_STOPPED:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').API_BROADCAST_STOPPED,null,null);break;case j.SET_INPUT_SOURCE:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_SET_INPUT_SOUCE,null,{source:o.source});c('LiveVideoBroadcastFunnelLogger').setInputSource(o.source);break;case j.API_GO_LIVE_CLICKED:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_GO_LIVE_CLICKED,null,null);c('LiveVideoBroadcastFunnelLogger').goLiveClicked();break;case j.SET_CONTENT_TAGS:this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_SET_CONTENT_TAGS,null,{content_tags:o.value.map(function(y){return y.getTitle()})});c('LiveVideoBroadcastFunnelLogger').setContentTags();break;}return n};m.prototype.$LiveVideoBroadcastLoggingStore2=function(){var n=document.createElement('canvas'),o=n.getContext('webgl')||n.getContext('experimental-webgl');this.$LiveVideoBroadcastLoggingStore1(c('LiveVideoBroadcastWaterfallEvent').UI_GO_LIVE_CLICKED,null,{webglEnabled:o!=null});c('LiveVideoBroadcastFunnelLogger').goLiveClicked()};m.prototype.$LiveVideoBroadcastLoggingStore3=function(event,n,o){this.getDispatcher().waitFor([c('LiveVideoBroadcastBroadcastStore').getDispatchToken(),c('LiveVideoBroadcastUIStore').getDispatchToken()]);var p=c('LiveVideoBroadcastBroadcastStore').getState().toObject(),q=p.broadcastId,r=c('LiveVideoBroadcastUIStore').getState().toObject(),s=r.broadcastState;if(n&&n!==s)return;var t=new (c('VideoBroadcastTypedLogger'))().setOverrideVideoBroadcastID(q).setOverrideAppID(c('LiveVideoBroadcastConstants').LIVE_WWW_BROADCASTING_APP_ID).setBroadcastEvent(event);if(o)t.updateExtraData(o);t.log()};m.prototype.$LiveVideoBroadcastLoggingStore1=function(event,n,o,p){this.getDispatcher().waitFor([c('LiveVideoBroadcastUIStore').getDispatchToken()]);var q=c('LiveVideoBroadcastBroadcastStore').getState().toObject(),r=q.broadcastId,s=q.videoId,t=c('LiveVideoBroadcastAPIBroadcastStore').get('apiBroadcastID'),u=c('LiveVideoBroadcastBroadcastStore').getCurrentBroadcastTime();u=u===0?null:u;var v=c('LiveVideoBroadcastUIStore').getState().toObject(),w=v.broadcastState,x=v.wasEverOffline;if(n&&n!==w)return;var y=new (c('LiveVideoBroadcastWaterfallTypedLogger'))().setBroadcastID(r).setAPIBroadcastID(t).setBroadcastDuration(u).setSessionID(this.get('sessionID')).setWasUserOffline(x).setIceConnectionState(this.get('iceConnectionState')).setNewIceConnectionState(p).setVideoID(s).setEvent(event);if(o)y.updateExtraData(o);y.log()};function m(){h.apply(this,arguments)}f.exports=new m(c('LiveVideoBroadcastDispatcher'))}),null);
__d('LiveVideoBroadcastRTCCallStore',['FBRTCConstants','FBRTCMultiwayMessage','FluxMapStore','LiveVideoBroadcastActions','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastConstants','LiveVideoBroadcastUIStore','LiveVideoBroadcastWaterfallEvent','LiveVideoBroadcastWaterfallTypedLogger','RTCGroupCallActionTypes','RTCGroupCallDispatcher','VideoBroadcastLoggerEvent','VideoBroadcastTypedLogger'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('FBRTCConstants').CallEndReason,k='Audio or Video Only',l='No data coming',m='Stream not published in time.';h=babelHelpers.inherits(n,c('FluxMapStore'));i=h&&h.prototype;n.prototype.reduce=function(o,p){var q=null;switch(p.type){case c('RTCGroupCallActionTypes').DISMISS:var r=p.request instanceof c('FBRTCMultiwayMessage')?p.request.dismissRequest():null,s=r?r.detailedReasonString:null;if(s===k||s===l){c('LiveVideoBroadcastActions').errorMWSBadAudioOrVideoData();break}else if(s===m){c('LiveVideoBroadcastActions').errorTimeOutWaitingForPublish('MWS');break}case c('RTCGroupCallActionTypes').HANGUP:case c('RTCGroupCallActionTypes').CALL_ERROR:case c('RTCGroupCallActionTypes').END_CALL:switch(p.endCallReason){case j.CLIENT_ERROR:q='client_error';c('LiveVideoBroadcastActions').errorRTCClientError();break;case j.CONNECTION_DROPPED:q='connection_dropped';break;case j.SIGNALING_MESSAGE_FAILED:q='signaling_message_failed';break;case j.HANGUP_CALL:q='call_hangup';break;}this.$LiveVideoBroadcastRTCCallStore1(c('VideoBroadcastLoggerEvent').FACECASTWITH_RTCCALL_ENDED,q?q:j.strNames[p.endCallReason],p.endCallSubreason||p.detailedReasonString||null);break;case c('RTCGroupCallActionTypes').ON_JOIN_RESPONSE:var t=this.get('joinRequestSendTime'),u=t?Date.now()-t:null;this.$LiveVideoBroadcastRTCCallStore2(c('LiveVideoBroadcastWaterfallEvent').UI_JOIN_RESPONSE_RECEIVED,{responseTime:u});break;case c('RTCGroupCallActionTypes').ON_JOIN_REQUEST_SENT:o=o.set('joinRequestSendTime',Date.now());break;}return o};n.prototype.$LiveVideoBroadcastRTCCallStore1=function(event,o,p){var q=c('LiveVideoBroadcastBroadcastStore').getState().toObject(),r=q.broadcastId;new (c('VideoBroadcastTypedLogger'))().setOverrideVideoBroadcastID(r).setOverrideAppID(c('LiveVideoBroadcastConstants').LIVE_WWW_BROADCASTING_APP_ID).setBroadcastEvent(event).addToExtraData('broadcast_transition_reason',o).addToExtraData('broadcast_transition_subreason',p).log()};n.prototype.$LiveVideoBroadcastRTCCallStore2=function(event,o){var p=c('LiveVideoBroadcastBroadcastStore').getState().toObject(),q=p.broadcastId,r=p.videoId,s=c('LiveVideoBroadcastBroadcastStore').getCurrentBroadcastTime();s=s===0?null:s;var t=c('LiveVideoBroadcastUIStore').getState().toObject(),u=t.wasEverOffline,v=new (c('LiveVideoBroadcastWaterfallTypedLogger'))().setBroadcastID(q).setBroadcastDuration(s).setWasUserOffline(u).setVideoID(r).setEvent(event);if(o)v.updateExtraData(o);v.log()};function n(){h.apply(this,arguments)}f.exports=new n(c('RTCGroupCallDispatcher'))}),null);
__d('LiveVideoBroadcastReplayUIStore',['LiveVideoBroadcastConstants','LiveVideoBroadcastDispatcher','FluxMapStore','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LiveVideoBroadcastConstants').ACTIONS;h=babelHelpers.inherits(k,c('FluxMapStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return c('immutable').Map({vodReady:false,shouldUploadHigherQualityReplayVideo:false})};k.prototype.reduce=function(l,m){switch(m.type){case j.SET_VOD_READY:l=l.set('vodReady',true);break;case j.SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO:l=l.set('shouldUploadHigherQualityReplayVideo',m.value);break;case j.INITIALIZE:l=this.getInitialState();break;}return l};function k(){h.apply(this,arguments)}f.exports=new k(c('LiveVideoBroadcastDispatcher'))}),null);
__d("XLiveControlPanelController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/create\/",{actorid:{type:"FBID"},targetid:{type:"FBID"},broadcastid:{type:"FBID"},step:{type:"Enum",defaultValue:"landing",enumType:1}})}),null);
__d('LiveVideoBroadcastContainer.react',['csx','fbt','LiveVideoBroadcastActions','Arbiter','AsyncRequest','DOM','FluxContainer','LiveVideoBroadcast.react','LiveVideoBroadcastBroadcastStore','LiveVideoBroadcastConstants','LiveVideoBroadcastCopyrightStore','LiveVideoBroadcastDispatcher','LiveVideoBroadcastIDStore','LiveVideoBroadcastReplayUIStore','LiveVideoBroadcastRTCCallStore','LiveVideoBroadcastUIStore','LiveVideoBroadcastUtils','LiveVideoBroadcastStatusUpdateSubscriptionHack','LiveVideoInviteFriendsStore','Network','React','ReactDOM','RTCCallStore','RTCGroupCallDispatcher','RTCMediaDevicesStore','RTCUserSettingsStore','Run','Style','SubscriptionsHandler','UFILivePinnedCommentStore','UFIUIEvents','VideoBroadcastStatus','XBasicFBNuxDismissController','XLiveControlPanelController','queryThenMutateDOM','LiveVideoBroadcastAPIBroadcastStore','LiveVideoBroadcastLoggingStore'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('LiveVideoBroadcastConstants').BROADCAST_STATE,m=c('LiveVideoBroadcastConstants').CAMERA_STATE,n=4459,o=60000;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;p.getStores=function(){return [c('LiveVideoBroadcastBroadcastStore'),c('LiveVideoBroadcastCopyrightStore'),c('LiveVideoBroadcastReplayUIStore'),c('LiveVideoBroadcastUIStore'),c('LiveVideoBroadcastIDStore')]};p.calculateState=function(q,r){var s=c('LiveVideoBroadcastUIStore').getState().toObject(),t=s.broadcastState,u=s.cameraState,v=s.composerPrivacySelector,w=s.connectionBroken,x=s.connectionFailed,y=s.countdownTime,z=s.dialog,aa=s.composerConfig,ba=s.showModalOverlay,ca=s.showNUX,da=s.sponsorConfig,ea=s.sponsorEnabled,fa=s.startTime,ga=s.tagList,ha=s.broadcastCouldNotStart,ia=s.broadcastCouldNotPublish,ja=s.ufiMarkup,ka=s.ufiScrollArea,la=s.isDescriptionExpanded,ma=s.description,na=s.shortDescription,oa=s.peopleTaggerSource,pa=s.privacySelector,qa=s.profileLink,ra=s.broadcasterName,sa=s.gks,ta=s.targetSelectorProps,ua=s.profilePicUri,va=s.inputSource,wa=s.shareMode,xa=s.cameraEmbedHTML,ya=s.targetingEnabled,za=c('LiveVideoBroadcastBroadcastStore').getState().toObject(),ab=za.thumbnailUri,bb=za.webcamStreamUrl,cb=za.feedbackID,db=za.actorID,eb=za.selectedVideoInputSource,fb=za.webRTCLoggingFreq,gb=za.viewerID,hb=za.accountID,ib=za.targetID,jb=c('LiveVideoBroadcastReplayUIStore').getState().toObject(),kb=jb.vodReady,lb=c('LiveVideoBroadcastCopyrightStore').getState().toObject(),mb=lb.copyrightTriggered,nb=lb.broadcastEndedWithCopyrightViolation,ob=lb.copyrightsViolationDialogState,pb=c('LiveVideoBroadcastIDStore').get('videoID'),qb=c('LiveVideoBroadcastIDStore').get('broadcastID'),rb=c('RTCCallStore').getState().toObject(),sb=rb.connections,tb=sb.first(),ub=q?q.webRTCLoggingStarted:false;if(tb&&!ub&&fb){p.$LiveVideoBroadcastContainer9(tb,fb||o,t);ub=true}var vb=q?q.videoID:null;if(pb&&pb!==vb)c('LiveVideoBroadcastStatusUpdateSubscriptionHack').subscribe(pb,function(wb){var xb=wb.live_video_broadcast_status_update_subscribe,yb=xb.video_broadcast_status;if(yb===c('VideoBroadcastStatus').VOD_READY)c('LiveVideoBroadcastActions').setVodReady();});return {actorID:db,composerPrivacySelector:v,broadcastCouldNotStart:ha,broadcastCouldNotPublish:ia,broadcastEndedWithCopyrightViolation:nb,broadcastID:qb,broadcastState:t,cameraState:u,connectionBroken:w,connectionFailed:x,countdownTime:y,copyrightTriggered:mb,copyrightsViolationDialogState:ob,dialog:z,composerConfig:aa,selectedVideoInputSource:eb,showModalOverlay:ba,showNUX:ca,sponsorConfig:da,sponsorEnabled:ea,startTime:fa,tagList:ga,thumbnailUri:ab,ufiMarkup:ja,ufiScrollArea:ka,webRTCLoggingStarted:ub,videoID:pb,viewerID:gb,vodReady:kb,webcamStreamUrl:bb,isDescriptionExpanded:la,description:ma,shortDescription:na,peopleTaggerSource:oa,feedbackID:cb,privacySelector:pa,profileLink:qa,broadcasterName:ra,gks:sa,targetSelectorProps:ta,profilePicUri:ua,inputSource:va,shareMode:wa,accountID:hb,targetID:ib,cameraEmbedHTML:xa,targetingEnabled:ya}};p.$LiveVideoBroadcastContainer9=function(q,r){q.getStats().done(function(s){c('LiveVideoBroadcastActions').logWebRTCStats(c('LiveVideoBroadcastUtils').reduceWebRTCStats(s))});setTimeout(function(){p.$LiveVideoBroadcastContainer9(q,r)},r)};function p(q){k.constructor.call(this,q);this.$LiveVideoBroadcastContainer17=function(){switch(this.state.broadcastState){case l.PREVIEW:if(this.state.countdownTime){this.$LiveVideoBroadcastContainer14()}else this.$LiveVideoBroadcastContainer12();break;case l.LIVE:this.$LiveVideoBroadcastContainer16();break;default:break;}}.bind(this);c('LiveVideoBroadcastDispatcher').explicitlyRegisterStores([c('LiveVideoBroadcastAPIBroadcastStore'),c('LiveVideoBroadcastBroadcastStore'),c('LiveVideoBroadcastLoggingStore'),c('LiveVideoBroadcastReplayUIStore'),c('LiveVideoBroadcastUIStore'),c('LiveVideoBroadcastCopyrightStore'),c('LiveVideoBroadcastReplayUIStore'),c('LiveVideoInviteFriendsStore'),c('LiveVideoBroadcastIDStore')]);c('RTCGroupCallDispatcher').explicitlyRegisterStores([c('LiveVideoBroadcastRTCCallStore'),c('RTCCallStore'),c('RTCUserSettingsStore'),c('RTCMediaDevicesStore')]);c('UFILivePinnedCommentStore').addListener(function(){this.$LiveVideoBroadcastContainer10();this.$LiveVideoBroadcastContainer11(true)}.bind(this))}p.prototype.$LiveVideoBroadcastContainer12=function(){c('LiveVideoBroadcastActions').startLiveCountdown();this.$LiveVideoBroadcastContainer5=setInterval(this.$LiveVideoBroadcastContainer13.bind(this),c('LiveVideoBroadcastConstants').MSEC_IN_SEC)};p.prototype.$LiveVideoBroadcastContainer14=function(){clearTimeout(this.$LiveVideoBroadcastContainer5);c('LiveVideoBroadcastActions').cancelLiveCountdown()};p.prototype.$LiveVideoBroadcastContainer13=function(){if(this.state.countdownTime){if(this.state.countdownTime===1){clearTimeout(this.$LiveVideoBroadcastContainer5);this.$LiveVideoBroadcastContainer15()}else c('LiveVideoBroadcastActions').updateCountdown(this.state.countdownTime-1);}else throw new Error('Countdown time is not defined during timer update');};p.prototype.$LiveVideoBroadcastContainer15=function(){c('LiveVideoBroadcastActions').finishCountdown();c('LiveVideoBroadcastActions').startLiveBroadcastRequest(this.state.gks?this.state.gks.live_www_broadcasting_download_raw_video:false)};p.prototype.$LiveVideoBroadcastContainer16=function(){c('LiveVideoBroadcastActions').finishBroadcastRequest()};p.prototype.$LiveVideoBroadcastContainer18=function(){var q=c('XBasicFBNuxDismissController').getURIBuilder().setInt('nux_id',n).getURI();new (c('AsyncRequest'))().setURI(q).send();c('LiveVideoBroadcastActions').setShowNUX(false)};p.prototype.$LiveVideoBroadcastContainer11=function(){var q=arguments.length<=0||arguments[0]===undefined?false:arguments[0],r=this.state.ufiScrollArea,s=false,t=void 0,u=void 0;if(!r)return;c('queryThenMutateDOM')(function(){var v=parseFloat(c('Style').get(this.$LiveVideoBroadcastContainer3,'height'));u=v-this.$LiveVideoBroadcastContainer4;if(!this.$LiveVideoBroadcastContainer4||v>this.$LiveVideoBroadcastContainer4+5||q){s=true;this.$LiveVideoBroadcastContainer4=v}t=Math.max(this.$LiveVideoBroadcastContainer6-this.$LiveVideoBroadcastContainer4-4,0)}.bind(this),function(){c('Style').set(this.$LiveVideoBroadcastContainer2,'height',t+'px');var v=r.getScrollHeight()+r.distanceToBottom()-u;if(v<c('LiveVideoBroadcastConstants').MAX_SCROLL_DISTANCE_FOR_AUTO_SCROLL_PX&&s)r.scrollToBottom(true);}.bind(this))};p.prototype.$LiveVideoBroadcastContainer19=function(){if(!this.state.ufiMarkup)return;this.$LiveVideoBroadcastContainer1=c('DOM').find(this.$LiveVideoBroadcastContainer8,"._5yq9")};p.prototype.$LiveVideoBroadcastContainer10=function(){if(!this.state.ufiMarkup)return;this.$LiveVideoBroadcastContainer3=c('DOM').find(this.state.ufiMarkup,"._5yqa");this.$LiveVideoBroadcastContainer2=c('DOM').find(this.state.ufiMarkup,".uiScrollableAreaBody");this.$LiveVideoBroadcastContainer6=parseFloat(c('Style').get(c('DOM').find(this.state.ufiMarkup,"._4iif"),'height'))};p.prototype.componentDidMount=function(){this.$LiveVideoBroadcastContainer8=c('ReactDOM').findDOMNode(this);this.$LiveVideoBroadcastContainer7=new (c('SubscriptionsHandler'))();this.$LiveVideoBroadcastContainer7.addSubscriptions(c('Arbiter').subscribe(c('UFIUIEvents').Changed,function(q,r){if(this.$LiveVideoBroadcastContainer1===r.form)this.$LiveVideoBroadcastContainer11();}.bind(this)),c('Network').addListener('online',c('LiveVideoBroadcastActions').handleNetworkOnline),c('Network').addListener('offline',c('LiveVideoBroadcastActions').handleNetworkOffline));c('Run').onUnload(function(){if(this.state.broadcastState===l.PREVIEW)c('LiveVideoBroadcastActions').deleteReplayVideo();}.bind(this));c('Run').onBeforeUnload(function(){if(!c('LiveVideoBroadcastUIStore').get('warnOnExit'))return null;if(this.state.broadcastState!==l.FINISHED){return i._("You are still broadcasting")}else return null;}.bind(this));if(navigator.mediaDevices){navigator.mediaDevices.enumerateDevices().then(function(q){if(q.every(function(r){var s=r.kind;return s!=='videoinput'})){c('LiveVideoBroadcastActions').updateCameraState(m.CAMERA_NOT_FOUND)}else c('LiveVideoBroadcastActions').getWebcamStreamUrlRequest();})['catch'](function(){return c('LiveVideoBroadcastActions').updateCameraState(m.CAMERA_NOT_FOUND)})}else c('LiveVideoBroadcastActions').updateCameraState(m.CAMERA_NOT_FOUND);if(this.state.cameraState==='CHECK_CAMERA_ACCESS')window.setTimeout(function(){if(this.state.cameraState==='CHECK_CAMERA_ACCESS')c('LiveVideoBroadcastActions').updateCameraState(m.REQUEST_CAMERA_ACCESS);}.bind(this),c('LiveVideoBroadcastConstants').REQUEST_ACCESS_DELAY_MS);c('LiveVideoBroadcastActions').uiMounted();window.addEventListener('resize',function(){this.$LiveVideoBroadcastContainer10();this.$LiveVideoBroadcastContainer11(true)}.bind(this))};p.prototype.componentDidUpdate=function(q,r){if(this.state.ufiMarkup&&!r.ufiMarkup)this.$LiveVideoBroadcastContainer19();if(this.state.ufiScrollArea&&!r.ufiScrollArea)this.$LiveVideoBroadcastContainer10();if(this.state.isDescriptionExpanded!==r.isDescriptionExpanded)this.$LiveVideoBroadcastContainer20();};p.prototype.componentWillUnmount=function(){clearTimeout(this.$LiveVideoBroadcastContainer5)};p.prototype.$LiveVideoBroadcastContainer20=function(){this.$LiveVideoBroadcastContainer10();this.$LiveVideoBroadcastContainer11(true)};p.prototype.render=function(){return c('React').createElement(c('LiveVideoBroadcast.react'),babelHelpers['extends']({},this.state,{accountID:this.state.accountID,actorID:this.state.actorID,broadcasterName:this.state.broadcasterName,composerConfig:this.state.composerConfig,copyrightTriggered:this.state.copyrightTriggered,description:this.state.description,dialog:this.state.dialog,embedHTML:this.state.cameraEmbedHTML,feedbackID:this.state.feedbackID,gks:this.state.gks,inputSource:this.state.inputSource,isDescriptionExpanded:this.state.isDescriptionExpanded,peopleTaggerSource:this.state.peopleTaggerSource,privacySelector:this.state.privacySelector,profileLink:this.state.profileLink,profilePicUri:this.state.profilePicUri,selectedVideoInputSource:this.state.selectedVideoInputSource,shareMode:this.state.shareMode,shortDescription:this.state.shortDescription,showNUX:this.state.showNUX,sponsorConfig:this.state.sponsorConfig,sponsorEnabled:this.state.sponsorEnabled,tagList:this.state.tagList,targetID:this.state.targetID,targetSelectorProps:this.state.targetSelectorProps,targetingEnabled:this.state.targetingEnabled,thumbnailUri:this.state.thumbnailUri,ufiMarkup:this.state.ufiMarkup,vodReady:this.state.vodReady,onActionButtonClick:this.$LiveVideoBroadcastContainer17,onNUXCloseButtonClick:this.$LiveVideoBroadcastContainer18}))};f.exports=c('FluxContainer').create(p)}),null);