if (self.CavalryLogger) { CavalryLogger.start_js(["ukPRd"]); }

__d("MercuryAttachmentConstants",[],(function a(b,c,d,e,f,g){var h={SIDE_LENGTH:9};f.exports=h}),null);
__d('MessengerForwardChatFlowSharedAttachmentsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig',this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig',this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1=babelHelpers['extends']({},this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1,j);return this};h.prototype.setAttachmentID=function(j){this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1.attachment_id=j;return this};h.prototype.setAttachmentType=function(j){this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1.attachment_type=j;return this};h.prototype.setIsFromViewer=function(j){this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1.is_from_viewer=j;return this};h.prototype.setVC=function(j){this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1=babelHelpers['extends']({},this.$MessengerForwardChatFlowSharedAttachmentsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={attachment_id:true,attachment_type:true,is_from_viewer:true,vc:true};f.exports=h}),null);
__d('ChatImageArrowDirection',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({BOTH:null,LEFT:null,RIGHT:null});f.exports=h}),null);
__d('ChatImageWithArrow.react',['cx','ChatImageArrowDirection','Link.react','MercuryAttachmentConstants','React','XUISpinner.react','cssURL','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=30,m=15;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$ChatImageWithArrow3=function(){return Math.max(this.props.width,m)}.bind(this),this.$ChatImageWithArrow6=function(){return Math.max(this.props.height,l)}.bind(this),this.$ChatImageWithArrow5=function(t){if(this.props.onClick)return c('React').createElement(c('Link.react'),{onClick:this.props.onClick},t);return t}.bind(this),this.$ChatImageWithArrow7=function(t,u,v,w){if(u===c('ChatImageArrowDirection').LEFT){return 'translate('+v+'px, '+w+'px)'+'rotate(45deg)'}else return 'translate('+(t-v)+'px, '+w+'px)'+'rotate(45deg)';},this.$ChatImageWithArrow8=function(t,u,v,w){if(u===c('ChatImageArrowDirection').LEFT){return 'rotate(-45deg)'+'translate(-'+(this.$ChatImageWithArrow1+v)+'px,'+'-'+w+'px)'}else return 'rotate(-45deg)'+'translate(-'+(t-v)+'px, -'+w+'px)';}.bind(this),p}n.prototype.render=function(){this.$ChatImageWithArrow1=Math.floor(this.props.sideLength/Math.sqrt(2));this.$ChatImageWithArrow2=Math.ceil(this.$ChatImageWithArrow3()+this.$ChatImageWithArrow1);if(this.props.isLoading)return this.$ChatImageWithArrow4();var o=c('joinClasses')("_4yp6"+(this.props.round?' '+"_3lk2":''),this.props.rootClassName);return this.$ChatImageWithArrow5(c('React').createElement('div',{className:o},c('React').createElement('div',{className:"_52kr"+(this.props.round?' '+"_3_om":''),style:{width:this.$ChatImageWithArrow3(),height:this.$ChatImageWithArrow6()}},c('React').createElement('div',{className:"_4yp9",style:{backgroundImage:c('cssURL')(this.props.source),width:this.$ChatImageWithArrow3(),height:this.$ChatImageWithArrow6()}}))))};n.prototype.$ChatImageWithArrow4=function(){var o={width:this.props.sideLength,height:this.props.sideLength};if(this.props.source)o.backgroundImage=c('cssURL')(this.props.source);var p={width:this.props.sideLength,height:this.props.sideLength};if(this.props.source)p.opacity=0;var q={width:this.$ChatImageWithArrow3(),height:this.$ChatImageWithArrow6()};if(this.props.source){q.backgroundImage=c('cssURL')(this.props.source);q.backgroundSize='cover'}return c('React').createElement('div',{className:"_4yp6"},c('React').createElement('div',{className:"_4ypb _3_om",style:q},c('React').createElement(c('XUISpinner.react'),{size:'small'})))};n.propTypes={arrowDirection:k.oneOf(Object.keys(c('ChatImageArrowDirection'))),onClick:k.func,height:k.number.isRequired,isLoading:k.bool,round:k.bool,rootClassName:k.string,sideLength:k.number,source:k.string,width:k.number.isRequired};n.defaultProps={sideLength:c('MercuryAttachmentConstants').SIDE_LENGTH,isLoading:false,round:false};f.exports=n}),null);
__d('ChatPhotoForwardButton.react',['cx','fbt','Link.react','MessagingForwardAttachmentDialog.react','React','TooltipData','MessengerPhotoForwardConfig','MessengerForwardChatFlowSharedAttachmentsTypedLogger'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={dialogShown:false},this.$ChatPhotoForwardButton2=function(){if(this.props.attachmentIDs[0]&&this.props.attachmentTypes[0])new (c('MessengerForwardChatFlowSharedAttachmentsTypedLogger'))().setAttachmentID(this.props.attachmentIDs[0]).setIsFromViewer(this.props.isFromViewer).setAttachmentType(this.props.attachmentTypes[0]).log();this.setState({dialogShown:true})}.bind(this),this.$ChatPhotoForwardButton3=function(){this.setState({dialogShown:false})}.bind(this),o}m.prototype.render=function(){var n=i._("Forward"),o=this.props.isFromViewer?'left':'right',p=Object.assign({'data-tooltip-alignh':o},c('TooltipData').propsFor(n,o)),q=c('MessengerPhotoForwardConfig').showArrowIcon?"_3xqa":"_2t5t";return c('React').createElement('div',null,this.$ChatPhotoForwardButton1(),c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.props,p,{'aria-label':n,onClick:this.$ChatPhotoForwardButton2,ref:'forwardButton',role:'button',className:"_2t5q"+(!this.props.isFromViewer?' '+"_1_47":'')+(this.props.isFromViewer?' '+"_1_48":'')}),c('React').createElement('div',{className:q})))};m.prototype.$ChatPhotoForwardButton1=function(){if(!this.state.dialogShown)return null;var n=i._("Forward in separate messages");return c('React').createElement(c('MessagingForwardAttachmentDialog.react'),{attachmentID:this.props.attachmentIDs[0],onClose:this.$ChatPhotoForwardButton3,shown:this.state.dialogShown,title:n})};m.propTypes={attachmentIDs:l.arrayOf(l.string).isRequired,isFromViewer:l.bool.isRequired};f.exports=m}),null);