if (self.CavalryLogger) { CavalryLogger.start_js(["qVKUi"]); }

__d("VideoPlayerFormatsMap",[],(function a(b,c,d,e,f,g){f.exports={live_map:"inline",live_map_sidebar:"inline",live_map_listview:"inline",live_map_tooltip:"inline",live_map_tooltip_from_listview:"inline",live_map_tooltip_from_map:"inline",video_home_inline:"inline",inline:"inline",chained:"inline",page_live_video_module:"inline",chained_suggestion:"inline",embedded_video:"inline",embedded_video_preview:"inline",embedded_video_from_ufi:"inline",media_collage:"inline",channel:"channel",permalink:"permalink",snowlift:"snowlift",tv:"tv",watch_scroll:"watch_scroll",continue_watching_recommendation:"inline",tahoe:"tahoe",search_live_video_module:"inline",videohub_live:"inline",ads:null,animated_image_share:null,asset:null,broadcast_request_attachment:null,camera_post:null,embedded:null,embedded_page_plugin:null,html5:null,insights:null,live_video_broadcast:null,live_video_preview:null,live_beeper:null,lookback:null,messaging:null,misc:null,mobile:null,offers_detail:null,pages_finch_main_video:null,pages_finch_thumbnail_video:null,pages_finch_trailer:null,pages_video_set:null,profile_video:null,profile_video_hovercard:null,profile_video_thumb:null,report_flow:null,review:null,srt_review:null,trailer_og_attachment:null,trailer_timeline_collections:null,trailer_timeline_unit:null,user_video_tab:null,video_copyright_preview:null,videohub_playlist:null,videohub_featured:null,slideshow:null,live_map_tooltip_from_webgl:null,issues_module:null,gameroom_live_video_tab:null,gameroom_live_video_thumbnail:null,gameroom_live_video_hero_banner:null,live_control_panel:null,group_live_video_module:null,video_inline_chaining:null}}),null);
__d("VideoQualityClassInternal",[],(function a(b,c,d,e,f,g){f.exports={orderedValues:["sd","hd","uhd"]}}),null);
__d("VideoViewabilityKeyEvents",[],(function a(b,c,d,e,f,g){f.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d('VideoPlayerAbrTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('vpabr_proxy:VideoPlayerAbrLoggerConfig',this.$VideoPlayerAbrTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('vpabr_proxy:VideoPlayerAbrLoggerConfig',this.$VideoPlayerAbrTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$VideoPlayerAbrTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoPlayerAbrTypedLogger1=babelHelpers['extends']({},this.$VideoPlayerAbrTypedLogger1,j);return this};h.prototype.setBandwidthEstimate=function(j){this.$VideoPlayerAbrTypedLogger1.bandwidth_estimate=j;return this};h.prototype.setBufferedAhead=function(j){this.$VideoPlayerAbrTypedLogger1.buffered_ahead=j;return this};h.prototype.setBytes=function(j){this.$VideoPlayerAbrTypedLogger1.bytes=j;return this};h.prototype.setClientTime=function(j){this.$VideoPlayerAbrTypedLogger1.client_time=j;return this};h.prototype.setClientTimeBegin=function(j){this.$VideoPlayerAbrTypedLogger1.client_time_begin=j;return this};h.prototype.setClientTimeEnd=function(j){this.$VideoPlayerAbrTypedLogger1.client_time_end=j;return this};h.prototype.setDelayMs=function(j){this.$VideoPlayerAbrTypedLogger1.delay_ms=j;return this};h.prototype.setEvent=function(j){this.$VideoPlayerAbrTypedLogger1.event=j;return this};h.prototype.setPlayhead=function(j){this.$VideoPlayerAbrTypedLogger1.playhead=j;return this};h.prototype.setReason=function(j){this.$VideoPlayerAbrTypedLogger1.reason=j;return this};h.prototype.setRepresentationID=function(j){this.$VideoPlayerAbrTypedLogger1.representation_id=j;return this};h.prototype.setSession=function(j){this.$VideoPlayerAbrTypedLogger1.session=j;return this};h.prototype.setUnsampledReason=function(j){this.$VideoPlayerAbrTypedLogger1.unsampled_reason=j;return this};h.prototype.setVC=function(j){this.$VideoPlayerAbrTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoPlayerAbrTypedLogger1.video_id=j;return this};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$VideoPlayerAbrTypedLogger1=babelHelpers['extends']({},this.$VideoPlayerAbrTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={bandwidth_estimate:true,buffered_ahead:true,bytes:true,client_time:true,client_time_begin:true,client_time_end:true,delay_ms:true,event:true,playhead:true,reason:true,representation_id:true,session:true,unsampled_reason:true,vc:true,video_id:true};f.exports=h}),null);
__d('VideoPlayerShakaPerformanceTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig',this.$VideoPlayerShakaPerformanceTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig',this.$VideoPlayerShakaPerformanceTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$VideoPlayerShakaPerformanceTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1=babelHelpers['extends']({},this.$VideoPlayerShakaPerformanceTypedLogger1,j);return this};h.prototype.setAccessToken=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.access_token=j;return this};h.prototype.setAdditionalBufferedRanges=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.additional_buffered_ranges=j;return this};h.prototype.setClientTimeBegin=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.client_time_begin=j;return this};h.prototype.setClientTimeEnd=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.client_time_end=j;return this};h.prototype.setCode=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.code=j;return this};h.prototype.setError=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.error=j;return this};h.prototype.setEvent=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.event=j;return this};h.prototype.setInitiator=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.initiator=j;return this};h.prototype.setIsLive=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.is_live=j;return this};h.prototype.setLastBufferedEnd=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.last_buffered_end=j;return this};h.prototype.setLastBufferedStart=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.last_buffered_start=j;return this};h.prototype.setLastPlayingEventTime=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.last_playing_event_time=j;return this};h.prototype.setLength=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.length=j;return this};h.prototype.setLiveheadDelta=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.livehead_delta=j;return this};h.prototype.setParentID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.parent_id=j;return this};h.prototype.setPlayerOriginCallerSpecified=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.player_origin_caller_specified=j;return this};h.prototype.setPlayhead=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.playhead=j;return this};h.prototype.setPriority=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.priority=j;return this};h.prototype.setPushed=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.pushed=j;return this};h.prototype.setRepresentationID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.representation_id=j;return this};h.prototype.setRescheduleCount=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.reschedule_count=j;return this};h.prototype.setResource=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.resource=j;return this};h.prototype.setResult=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.result=j;return this};h.prototype.setScriptPath=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.script_path=j;return this};h.prototype.setSequentialID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.sequential_id=j;return this};h.prototype.setSession=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.session=j;return this};h.prototype.setState=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.state=j;return this};h.prototype.setStreamSwitchReason=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.stream_switch_reason=j;return this};h.prototype.setTimeToFirstByte=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_first_byte=j;return this};h.prototype.setTimeToLastByte=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_last_byte=j;return this};h.prototype.setTimeToRequestSent=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_request_sent=j;return this};h.prototype.setTimeToRequestStart=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_request_start=j;return this};h.prototype.setType=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.type=j;return this};h.prototype.setVC=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.video_id=j;return this};h.prototype.setWasDelayed=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.was_delayed=j;return this};var i={access_token:true,additional_buffered_ranges:true,client_time_begin:true,client_time_end:true,code:true,error:true,event:true,initiator:true,is_live:true,last_buffered_end:true,last_buffered_start:true,last_playing_event_time:true,length:true,livehead_delta:true,parent_id:true,player_origin_caller_specified:true,playhead:true,priority:true,pushed:true,representation_id:true,reschedule_count:true,resource:true,result:true,script_path:true,sequential_id:true,session:true,state:true,stream_switch_reason:true,time_to_first_byte:true,time_to_last_byte:true,time_to_request_sent:true,time_to_request_start:true,type:true,vc:true,video_id:true,was_delayed:true};f.exports=h}),null);
__d('TaggedTimeRanges',['sprintf'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$TaggedTimeRanges1=[];this.$TaggedTimeRanges2=0;this.$TaggedTimeRanges3=0;this.$TaggedTimeRanges4=i?i:function(j,k){return j===k}}h.prototype.add=function(i,j,k){'use strict';if(j<i)return;if(j===i)return;if(this.$TaggedTimeRanges1.length===0){this.$TaggedTimeRanges1.push({start:i,end:j,tag:k});return}var l=0,m=0;for(var n=0;n<this.$TaggedTimeRanges1.length;n++){if(i>=this.$TaggedTimeRanges1[n].start)l=n+1;if(j<=this.$TaggedTimeRanges1[n].end)m=n;if(j<this.$TaggedTimeRanges1[n].start)break;}this.$TaggedTimeRanges1.splice(l,m-l,{start:i,end:j,tag:k});this.$TaggedTimeRanges5(l)};h.prototype.$TaggedTimeRanges5=function(i){'use strict';var j=this.$TaggedTimeRanges1[i],k=null;if(i!==0)k=this.$TaggedTimeRanges1[i-1];if(k!==null)if(this.$TaggedTimeRanges4(k.tag,j.tag)){if(k.end>=j.start){this.$TaggedTimeRanges1.splice(i-1,2,{start:k.start,end:Math.max(j.end,k.end),tag:j.tag});i--}}else{if(k.end>=j.start)this.$TaggedTimeRanges1.splice(i-1,1,{start:k.start,end:j.start,tag:k.tag});if(k.end>j.end)this.$TaggedTimeRanges1.splice(i+1,0,{start:j.end,end:k.end,tag:k.tag});}var l=null;if(i!==this.$TaggedTimeRanges1.length-1)l=this.$TaggedTimeRanges1[i+1];if(l)if(this.$TaggedTimeRanges4(l.tag,j.tag)){if(l.start<=j.end)this.$TaggedTimeRanges1.splice(i,2,{start:j.start,end:Math.max(l.end,j.end),tag:j.tag});}else if(l.start<=j.end)if(l.end<j.end){this.$TaggedTimeRanges1.splice(i,1,{start:j.start,end:l.start,tag:j.tag});this.$TaggedTimeRanges1.push({start:l.end,end:j.end,tag:j.tag})}else this.$TaggedTimeRanges1.splice(i+1,1,{start:j.end,end:l.end,tag:l.tag});};h.prototype.get=function(i){'use strict';var j=i>=this.$TaggedTimeRanges3?this.$TaggedTimeRanges2:0,k=null;for(var l=j;l<this.$TaggedTimeRanges1.length;l++)if(this.$TaggedTimeRanges1[l].start<=i&&i<this.$TaggedTimeRanges1[l].end){k=l;break}this.$TaggedTimeRanges2=k===null?0:k;this.$TaggedTimeRanges3=i;return k===null?null:this.$TaggedTimeRanges1[k].tag};h.prototype.getLength=function(){'use strict';return this.$TaggedTimeRanges1.length};f.exports=h}),null);
__d('dispatchCustomEvent',[],(function a(b,c,d,e,f,g){function h(i,j,k){var l=void 0;if(typeof b.CustomEvent==='function'){l=new b.CustomEvent(j,{detail:k})}else{l=b.document.createEvent('CustomEvent');l.initCustomEvent(j,true,true,k)}i.dispatchEvent(l)}f.exports=h}),null);
__d('dispatchEvent',[],(function a(b,c,d,e,f,g){function h(i,j){var k;if(typeof b.Event==='function'){k=new b.Event(j)}else{k=b.document.createEvent('Event');k.initEvent(j,true,true)}i.dispatchEvent(k)}f.exports=h}),null);
__d('VideoChannelProgressCircle.react',['cx','React','ReactDOM','Style'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$VideoChannelProgressCircle1=0,this.$VideoChannelProgressCircle2=0,n}l.prototype.componentDidMount=function(){'use strict';this.drawProgressCircle(this.props)};l.prototype.componentWillUnmount=function(){'use strict';clearInterval(this.$VideoChannelProgressCircle1)};l.prototype.componentWillReceiveProps=function(m){'use strict';if(m.makeProgress!==this.props.makeProgress||m.timeoutSec!==this.props.timeoutSec)this.drawProgressCircle(m);};l.prototype.drawProgressCircle=function(m){'use strict';var n=c('ReactDOM').findDOMNode(this.refs.progressCircle),o=this.$VideoChannelProgressCircle2,p=o/100;c('Style').set(n,'stroke-dashoffset',o+'px');clearInterval(this.$VideoChannelProgressCircle1);if(m.makeProgress)this.$VideoChannelProgressCircle1=setInterval(function(){o-=p;c('Style').set(n,'stroke-dashoffset',o+'px');if(o<=0){clearInterval(this.$VideoChannelProgressCircle1);c('Style').set(n,'stroke-dashoffset','0px');m.onProgressDone&&m.onProgressDone()}}.bind(this),m.timeoutSec*10);};l.prototype.render=function(){'use strict';var m=this.props.watchAndScroll?34:80,n=this.props.watchAndScroll?2:4,o=m/2,p=o-n/2;this.$VideoChannelProgressCircle2=p*2*Math.PI;return c('React').createElement('div',null,c('React').createElement('svg',{className:"_20_8"},c('React').createElement('circle',{cx:o,cy:o,r:p,stroke:'#ffffff',strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:'transparent'}),c('React').createElement('circle',{ref:'progressCircle',cx:o,cy:o,r:p,stroke:'#5890ff',strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:'transparent'})),this.props.children)};l.propTypes={children:k.element,makeProgress:k.bool.isRequired,onProgressDone:k.func,timeoutSec:k.number.isRequired,watchAndScroll:k.bool};f.exports=l}),null);
__d('VideoChannelReplayImage.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement(c('Image.react'),{onClick:this.props.onClick,className:"_4nxy"+(this.props.size==='small'?' '+"_4nxz":''),src:'/images/video/channel_view/replay.svg'})};function k(){'use strict';i.apply(this,arguments)}k.defaultProps={size:'normal'};f.exports=k}),null);
__d('StaleVideoMonitor',['performanceNow','EventEmitter','SubscriptionsHandler','debounce','EventListener'],(function a(b,c,d,e,f,g){var h,i,j=1500;h=babelHelpers.inherits(k,c('EventEmitter'));i=h&&h.prototype;function k(l){'use strict';i.constructor.call(this);this.$StaleVideoMonitor1=new (c('SubscriptionsHandler'))();this.$StaleVideoMonitor2=l.currentTime;this.$StaleVideoMonitor3=c('performanceNow')();var m=c('debounce')(function(){if(l.paused||l.playbackRate<=0)return;var o=l.currentTime,p=l.buffered,q=false,r=void 0;for(r=0;r<p.length;++r){var s=p.start(r),t=p.end(r);if(s>o)break;if(s<=o&&t>=o+1){q=true;break}}if(q){this.$StaleVideoMonitor4();this.emit('stale',c('performanceNow')()-this.$StaleVideoMonitor3,(l.currentTime-this.$StaleVideoMonitor2)*1000)}}.bind(this),j),n=function(){this.$StaleVideoMonitor2=l.currentTime;this.$StaleVideoMonitor3=c('performanceNow')();m()}.bind(this);this.$StaleVideoMonitor1.addSubscriptions(c('EventListener').listen(l,'playing',n),c('EventListener').listen(l,'play',n),c('EventListener').listen(l,'timeupdate',n))}k.prototype.$StaleVideoMonitor4=function(){'use strict';if(this.$StaleVideoMonitor1)this.$StaleVideoMonitor1.release();};k.prototype.destroy=function(){'use strict';this.$StaleVideoMonitor4()};f.exports=k}),null);
__d('VideoPushParametersHelper',['URI','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){var h=/(.*)\.(xx|fna)\.fbcdn\.net/;function i(j){'use strict';this.$VideoPushParametersHelper1=new (c('URI'))(j);return this}i.prototype.setStreamEndOffset=function(j){'use strict';this.$VideoPushParametersHelper2=Math.min(Math.floor(j)+1,c('VideoPlayerShakaExperiments').liveMaxSegmentsToPush);this.$VideoPushParametersHelper4=Math.floor(j)+1;return this};i.prototype.setSegmentStartTime=function(j){'use strict';this.$VideoPushParametersHelper3=j;return this};i.prototype.setPushVideoRepresentationID=function(j){'use strict';this.$VideoPushParametersHelper5=j;return this};i.prototype.setPushAudioRepresentationID=function(j){'use strict';this.$VideoPushParametersHelper6=j;return this};i.prototype.setUseLongCacheForManifest=function(j){'use strict';this.$VideoPushParametersHelper7=j;return this};i.prototype.getURL=function(){'use strict';var j=h.test(this.$VideoPushParametersHelper1.toString());if(j&&c('VideoPlayerShakaExperiments').liveSendPushHeaders){if(this.$VideoPushParametersHelper2!=null)this.$VideoPushParametersHelper1.addQueryData('_nc_p_n',this.$VideoPushParametersHelper2);if(this.$VideoPushParametersHelper3!=null){this.$VideoPushParametersHelper1.addQueryData('_nc_p_ts',this.$VideoPushParametersHelper3)}else if(this.$VideoPushParametersHelper4!=null)this.$VideoPushParametersHelper1.addQueryData('_nc_p_o',this.$VideoPushParametersHelper4);if(this.$VideoPushParametersHelper5!=null&&this.$VideoPushParametersHelper6!=null){this.$VideoPushParametersHelper1.addQueryData('_nc_p_rid',this.$VideoPushParametersHelper5);this.$VideoPushParametersHelper1.addQueryData('_nc_p_arid',this.$VideoPushParametersHelper6)}if(this.$VideoPushParametersHelper7)this.$VideoPushParametersHelper1.addQueryData('_nc_nc','1');}return this.$VideoPushParametersHelper1.toString()};i.prototype.getSegmentsToPush=function(){'use strict';return this.$VideoPushParametersHelper2};i.prototype.getSegmentStartTime=function(){'use strict';return this.$VideoPushParametersHelper3};i.prototype.getSegmentOffset=function(){'use strict';return this.$VideoPushParametersHelper4};i.prototype.getPushVideoRepresentationID=function(){'use strict';return this.$VideoPushParametersHelper5};i.prototype.getPushAudioRepresentationID=function(){'use strict';return this.$VideoPushParametersHelper6};i.prototype.getUseLongCacheForManifest=function(){'use strict';return this.$VideoPushParametersHelper7};i.getDefaultLiveStreamEndOffset=function(){'use strict';return c('VideoPlayerShakaExperiments').liveDefaultStreamEndOffset};f.exports=i}),null);
__d('VideoMimeTypes',[],(function a(b,c,d,e,f,g){function h(o,p,q){return o+'; codecs="'+p+', '+q+'"'}var i='mp4a.40.2';function j(o){return 'avc1.42E0'+o.toString(16).toUpperCase()}function k(o){return 'avc1.4D40'+o.toString(16).toUpperCase()}function l(o){return 'avc1.6400'+o.toString(16).toUpperCase()}var m='video/mp4',n={h264baseline:h(m,j(30),i),h264main30avc:h(m,k(30),i),h264main31avc:h(m,k(31),i),h264high50avc:h(m,l(50),i),h264high51avc:h(m,l(51),i)};f.exports=n}),null);
__d('canVideoPlayType',['DOM'],(function a(b,c,d,e,f,g){var h=null;function i(j){h=h||c('DOM').create('video');if(!('canPlayType' in h))return '';return h.canPlayType(j)}f.exports=i}),null);
__d('supportsHTML5Video',['DOM','memoize'],(function a(b,c,d,e,f,g){f.exports=c('memoize')(function(){return !!c('DOM').create('video').canPlayType})}),null);
__d('isHTML5VideoImplementationUnavailable',['VideoMimeTypes','canVideoPlayType','supportsHTML5Video'],(function a(b,c,d,e,f,g){var h=function i(j){if(j){var k=c('canVideoPlayType')(c('VideoMimeTypes').h264main30avc);return k!=='probably'}return !c('supportsHTML5Video')()};f.exports=h}),null);
__d('VideoPlayerMetaData',['invariant','regeneratorRuntime','Promise','AsyncRequest','VideoDashPrefetchCache','VideoData','VideoPushParametersHelper','XVideoDataController','isHTML5VideoImplementationUnavailable'],(function a(b,c,d,e,f,g,h){'use strict';var i={},j=120000;function k(l){this.videoID=l}k.prototype.getVideoID=function(){return this.videoID};k.prototype.genVideoData=function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=arguments[1],o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:q.prev=0;o=this.$VideoPlayerMetaData1;if(!o||m.forceRefetch){if(this.$VideoPlayerMetaData2){clearTimeout(this.$VideoPlayerMetaData2);this.$VideoPlayerMetaData2=null}o=this.$VideoPlayerMetaData1=this.$VideoPlayerMetaData3(m);this.$VideoPlayerMetaData2=setTimeout(function(){this.$VideoPlayerMetaData1=null;n()}.bind(this),m.cacheTimeout||j)}q.next=5;return c('regeneratorRuntime').awrap(o);case 5:return q.abrupt('return',q.sent);case 8:q.prev=8;q.t0=q['catch'](0);throw q.t0;case 11:case 'end':return q.stop();}},null,this,[[0,8]])};k.prototype.$VideoPlayerMetaData3=function(l){var m=c('XVideoDataController').getURIBuilder().setString('video_id',this.videoID).setBool('supports_html5_video',!c('isHTML5VideoImplementationUnavailable')(true)),n=l.forceFlash;if(n!==undefined)m=m.setBool('force_flash',n);var o=m.getURI();return new (c('Promise'))(function(p,q){new (c('AsyncRequest'))(o).setMethod('GET').setURI(o).setReadOnly(true).setOption('suppressEvaluation',true).setAllowCrossPageTransition(true).setHandler(function(r){var s=JSON.parse(r.payload.responseText);if(!s.error){p(new (c('VideoData'))(s))}else q(s.error);}).setErrorHandler(function(r){var s=JSON.parse(r.errorMsg).error;q(s)}).send()})};k.get=function(l){if(!i[l])i[l]=new k(l);return i[l]};k.genVideoData=function l(m){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2];return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:q.next=2;return c('regeneratorRuntime').awrap(k.get(m).genVideoData(n,o));case 2:return q.abrupt('return',q.sent);case 3:case 'end':return q.stop();}},null,this)};k.abortPrefetching=function(l){c('VideoDashPrefetchCache').getInstance().cancelRequestFromMouseMovement(l)};k.queuePrefetchRequestFromMouseMovement=function(l,m,n){var o=arguments.length<=3||arguments[3]===undefined?function(){}:arguments[3],p=arguments.length<=4||arguments[4]===undefined?function(){}:arguments[4],q=c('VideoDashPrefetchCache').getInstance(),r=l.getLiveManifestUrl();r||h(0);q.queueRequestFromMouseMovement(l.getVideoID(),r,new (c('VideoPushParametersHelper'))(r).setStreamEndOffset(c('VideoPushParametersHelper').getDefaultLiveStreamEndOffset()),m,n,o,p)};k.genPrefetch=function l(m){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=arguments.length<=2||arguments[2]===undefined?0:arguments[2],p=arguments.length<=3||arguments[3]===undefined?8000:arguments[3],q=arguments.length<=4||arguments[4]===undefined?function(){}:arguments[4],r=arguments.length<=5||arguments[5]===undefined?function(){}:arguments[5],s=arguments.length<=6||arguments[6]===undefined?function(){}:arguments[6],t;return c('regeneratorRuntime').async(function u(v){while(1)switch(v.prev=v.next){case 0:v.next=2;return c('regeneratorRuntime').awrap(k.genVideoData(m,n));case 2:t=v.sent;if(t.isLiveStream()){q();k.queuePrefetchRequestFromMouseMovement(t,o,p,r,s)}return v.abrupt('return',c('Promise').resolve());case 5:case 'end':return v.stop();}},null,this)};f.exports=k}),null);
__d("VideoPlayerUtils",[],(function a(b,c,d,e,f,g){var h={getBufferedAheadOf:function i(j){var k=1/60,l=j.currentTime,m=j.buffered;for(var n=0;n<m.length;n++){var o=m.start(n)-k,p=m.end(n)+k;if(l>=o&&l<=p)return m.end(n)-l;}return 0}};f.exports=h}),null);
__d('VideoQualityClasses',['VideoQualityClassInternal'],(function a(b,c,d,e,f,g){f.exports=c('VideoQualityClassInternal').orderedValues}),null);
__d('VideoWithClickPlayPause',['VideoPlayerReason','logVideosClickTracking'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$VideoWithClickPlayPause1=i;this.$VideoWithClickPlayPause2=this.$VideoWithClickPlayPause1.getVideoNode();this.$VideoWithClickPlayPause1.addListener('clickVideo',this.$VideoWithClickPlayPause3.bind(this));if(this.$VideoWithClickPlayPause1.hasSeenClick())this.$VideoWithClickPlayPause3();}h.prototype.$VideoWithClickPlayPause3=function(){'use strict';var i=this.$VideoWithClickPlayPause1.getOption('CommercialBreakVideoAdOverlay','videoController');if(this.$VideoWithClickPlayPause1.isState('playing')){if(this.$VideoWithClickPlayPause1.getOption('VideoWithLiveBroadcast','isLive')||i&&i.getOption('VideoWithLiveBroadcast','isLive')||this.$VideoWithClickPlayPause4())return;this.$VideoWithClickPlayPause1.pause(c('VideoPlayerReason').USER)}else{c('logVideosClickTracking')(this.$VideoWithClickPlayPause2);this.$VideoWithClickPlayPause1.play(c('VideoPlayerReason').USER)}};h.prototype.$VideoWithClickPlayPause4=function(){'use strict';var i=this.$VideoWithClickPlayPause1.getOption('CommercialBreakVideoAdOverlay','videoController'),j=i&&i.getOption('VideoWithInstreamVideo','controller');return j&&!j.getConfig().canPauseAdBreak};f.exports=h}),null);
__d("VideoPlayerLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CLICK:"click",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availabilty_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",DISPLAYED:"displayed",ENTERED_HD:"entered_hd",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",EXITED_HD:"exited_hd",EXITED_FS:"exited_fs",ERROR:"error",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",STALE:"stale",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PROGRESS:"progress",STREAM_RESET:"stream_reset",POP_FAILOVER:"pop_failover",SURFACE_UPDATED:"surface_updated",QUALITY_CHANGE:"quality_change",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SPLASH_DISPLAYED:"splash_displayed",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",UNMUTED:"unmuted",UNPAUSED:"unpaused",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",SWITCHED_IMPLEMENTATION:"switched_implementation",INLINE_CLICK_TO_PLAY:"inline_click_to_play",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_LOAD_ERROR:"manifest_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",PLAYER_WARNING:"player_warning",NETWORK_TIMEOUT:"network_timeout",VIDEO_LOGGING_SESSION_TIMEOUT:"video_logging_session_timeout",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",HEADING_RESET:"heading_reset",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",VIEWABILITY_CHANGED:"viewability_changed"})}),null);
__d('VideoPlayerLoggerFallbackReasons',[],(function a(b,c,d,e,f,g){f.exports={TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'}}),null);
__d('VideoWithFallbackMode',['Event','SubscriptionsHandler','TimeSlice','VideoPlayerExperiments','VideoPlayerLoggerEvent','VideoPlayerLoggerFallbackReasons','VideoPlayerReason','Visibility'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$VideoWithFallbackMode1=false;this.$VideoWithFallbackMode2=false;this.$VideoWithFallbackMode5=function(){this.$VideoWithFallbackMode1=true;if(c('VideoPlayerExperiments').disableFallbackModeForInactiveTab&&this.$VideoWithFallbackMode2){this.$VideoWithFallbackMode6.play(c('VideoPlayerReason').FALLBACK_MODE);this.$VideoWithFallbackMode2=false}}.bind(this);this.$VideoWithFallbackMode8=function(){this.$VideoWithFallbackMode1=false}.bind(this);this.$VideoWithFallbackMode3=new (c('SubscriptionsHandler'))();if(!j){j=i;i=null}this.$VideoWithFallbackMode4=j;if(i)this.enable(i);}h.prototype.enable=function(i){'use strict';this.$VideoWithFallbackMode3.engage();this.$VideoWithFallbackMode6=i;if(this.$VideoWithFallbackMode6.isImplementationUnavailable()||this.$VideoWithFallbackMode6.getOption('SphericalVideoPlayer','isUnavailable')){this.$VideoWithFallbackMode7(c('VideoPlayerLoggerFallbackReasons').FLASH_UNAVAILABLE);return}this.$VideoWithFallbackMode3.addSubscriptions(c('Event').listen(window,'blur',this.$VideoWithFallbackMode8),c('Event').listen(window,'focus',this.$VideoWithFallbackMode5),c('Visibility').addListener(c('Visibility').HIDDEN,this.$VideoWithFallbackMode8),c('Visibility').addListener(c('Visibility').VISIBLE,this.$VideoWithFallbackMode5),i.addListener('error',this.$VideoWithFallbackMode9.bind(this)));if(this.$VideoWithFallbackMode4.fallbackTimeoutMs){var j=this.$VideoWithFallbackMode4.fallbackTimeoutMs;this.$VideoWithFallbackMode10=setTimeout(c('TimeSlice').guard(function(){if(this.$VideoWithFallbackMode6.isState('loading')){this.$VideoWithFallbackMode6.pause(c('VideoPlayerReason').FALLBACK_MODE);this.$VideoWithFallbackMode7(c('VideoPlayerLoggerFallbackReasons').TIMEOUT);this.$VideoWithFallbackMode2=true}}.bind(this),'VideoWithFallbackMode fallbackTimeout',{isContinuation:false}),j)}};h.prototype.disable=function(){'use strict';this.$VideoWithFallbackMode3.release();clearTimeout(this.$VideoWithFallbackMode10);this.$VideoWithFallbackMode10=null;this.$VideoWithFallbackMode6=null};h.prototype.$VideoWithFallbackMode9=function(i){'use strict';if(this.$VideoWithFallbackMode6.isState('fallback'))return;if(this.$VideoWithFallbackMode6.isState('playing'))this.$VideoWithFallbackMode6.pause(c('VideoPlayerReason').FALLBACK_MODE);this.$VideoWithFallbackMode6.abortLoading();if(i){this.$VideoWithFallbackMode7(i)}else{this.$VideoWithFallbackMode7(c('VideoPlayerLoggerFallbackReasons').FLASH_ERROR);this.$VideoWithFallbackMode2=true}};h.prototype.$VideoWithFallbackMode7=function(i){'use strict';if(c('VideoPlayerExperiments').disableFallbackModeForInactiveTab&&!this.$VideoWithFallbackMode1)return;this.$VideoWithFallbackMode6.setState('fallback');if(i===c('VideoPlayerLoggerFallbackReasons').TIMEOUT)this.$VideoWithFallbackMode6.emit('VideoWithStallRecoveryOverlay/timeout');this.$VideoWithFallbackMode6.logEvent(c('VideoPlayerLoggerEvent').ENTERED_FALLBACK,{debug_reason:i})};f.exports=h}),null);
__d('VideoPlayerApiEvents',[],(function a(b,c,d,e,f,g){var h=['buffered','buffering','beginPlayback','updateStatus','logEvent','pausePlayback','clickVideo','clickForTracking','finishPlayback','unmuteVideo','muteVideo','changeVolume','turnOffAutoplay','updateBuffer','updateMetadata','qualityChange','updateViewportBegin','updateViewportMove','updateViewportEnd','dimensionsChange','viewportChange','wheelScroll','error','loadedSubtitles','toggleSubtitles','toggleFullscreen','seekEnd','streamInterrupted','streamResumed','debug/shakaEvent','abortedLoading','restoringAfterAbort','restoredAfterAbort','sphericalOrientationChange'];f.exports=h}),null);
__d('AbstractVideoPlayerApi',['invariant','EventEmitter','VideoPlayerApiEvents'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('EventEmitter'));j=i&&i.prototype;function k(){'use strict';j.constructor.call(this)}k.prototype.addListener=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.addListener.apply(this,m)};k.prototype.emit=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.emit.apply(this,m)};k.prototype.setRelativeSphericalOrientation=function(l,m){'use strict'};k.isImplementationUnavailable=function(){'use strict';return true};f.exports=k}),null);
__d("VideoConfig",[],(function a(b,c,d,e,f,g){function h(i){Object.assign(this,i)}f.exports=h}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function a(b,c,d,e,f,g){function h(){var i=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];i.dangerouslyOverrideMediaElementEndedProperty=true;return i}h.isEnded=function(event){return !!(event&&event.detail&&event.detail.dangerouslyOverrideMediaElementEndedProperty)};f.exports=h}),null);
__d("HTMLMediaElementReadyStates",[],(function a(b,c,d,e,f,g){var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h}),null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],(function a(b,c,d,e,f,g){function h(i){if(i.readyState>=c('HTMLMediaElementReadyStates').HAVE_METADATA){return i.muted}else return i.hasAttribute('muted')||i.muted;}f.exports=h}),null);
__d('HVideoPlayerMixin',['EventListener','UserAgent','VideoPlayerExperiments','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','dangerouslyOverrideMediaElementEndedProperty','getHTMLMediaElementMutedState'],(function a(b,c,d,e,f,g){var h=-1,i=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function j(l,event){l.time_ms=Date.now();var m=event.timeStamp;if(m&&i){var n=Math.floor(m).toString().length,o=Date.now().toString().length,p=window.performance.now();if(n===o+3){m=Math.floor(m/1000);l.time_ms=m}else if(n===o){l.time_ms=m}else if(m<=p){var q=window.performance.timing.navigationStart;l.time_ms=q+Math.floor(m)}}return l}var k={initLogger:function l(m,n){this._loggedEvents={};this._logFunction=m;this._useEventTime=n;var o=this.getVideoElement();this._lastStartTimePosition=h;this._muted=c('getHTMLMediaElementMutedState')(o);this._pausedPosition=h;this._seeking=false;this._seekSourceTimePosition=h;this._volume=o.volume;this._logNextPlayingEvent=true;this._lastPlayedTime=h;var p=false;if(o.readyState>=o.HAVE_FUTURE_DATA){this._logReadyToPlay()}else p=true;if(this.skipSubscriptions())return;var q=this.getSubscriptions();if(p)q.addSubscriptions(c('EventListener').listen(o,'canplay',this._logReadyToPlay.bind(this)));q.addSubscriptions(c('EventListener').listen(o,'ended',this.onEnded.bind(this)),c('EventListener').listen(o,'pause',this.onPause.bind(this)),c('EventListener').listen(o,'playing',this.onPlaying.bind(this)),c('EventListener').listen(o,'seeked',this.onSeeked.bind(this)),c('EventListener').listen(o,'seeking',this.onSeeking.bind(this)),c('EventListener').listen(o,'play',this.onPlay.bind(this)),c('EventListener').listen(o,'loadedmetadata',this.onLoadedMetadata.bind(this)),c('EventListener').listen(o,'timeupdate',this.onTimeUpdate.bind(this)),c('EventListener').listen(o,'volumechange',this.onVolumeChange.bind(this)))},skipSubscriptions:function l(){return false},onCanPlay:function l(m){this._logReadyToPlay(m)},onPlay:function l(m){this._logNextPlayingEvent=true;this._ignoreNextPlaying=false;this._pendingPlayRequest=true},logHeartbeat:function l(){if(c('VideoPlayerHTML5Experiments').heartbeatUpdateWatchTime){this._logEvent(c('VideoPlayerLoggerEvent').HEART_BEAT,this._getWatchTimeClosingLogData({}));var m=this._getVideoCurrentTime();this._lastStartTimePosition=m;this._lastPlayedTime=m}else this._logEvent(c('VideoPlayerLoggerEvent').HEART_BEAT);},_getWatchTimeClosingLogData:function l(m){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers['extends']({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},m))},_logOnce:function l(event,m){if(this._loggedEvents[event])return;this._logEvent(event,m)},_logEvent:function l(event,m){this._loggedEvents[event]=true;var n=m?m:{};n.video_id=this.getVideoID();if(!Object.prototype.hasOwnProperty.call(n,'video_time_position'))n.video_time_position=this._getVideoCurrentTime();if(!n.time_ms)n.time_ms=Date.now();n.time=Math.round(n.time_ms/1000);if(this.getAdClientToken){var o=this.getAdClientToken();if(o)n.ad_client_token=o;}if(this.getPlayerFormat)n.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)n.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)n.player_suborigin=this.getPlayerSuborigin();this._logFunction(event,n)},_logReadyToPlay:function l(){this._logOnce(c('VideoPlayerLoggerEvent').READY_TO_PLAY)},onPause:function l(m){this._logNextPlayingEvent=true;var n=this.getVideoElement();if(this._pendingPlayRequest){var o={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,o);return}var event=n.ended||c('VideoPlayerExperiments').abortLoadingDecisioningLogic&&c('dangerouslyOverrideMediaElementEndedProperty').isEnded(m)?c('VideoPlayerLoggerEvent').FINISHED_PLAYING:c('VideoPlayerLoggerEvent').PAUSED,p=this._getVideoCurrentTime();if(p)this._lastPlayedTime=p;var q=this._lastPlayedTime,r=m.lastPauseReason;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){q=Math.max(q,n.duration)}else if(this.preventPauseLoggingInMixin===true){return}else if(this.preventPauseLoggingInMixin===false)r=r||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:q,debug_reason:r},m));this._lastStartTimePosition=h},onEnded:function l(){this._logNextPlayingEvent=true;if(this._lastStartTimePosition!==h&&c('UserAgent').isBrowser('IE'))this.onPause({});},logRepresentationEnded:function l(m){if(m){var n={representation_id:m.representationID,next_representation_id:m.nextRepresentationID,stream_switch_reason:m.streamSwitchReason};if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation)n=this._getWatchTimeClosingLogData(n);this._logEvent(c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED,n);if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var o=this._getVideoCurrentTime();this._lastStartTimePosition=o;this._lastPlayedTime=o}}},addWatchTimeData:function l(m){if(this._lastStartTimePosition!=h&&this._lastPlayedTime!=h){m.video_last_start_time_position=this._lastStartTimePosition;m.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=h}return m},getLastPlayReason:function l(){return null},getVideoPlayReason:function l(){return null},onPlaying:function l(m){if(!this._logNextPlayingEvent)return;if(c('VideoPlayerHTML5Experiments').superficialUnpauseEventsFix)this._logNextPlayingEvent=false;if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return}var n=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[c('VideoPlayerLoggerEvent').STARTED_PLAYING]?c('VideoPlayerLoggerEvent').UNPAUSED:c('VideoPlayerLoggerEvent').STARTED_PLAYING,o=this._amendEventTime({debug_reason:n,video_play_reason:this.getVideoPlayReason()},m),p=this._getVideoCurrentTime();if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment){var q=this.getVideoElement().currentTime,r=q-p;o.time_ms-=Math.round(r*1000)}this._logEvent(event,o);this._lastStartTimePosition=p;this._lastPlayedTime=p;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function l(){this._allowNextSeek=true},onSeeked:function l(m){this._seeking=false;var n=this._seekSourceTimePosition;this._seekSourceTimePosition=h;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return}this._allowNextSeek=false;this._ignoreNextPlaying=false;var o={video_seek_source_time_position:n};if(this._lastStartTimePosition!==h){o.video_last_start_time_position=this._lastStartTimePosition}else o.video_last_start_time_position=n;this._logEvent(c('VideoPlayerLoggerEvent').SCRUBBED,this._amendEventTime(o,m));var p=this.getVideoElement();if(p.paused){this._lastStartTimePosition=h}else this._lastStartTimePosition=this._getVideoCurrentTime();},onSeeking:function l(m){this._currentTimeAtLoadedMetadataCache=null;if(!this._seeking){this._seekSourceTimePosition=this._getVideoCurrentTime();this._seeking=true}},onTimeUpdate:function l(m){this._currentTimeAtLoadedMetadataCache=null;var n=this.getVideoElement();if(!n.paused)this._lastPlayedTime=this._getVideoCurrentTime();},onVolumeChange:function l(m){var n=this.getVideoElement(),o={},event=null;if(c('VideoPlayerHTML5Experiments').useFixedVolumeLogging){var p=n.muted,q=this._muted,r=n.volume,s=this._volume;o.current_volume=Math.round(r*100);this._volume=r;this._muted=p;var t=p||r==0,u=q||s==0;if(u&&t)return;if(u!=t){if(t){event=c('VideoPlayerLoggerEvent').MUTED}else event=c('VideoPlayerLoggerEvent').UNMUTED;}else{if(s==r)return;if(r<s){event=c('VideoPlayerLoggerEvent').VOLUME_DECREASE}else event=c('VideoPlayerLoggerEvent').VOLUME_INCREASE;}}else{if(n.muted!==this._muted&&n.volume===this._volume&&n.volume>0){event=n.muted?c('VideoPlayerLoggerEvent').MUTED:c('VideoPlayerLoggerEvent').UNMUTED}else{event=n.volume>this._volume?c('VideoPlayerLoggerEvent').VOLUME_INCREASE:c('VideoPlayerLoggerEvent').VOLUME_DECREASE;o.current_volume=Math.round(n.volume*100)}this._muted=n.muted;this._volume=n.volume}this._logEvent(event,this._amendEventTime(o,m))},_amendEventTime:function l(m,event){var n=this._useEventTime;if(c('VideoPlayerHTML5Experiments').fixEventTimeLogging)n=n&&event;if(n){return j(m,event)}else m.time_ms=Date.now();return m},_getVideoCurrentTime:function l(){var m=this.getVideoElement().currentTime.toFixed(2);if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment)if(this._currentTimeAtLoadedMetadataCache!=null)m=this._currentTimeAtLoadedMetadataCache.toFixed(2);if(c('VideoPlayerHTML5Experiments').fixCurrentTimeType)return +m;return m},onLoadedMetadata:function l(m){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime}};f.exports=k}),null);
__d('MediaBufferingDetector',['Event','EventEmitter','SubscriptionsHandler','setInterval','clearInterval','performanceNow'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$MediaBufferingDetector1=k;this.$MediaBufferingDetector2=new (c('SubscriptionsHandler'))();if(!this.$MediaBufferingDetector1.paused)this.$MediaBufferingDetector7();this.$MediaBufferingDetector2.addSubscriptions(c('Event').listen(this.$MediaBufferingDetector1,'playing',function(){return this.$MediaBufferingDetector8()}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'pause',function(){return this.$MediaBufferingDetector9()}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'ended',function(){return this.$MediaBufferingDetector10()}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'timeupdate',function(){return this.$MediaBufferingDetector11()}.bind(this)))}j.prototype.$MediaBufferingDetector12=function(){'use strict';var k=c('performanceNow')(),l=this.$MediaBufferingDetector1.currentTime,m=k-this.$MediaBufferingDetector5,n=l-this.$MediaBufferingDetector6,o=n*1000,p=m-o;if(m*.2<Math.abs(p)){this.$MediaBufferingDetector13()}else this.$MediaBufferingDetector14();this.$MediaBufferingDetector15()};j.prototype.$MediaBufferingDetector15=function(){'use strict';this.$MediaBufferingDetector5=c('performanceNow')();this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};j.prototype.$MediaBufferingDetector7=function(){'use strict';if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector15();this.$MediaBufferingDetector4=c('setInterval')(function(){return this.$MediaBufferingDetector12()}.bind(this),500)};j.prototype.$MediaBufferingDetector16=function(){'use strict';c('clearInterval')(this.$MediaBufferingDetector4);this.$MediaBufferingDetector4=null};j.prototype.$MediaBufferingDetector13=function(){'use strict';if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=true;this.emit('bufferingStart')};j.prototype.$MediaBufferingDetector14=function(){'use strict';if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=false;this.emit('bufferingEnd')};j.prototype.$MediaBufferingDetector8=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector7()};j.prototype.$MediaBufferingDetector9=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16()};j.prototype.$MediaBufferingDetector10=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16()};j.prototype.$MediaBufferingDetector11=function(){'use strict';if(!this.$MediaBufferingDetector1.paused){this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();this.$MediaBufferingDetector7()}};j.prototype.destroy=function(){'use strict';this.$MediaBufferingDetector16();this.$MediaBufferingDetector2.release()};f.exports=j}),null);
__d('VideoPlaybackQuality',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this.video=i}h.prototype.getDroppedFrames=function(){'use strict';var i=this.video;if(typeof i.getVideoPlaybackQuality==='function')return i.getVideoPlaybackQuality().droppedVideoFrames;var j=i.webkitDroppedFrameCount;if(typeof j==='number')return j;return 0};h.prototype.getTotalFrames=function(){'use strict';var i=this.video;if(typeof i.getVideoPlaybackQuality==='function')return i.getVideoPlaybackQuality().totalVideoFrames;var j=i.webkitDecodedFrameCount;if(typeof j==='number')return j;return 0};f.exports=h}),null);
__d("VideoPlayerVersions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HTML5:"html5",SILVERCITY:"silvercity",PLEASANTVILLE:"pleasantville",REACT_PLEASANTVILLE:"react_pleasantville",REACT_SILVERCITY:"react_silvercity",REACT:"react",OLD_API_PSR:"old_api_psr",OLD_API_EXO:"old_api_exo",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",LEGACY:"legacy",REFACTORED:"refactored",FNF:"fnf",MBASIC:"mbasic",CHROMECAST:"chromecast",CASTING_DEBUG:"casting_debug",WEBAPIS_AVPLAY:"webapis_avplay",FBLITE_LEGACY:"fblite_legacy",FBLITE_SURFACE:"fblite_surface",FBLITE_TEXTURE:"fblite_texture",UNKNOWN:"unknown"})}),null);
__d("XLiveBroadcastCaptionsURIFetchAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/captions\/uri\/",{video_id:{type:"String"}})}),null);
__d('onCanPlayHTMLMediaElement',['invariant','EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g,h){function i(k){return k>=c('HTMLMediaElementReadyStates').HAVE_FUTURE_DATA}function j(k,l){k instanceof window.HTMLMediaElement||h(0);if(i(k.readyState))c('setImmediate')(l);return c('EventListener').listen(k,'canplay',l)}j.once=function(k,l){var m=j(k,function(){if(!m)return;m.remove();m=null;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];l.apply(this,o)}.bind(this))};f.exports=j}),null);
__d('onLoadedMetadataHTMLMediaElement',['EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g){function h(j){return j>=c('HTMLMediaElementReadyStates').HAVE_METADATA}function i(j,k){if(h(j.readyState))c('setImmediate')(k);return c('EventListener').listen(j,'loadedmetadata',k)}i.once=function(j,k){var l=i(j,function(){l.remove();for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];k.apply(this,n)}.bind(this))};f.exports=i}),null);
__d('seekHTMLMediaElementTo',['EventListener','onLoadedMetadataHTMLMediaElement','setImmediate'],(function a(b,c,d,e,f,g){function h(i,j,k){if(i.currentTime==j)return k&&c('setImmediate')(k);try{i.currentTime=j}catch(m){}if(i.currentTime){var l=c('EventListener').listen(i,'seeked',function(){l.remove();k&&k()})}else c('onLoadedMetadataHTMLMediaElement')(i,function(){i.currentTime=j;var m=c('EventListener').listen(i,'seeked',function(){m.remove();k&&k()})});}f.exports=h}),null);
__d('VideoPlayerHTML5Api',['cx','Promise','regeneratorRuntime','AsyncRequest','AbstractVideoPlayerApi','Arbiter','Bootloader','CSS','ErrorUtils','DOM','DOMDimensions','Event','EventListener','HVideoPlayerMixin','StaleVideoMonitor','MediaBufferingDetector','RTISubscriptionManager','Run','SubscriptionsHandler','VideoData','VideoFrameBuffer','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerMemLeakExperiments','VideoPlayerReason','VideoPlayerVersions','VideoPlayerShakaExperiments','VideoPlayerExperiments','VideoQualityClasses','XLiveBroadcastCaptionsURIFetchAsyncController','dangerouslyOverrideMediaElementEndedProperty','dispatchEvent','classWithMixins','isHTML5VideoImplementationUnavailable','getHTMLMediaElementMutedState','mixin','onCanPlayHTMLMediaElement','requireWeak','seekHTMLMediaElementTo','VideoPlaybackQuality','Deferred'],(function a(b,c,d,e,f,g,h){var i,j,k=null;c('requireWeak')('TVViewerConfigsManager',function(q){return k=q});function l(q){switch(q){case 1:return 'The fetching process for the media resource was aborted by the '+'user agent at the users request.';case 2:return 'A network error of some description caused the user agent to '+'stop fetching the media resource, after the resource was '+'established to be usable.';case 3:return 'An error of some description occurred while decoding the '+'media resource, after the resource was established to be usable.';case 4:return 'The media resource indicated by the src attribute was not '+'suitable.';}return null}function m(q){switch(q){case 1:return 'MEDIA_ERR_ABORTED';case 2:return 'MEDIA_ERR_NETWORK';case 3:return 'MEDIA_ERR_DECODE';case 4:return 'MEDIA_ERR_SRC_NOT_SUPPORTED';default:return 'Error code '+q+' is unknown';}}var n=-1,o=.05;i=babelHelpers.inherits(p,c('classWithMixins')(c('AbstractVideoPlayerApi'),c('mixin')(c('HVideoPlayerMixin'))));j=i&&i.prototype;function p(q,r){'use strict';j.constructor.call(this);this.getDebug=function(){return {VideoPlayerHTML5Shaka:this.$VideoPlayerHTML5Api36}}.bind(this);this.$VideoPlayerHTML5Api35=q;this.$VideoPlayerHTML5Api15=this.$VideoPlayerHTML5Api35.id;var s=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api35);this.$VideoPlayerHTML5Api58=new (c('VideoPlaybackQuality'))(this.$VideoPlayerHTML5Api35);this.preventSeekLoggingInMixin=c('VideoPlayerShakaExperiments').improveRebufferLogging;this.$VideoPlayerHTML5Api52=s.width;this.$VideoPlayerHTML5Api14=s.height;if(r){this.$VideoPlayerHTML5Api9=r}else this.$VideoPlayerHTML5Api9=JSON.parse(this.$VideoPlayerHTML5Api35.getAttribute('data-config'));this.$VideoPlayerHTML5Api5=new (c('MediaBufferingDetector'))(this.$VideoPlayerHTML5Api35);this.$VideoPlayerHTML5Api5.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api60()}.bind(this));this.$VideoPlayerHTML5Api5.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api61()}.bind(this));this.$VideoPlayerHTML5Api24=n;this.$VideoPlayerHTML5Api26=c('getHTMLMediaElementMutedState')(this.$VideoPlayerHTML5Api35);this.$VideoPlayerHTML5Api50=this.$VideoPlayerHTML5Api35.volume;this.$VideoPlayerHTML5Api25=false;this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api30=false;this.$VideoPlayerHTML5Api3=false;this.$VideoPlayerHTML5Api32=this.$VideoPlayerHTML5Api35.getAttribute('preload')=='auto';this.$VideoPlayerHTML5Api33=null;this.$VideoPlayerHTML5Api37=new (c('StaleVideoMonitor'))(this.$VideoPlayerHTML5Api35);this.$VideoPlayerHTML5Api37.addListener('stale',function(u,v){return this.$VideoPlayerHTML5Api62(u,v)}.bind(this));this.$VideoPlayerHTML5Api12=false;this.$VideoPlayerHTML5Api40=false;if(this.$VideoPlayerHTML5Api9.lazyPreload)if(this.$VideoPlayerHTML5Api9.onafterloadRegister){c('Run').onAfterLoad(function(){return this.$VideoPlayerHTML5Api35.setAttribute('preload',this.$VideoPlayerHTML5Api9.lazyPreload)}.bind(this))}else this.$VideoPlayerHTML5Api35.setAttribute('preload',this.$VideoPlayerHTML5Api9.lazyPreload);this.$VideoPlayerHTML5Api11=this.$VideoPlayerHTML5Api9.disableNativeControls;this.$VideoPlayerHTML5Api43=this.$VideoPlayerHTML5Api9.subtitlesActive;this.$VideoPlayerHTML5Api63();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Api41=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5Api64();this.$VideoPlayerHTML5Api20=this.$VideoPlayerHTML5Api9.useRateLimited;this.$VideoPlayerHTML5Api65(false);var t=c('VideoQualityClasses').indexOf('hd');this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api9.minQuality!==null&&c('VideoQualityClasses').indexOf(this.$VideoPlayerHTML5Api9.minQuality)>=t;this.$VideoPlayerHTML5Api27=this.$VideoPlayerHTML5Api9.minQuality;this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api9.maxQuality;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api9.accessToken;this.$VideoPlayerHTML5Api38=this.$VideoPlayerHTML5Api9.startTimestamp;this.$VideoPlayerHTML5Api34=o;this.$VideoPlayerHTML5Api4=this.$VideoPlayerHTML5Api9.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Api66.bind(this),this.$VideoPlayerHTML5Api9.useEventTime);this.$VideoPlayerHTML5Api67();this.$VideoPlayerHTML5Api31=null;this.$VideoPlayerHTML5Api53=false;this.$VideoPlayerHTML5Api54=false;this.$VideoPlayerHTML5Api55=this.$VideoPlayerHTML5Api9.unloadShouldCancelPendingRequest}p.prototype.getAdClientToken=function(){'use strict';this.$VideoPlayerHTML5Api9.ad_client_token};p.prototype.$VideoPlayerHTML5Api62=function(q,r){'use strict';this.$VideoPlayerHTML5Api66(c('VideoPlayerLoggerEvent').STALE,{stale_detect_time_delta:q,stale_video_current_time_delta:r})};p.prototype.$VideoPlayerHTML5Api60=function(){'use strict';this.emit('buffering')};p.prototype.$VideoPlayerHTML5Api61=function(){'use strict';this.emit('buffered')};p.prototype.$VideoPlayerHTML5Api68=function(){'use strict';this.emit('streamInterrupted');this.$VideoPlayerHTML5Api53=true};p.prototype.$VideoPlayerHTML5Api69=function(){'use strict';this.emit('streamResumed');this.$VideoPlayerHTML5Api53=false};p.prototype.isStreamInterrupted=function(){'use strict';return this.$VideoPlayerHTML5Api53};p.prototype.getVideoID=function(){'use strict';if(this.$VideoPlayerHTML5Api10)return this.$VideoPlayerHTML5Api10.getVideoID();return this.$VideoPlayerHTML5Api9.video_id};p.prototype.getDroppedFrames=function(){'use strict';return this.$VideoPlayerHTML5Api58.getDroppedFrames()};p.prototype.getTotalFrames=function(){'use strict';return this.$VideoPlayerHTML5Api58.getTotalFrames()};p.prototype.getDOMElement=function(){'use strict';return this.$VideoPlayerHTML5Api35};p.prototype.getVideoElement=function(){'use strict';return this.$VideoPlayerHTML5Api35};p.prototype.getSubscriptions=function(){'use strict';return this.$VideoPlayerHTML5Api41};p.onImplementationReady=function(q,r){'use strict';r()};p.prototype.destroy=function(q){'use strict';if(this.$VideoPlayerHTML5Api12)return;this.$VideoPlayerHTML5Api12=true;this.$VideoPlayerHTML5Api70();if(c('VideoPlayerMemLeakExperiments').clear_handlers_on_destroy)this.$VideoPlayerHTML5Api5.destroy();if(c('VideoPlayerHTML5Experiments').destroyWithoutStillFrame){this.abortLoadingWithoutStillFrame()}else this.abortLoading(q);if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)this.$VideoPlayerHTML5Api71();this.$VideoPlayerHTML5Api72();if(this.$VideoPlayerHTML5Api73)c('DOM').remove(this.$VideoPlayerHTML5Api73);if(c('VideoPlayerMemLeakExperiments').clear_handlers_on_destroy)this.$VideoPlayerHTML5Api41.release();};p.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerHTML5Api10)return null;return {isHD:this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop(),streamType:this.$VideoPlayerHTML5Api10.getStreamType(),hasHD:this.getAvailableVideoQualities().length>1,areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api18,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api36?'DASH manifest':this.$VideoPlayerHTML5Api74(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api10.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api20,projection:this.getVideoProjection(),tagSD:this.$VideoPlayerHTML5Api10.getSDTag(),tagHD:this.$VideoPlayerHTML5Api10.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api10.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api10.isLiveStream()?this.$VideoPlayerHTML5Api10.getLiveManifestUrl():null}};p.isImplementationUnavailable=function(q){'use strict';return c('isHTML5VideoImplementationUnavailable')(q)};p.prototype.pause=function(q){'use strict';this.$VideoPlayerHTML5Api22=q;if(q==='unloaded'&&!this.isPaused()){var r=this.$VideoPlayerHTML5Api55||c('VideoPlayerHTML5Experiments').unloadShouldCancelPendingRequest;if(r&&this.$VideoPlayerHTML5Api17){this.$VideoPlayerHTML5Api66(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:'unloaded'}))}else this.$VideoPlayerHTML5Api66(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'unloaded'}));this.$VideoPlayerHTML5Api54=true;this.preventPauseLoggingInMixin=true}this.$VideoPlayerHTML5Api75();if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api36.pause()}else this.$VideoPlayerHTML5Api35.pause();};p.prototype.$VideoPlayerHTML5Api65=function(q){'use strict';this.$VideoPlayerHTML5Api17=q};p.prototype.preload=function(){'use strict';if(!this.$VideoPlayerHTML5Api32){if(this.$VideoPlayerHTML5Api1)this.$VideoPlayerHTML5Api76();this.$VideoPlayerHTML5Api32=true;this.$VideoPlayerHTML5Api35.setAttribute('preload','auto')}};p.prototype.isPreloading=function(){'use strict';return this.$VideoPlayerHTML5Api32};p.prototype.play=function(q){'use strict';if(!this.$VideoPlayerHTML5Api49)this.$VideoPlayerHTML5Api49=q;this.$VideoPlayerHTML5Api23=q;if(!this.isPaused()){if(c('VideoPlayerHTML5Experiments').shouldDispatchPlayingEvent){c('dispatchEvent')(this.$VideoPlayerHTML5Api35,'play');setTimeout(function(){return c('dispatchEvent')(this.$VideoPlayerHTML5Api35,'playing')}.bind(this),0)}else this.$VideoPlayerHTML5Api77();return}this.$VideoPlayerHTML5Api30=true;this.$VideoPlayerHTML5Api65(true);if(this.$VideoPlayerHTML5Api1){c('dispatchEvent')(this.$VideoPlayerHTML5Api35,'play');this.$VideoPlayerHTML5Api76();this.$VideoPlayerHTML5Api3=true;return}this.$VideoPlayerHTML5Api78()};p.prototype.$VideoPlayerHTML5Api75=function(){'use strict';if(this.$VideoPlayerHTML5Api3&&this.isPaused())c('dispatchEvent')(this.$VideoPlayerHTML5Api35,'pause');this.$VideoPlayerHTML5Api65(false);this.$VideoPlayerHTML5Api79()};p.prototype.$VideoPlayerHTML5Api79=function(){'use strict';this.$VideoPlayerHTML5Api30=false;this.$VideoPlayerHTML5Api3=false};p.prototype.$VideoPlayerHTML5Api80=function(){'use strict';this.$VideoPlayerHTML5Api35.setAttribute('preload','auto');this.$VideoPlayerHTML5Api32=true;this.$VideoPlayerHTML5Api35.load();this.$VideoPlayerHTML5Api35.muted=this.$VideoPlayerHTML5Api26};p.prototype.seek=function(q){'use strict';this.allowNextSeekInMixin();if(c('VideoPlayerShakaExperiments').currentTimeDuringReadyStateZeroThrows){if(this.$VideoPlayerHTML5Api35.readyState!==0)this.$VideoPlayerHTML5Api35.currentTime=q;}else try{this.$VideoPlayerHTML5Api35.currentTime=q}catch(r){}};p.prototype.removeRotation=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerHTML5Api35,"_56jr");c('CSS').removeClass(this.$VideoPlayerHTML5Api35,"_56js");c('CSS').removeClass(this.$VideoPlayerHTML5Api35,"_56jt");this.$VideoPlayerHTML5Api35.style.marginLeft='';this.$VideoPlayerHTML5Api35.style.marginTop='';this.$VideoPlayerHTML5Api35.style.width='';this.$VideoPlayerHTML5Api35.style.height=''};p.prototype.applyRotation=function(q){'use strict';if(!q)return;c('CSS').conditionClass(this.$VideoPlayerHTML5Api35,"_56jr",q==90);c('CSS').conditionClass(this.$VideoPlayerHTML5Api35,"_56js",q==180);c('CSS').conditionClass(this.$VideoPlayerHTML5Api35,"_56jt",q==270);if(q==180)return;var r=this.$VideoPlayerHTML5Api14,s=this.$VideoPlayerHTML5Api52,t=(r-s)/2,u=(s-r)/2;this.$VideoPlayerHTML5Api35.style.marginLeft=u+'px';this.$VideoPlayerHTML5Api35.style.marginTop=t+'px';this.$VideoPlayerHTML5Api35.style.height=s+'px';this.$VideoPlayerHTML5Api35.style.width=r+'px'};p.prototype.switchVideo=function(q){'use strict';if(!this.$VideoPlayerHTML5Api9.videoData||this.$VideoPlayerHTML5Api9.videoData.length<=q)return;var r=new (c('VideoData'))(this.$VideoPlayerHTML5Api9.videoData[q]);this.$VideoPlayerHTML5Api10=r;if((r.hasDashManifest()||r.isLiveStream())&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.isSupported()&&!this.$VideoPlayerHTML5Api9.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var s,t;this.$VideoPlayerHTML5Api16=this.$VideoPlayerHTML5Api9.isHighlightEnabled&&r.hasHighlightsManifest();s=r.getDashManifest();if(r.isLiveStream())t=r.getLiveManifestUrl();var u=new this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api35,r.getDashPrefetchedRepresentationIDs(),{accessToken:this.$VideoPlayerHTML5Api2,minPlayQuality:this.$VideoPlayerHTML5Api27,maxPlayQuality:this.$VideoPlayerHTML5Api28,width:this.$VideoPlayerHTML5Api52,height:this.$VideoPlayerHTML5Api14,manifest:s,manifestUrl:t,isLive:r.isLiveStream(),startTimestamp:this.$VideoPlayerHTML5Api38,videoID:this.getVideoID(),playerOrigin:this.$VideoPlayerHTML5Api9.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api9.playerSuborigin,isSpherical:this.$VideoPlayerHTML5Api9.isSpherical,getSource:this.$VideoPlayerHTML5Api9.getSource});u.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api60()}.bind(this));u.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api61()}.bind(this));u.addListener('tracksChanged',function(){return this.emit('qualityChange')}.bind(this));u.addListener('streamInterrupted',function(){return this.$VideoPlayerHTML5Api68()}.bind(this));u.addListener('streamResumed',function(){return this.$VideoPlayerHTML5Api69()}.bind(this));u.addListener('adaptation',function(w){var x=w.reason;this.$VideoPlayerHTML5Api66(c('VideoPlayerLoggerEvent').QUALITY_CHANGE,{reason:x});this.emit('qualityChange')}.bind(this));u.addListener('representation_ended',function(w){this.logRepresentationEnded(w)}.bind(this));u.addListener('debug/shakaEvent',function(w){return this.emit('debug/shakaEvent',w)}.bind(this));u.addListener('error',function(w){return this.$VideoPlayerHTML5Api81(w)}.bind(this));u.addListener('cea608CaptionsParsed',function(w){if(!this.$VideoPlayerHTML5Api59)this.$VideoPlayerHTML5Api59=this.$VideoPlayerHTML5Api82();this.$VideoPlayerHTML5Api59.then(function(x){x.appendFragments(w);this.$VideoPlayerHTML5Api83()}.bind(this))['catch'](function(x){c('ErrorUtils').reportError(x)})}.bind(this));this.$VideoPlayerHTML5Api36=u;if(this.$VideoPlayerHTML5Api13){this.$VideoPlayerHTML5Api13.remove();if(c('VideoPlayerMemLeakExperiments').clear_html5_error_handler)this.$VideoPlayerHTML5Api13=null;}}else{var v=this.$VideoPlayerHTML5Api74();if(v)this.$VideoPlayerHTML5Api35.src=v;if(this.$VideoPlayerHTML5Api38)this.seek(this.$VideoPlayerHTML5Api38);}this.$VideoPlayerHTML5Api42&&this.$VideoPlayerHTML5Api42.removeSubtitles();if(r.hasSubtitles())this.$VideoPlayerHTML5Api84(this.$VideoPlayerHTML5Api10.getSubtitlesSrc());this.removeRotation();this.applyRotation(r.getRotation())};p.prototype.switchToStreamType=function(q){'use strict'};p.prototype.replaceVideoDataFromURL=function(q){'use strict'};p.prototype.getDashAudioConfigurationDebug=function(){'use strict';return this.$VideoPlayerHTML5Api36?this.$VideoPlayerHTML5Api36.getDebug().VideoSource.getMpAudioConfigDebug():'none'};p.prototype.getAudioStreamInfoIDDebug=function(){'use strict';if(this.$VideoPlayerHTML5Api36){var q=this.$VideoPlayerHTML5Api36.getDebug().VideoSource.getAudioTracks();for(var r=q,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;if(v.active)return v.streamInfoID;}}return null};p.prototype.getCurrentlyPlayingStreamInfoID=function(){'use strict';if(this.$VideoPlayerHTML5Api36)return this.$VideoPlayerHTML5Api36.getStreamInfoIDForTimePosition(this.getCurrentTimePosition());return null};p.prototype.getLocalEstimator=function(){'use strict';if(this.$VideoPlayerHTML5Api36)return this.$VideoPlayerHTML5Api36.getLocalEstimator();return null};p.prototype.unmute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=false;this.$VideoPlayerHTML5Api26=false;this.emit('unmuteVideo');return}this.$VideoPlayerHTML5Api35.muted=false};p.prototype.mute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=true;this.$VideoPlayerHTML5Api26=true;this.emit('muteVideo');return}this.$VideoPlayerHTML5Api35.muted=true};p.prototype.setRotation=function(q){'use strict';this.removeRotation();this.applyRotation(q)};p.prototype.setDimensions=function(q,r){'use strict';this.removeRotation();this.$VideoPlayerHTML5Api52=q;this.$VideoPlayerHTML5Api14=r;this.applyRotation(this.$VideoPlayerHTML5Api10.getRotation());if(this.$VideoPlayerHTML5Api39)this.$VideoPlayerHTML5Api39.updateDimensions(q,r);if(this.$VideoPlayerHTML5Api36)this.$VideoPlayerHTML5Api36.setDimensions(q,r);if(this.$VideoPlayerHTML5Api42)this.$VideoPlayerHTML5Api42.setDimensions(q);this.emit('dimensionsChange',q,r)};p.prototype.setVideoStreamOffset=function(q){'use strict';if(this.$VideoPlayerHTML5Api36)this.$VideoPlayerHTML5Api36.setVideoStreamOffset(q);};p.prototype.$VideoPlayerHTML5Api85=function(){'use strict';this.$VideoPlayerHTML5Api35.controls=!this.$VideoPlayerHTML5Api11};p.prototype.$VideoPlayerHTML5Api63=function(){'use strict';this.$VideoPlayerHTML5Api35.controls=this.$VideoPlayerHTML5Api35.controls&&!this.$VideoPlayerHTML5Api11};p.prototype.$VideoPlayerHTML5Api64=function(){'use strict';this.$VideoPlayerHTML5Api13=c('EventListener').listen(this.$VideoPlayerHTML5Api35,'error',this.$VideoPlayerHTML5Api86.bind(this));if(!c('VideoPlayerMemLeakExperiments').clear_html5_error_handler)this.$VideoPlayerHTML5Api41.addSubscriptions(this.$VideoPlayerHTML5Api13);this.$VideoPlayerHTML5Api41.addSubscriptions(c('EventListener').listen(this.$VideoPlayerHTML5Api35,'playing',this.$VideoPlayerHTML5Api87.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'play',this.$VideoPlayerHTML5Api77.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'ended',this.$VideoPlayerHTML5Api88.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'waiting',this.$VideoPlayerHTML5Api89.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'pause',this.$VideoPlayerHTML5Api90.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'volumechange',this.$VideoPlayerHTML5Api91.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'mousedown',this.$VideoPlayerHTML5Api92.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'mouseup',this.$VideoPlayerHTML5Api93.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'timeupdate',this.$VideoPlayerHTML5Api94.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'click',this.$VideoPlayerHTML5Api95.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'loadedmetadata',this.$VideoPlayerHTML5Api96.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'progress',this.$VideoPlayerHTML5Api97.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api35,'seeked',this.$VideoPlayerHTML5Api98.bind(this)),c('EventListener').capture(this.$VideoPlayerHTML5Api35.parentNode,'pause',this.$VideoPlayerHTML5Api99.bind(this)))};p.prototype.$VideoPlayerHTML5Api100=function(q){'use strict';this.preventPauseLoggingInMixin=false;q.preventDefault();q.stopPropagation()};p.prototype.$VideoPlayerHTML5Api99=function(q){'use strict';if(q.target!==this.$VideoPlayerHTML5Api35)return;if(!this.$VideoPlayerHTML5Api35.ended){this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api100(q);q.lastPauseReason=this.$VideoPlayerHTML5Api22}this.$VideoPlayerHTML5Api54=false};p.prototype.$VideoPlayerHTML5Api97=function(){'use strict';var q=this.$VideoPlayerHTML5Api35.buffered,r=0,s=0,t=q.length;while(t-->0){var u=q.end(t),v=q.start(t);if(v<=this.$VideoPlayerHTML5Api35.currentTime){s=v;r=u-v;break}}this.$VideoPlayerHTML5Api67();this.$VideoPlayerHTML5Api101('flash/updateBuffer',{duration:r,offset:s})};p.prototype.$VideoPlayerHTML5Api70=function(){'use strict';clearTimeout(this.$VideoPlayerHTML5Api29)};p.prototype.$VideoPlayerHTML5Api67=function(){'use strict';this.$VideoPlayerHTML5Api70();if(this.$VideoPlayerHTML5Api35.networkState===this.$VideoPlayerHTML5Api35.NETWORK_LOADING)this.$VideoPlayerHTML5Api29=setTimeout(function(){return this.$VideoPlayerHTML5Api102()}.bind(this),p.networkTimeout);};p.prototype.$VideoPlayerHTML5Api102=function(){'use strict';var q=this.$VideoPlayerHTML5Api35.buffered,r=0;for(var s=0;s<q.length;s++){var t=q.start(s),u=q.end(s);r+=u-t}this.$VideoPlayerHTML5Api66(c('VideoPlayerLoggerEvent').NETWORK_TIMEOUT,{buffered:r})};p.prototype.$VideoPlayerHTML5Api94=function(){'use strict';var q;if(this.$VideoPlayerHTML5Api1){q=this.$VideoPlayerHTML5Api1.currentTime}else q=this.$VideoPlayerHTML5Api35.currentTime;this.$VideoPlayerHTML5Api101('flash/updateStatus',{position:+q.toFixed(3)})};p.prototype.$VideoPlayerHTML5Api95=function(q){'use strict';if(q.button!==0)return;this.emit('clickVideo');q.preventDefault()};p.prototype.isPaused=function(){'use strict';if(c('VideoPlayerHTML5Experiments').fixIE11EndedPausedState)return this.$VideoPlayerHTML5Api35.paused||this.$VideoPlayerHTML5Api35.ended;return this.$VideoPlayerHTML5Api35.paused};p.prototype.$VideoPlayerHTML5Api103=function(){'use strict';var q=this.$VideoPlayerHTML5Api35.buffered;return q.length>0&&q.start(0)===0&&q.end(0)===this.$VideoPlayerHTML5Api35.duration};p.prototype.$VideoPlayerHTML5Api89=function(){'use strict';if(!this.$VideoPlayerHTML5Api103()){this.$VideoPlayerHTML5Api51=true;this.$VideoPlayerHTML5Api101('flash/buffering')}};p.prototype.setVolume=function(q){'use strict';this.$VideoPlayerHTML5Api35.volume=q};p.prototype.$VideoPlayerHTML5Api91=function(){'use strict';if(this.$VideoPlayerHTML5Api35.muted!==this.$VideoPlayerHTML5Api26&&this.$VideoPlayerHTML5Api35.volume===this.$VideoPlayerHTML5Api50&&this.$VideoPlayerHTML5Api35.volume>0){this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api35.muted;this.$VideoPlayerHTML5Api50=this.$VideoPlayerHTML5Api35.volume;if(!this.$VideoPlayerHTML5Api35.muted){this.$VideoPlayerHTML5Api101('flash/unmuteVideo')}else this.$VideoPlayerHTML5Api101('flash/muteVideo');}else{this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api35.muted;this.$VideoPlayerHTML5Api50=this.$VideoPlayerHTML5Api35.volume;this.$VideoPlayerHTML5Api101('flash/changeVolume',{volume:this.$VideoPlayerHTML5Api35.volume})}if(!this.$VideoPlayerHTML5Api35.muted)this.$VideoPlayerHTML5Api101('flash/turnOffAutoplay',{reason:'unmuted'});};p.prototype.$VideoPlayerHTML5Api92=function(q){'use strict';if(q.button===0)this.$VideoPlayerHTML5Api25=true;};p.prototype.$VideoPlayerHTML5Api93=function(q){'use strict';if(q.button===0)this.$VideoPlayerHTML5Api25=false;};p.prototype.$VideoPlayerHTML5Api87=function(){'use strict';this.$VideoPlayerHTML5Api65(false);if(this.$VideoPlayerHTML5Api51){this.$VideoPlayerHTML5Api51=false;this.$VideoPlayerHTML5Api101('flash/buffered')}this.$VideoPlayerHTML5Api104()};p.prototype.$VideoPlayerHTML5Api77=function(){'use strict';this.$VideoPlayerHTML5Api18=true;this.$VideoPlayerHTML5Api85();this.$VideoPlayerHTML5Api83();this.$VideoPlayerHTML5Api101('flash/beginPlayback',{position:+this.$VideoPlayerHTML5Api35.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api23});this.$VideoPlayerHTML5Api67()};p.prototype.$VideoPlayerHTML5Api90=function(event){'use strict';if(this.$VideoPlayerHTML5Api35.ended||c('VideoPlayerExperiments').abortLoadingDecisioningLogic&&c('dangerouslyOverrideMediaElementEndedProperty').isEnded(event)){this.$VideoPlayerHTML5Api18=false;this.$VideoPlayerHTML5Api65(false);return}if(this.$VideoPlayerHTML5Api35.seeking&&this.$VideoPlayerHTML5Api22===c('VideoPlayerReason').SEEK)return;if(this.$VideoPlayerHTML5Api25)return;if(this.$VideoPlayerHTML5Api22===c('VideoPlayerReason').SEEK){this.$VideoPlayerHTML5Api22=null;return}if(this.$VideoPlayerHTML5Api22===null||this.$VideoPlayerHTML5Api22===c('VideoPlayerReason').USER)this.$VideoPlayerHTML5Api101('flash/turnOffAutoplay',{reason:'manually_paused'});this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api18=false;this.$VideoPlayerHTML5Api65(false);this.$VideoPlayerHTML5Api63();this.$VideoPlayerHTML5Api101('flash/pausePlayback',{position:this.$VideoPlayerHTML5Api35.currentTime.toFixed(2)})};p.prototype.$VideoPlayerHTML5Api88=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api63();this.$VideoPlayerHTML5Api18=false;this.$VideoPlayerHTML5Api65(false);this.$VideoPlayerHTML5Api101('flash/finishPlayback');this.$VideoPlayerHTML5Api42&&this.$VideoPlayerHTML5Api42.hideSubtitles();this.$VideoPlayerHTML5Api71()};p.prototype.$VideoPlayerHTML5Api98=function(){'use strict';this.emit('seekEnd',{position:+this.$VideoPlayerHTML5Api35.currentTime.toFixed(3)})};p.prototype.getEstimatedBandwidth=function(){'use strict';if(this.$VideoPlayerHTML5Api36)if(this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka)return this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.getEstimatedBandwidth();return null};p.prototype.$VideoPlayerHTML5Api96=function(){'use strict';this.$VideoPlayerHTML5Api101('flash/updateMetadata')};p.prototype.$VideoPlayerHTML5Api81=function(q){'use strict';this.emit('error',babelHelpers['extends']({},q,{isPlayback:this.$VideoPlayerHTML5Api30}))};p.prototype.$VideoPlayerHTML5Api86=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api35.error)return;var q=this.$VideoPlayerHTML5Api35.error,r=q.message;if(!r)r=l(q.code);this.emit('error',{error:m(q.code),isPlayback:this.$VideoPlayerHTML5Api30,message:r})};p.prototype.$VideoPlayerHTML5Api66=function(event,q){'use strict';if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING&&this.$VideoPlayerHTML5Api36)q.longest_init_response_time=this.$VideoPlayerHTML5Api36.getLongestInitResponseTime();q.projection=this.getVideoProjection();this.$VideoPlayerHTML5Api101('flash/logEvent',{logData:babelHelpers['extends']({event:event},q)})};p.prototype.$VideoPlayerHTML5Api101=function(event,q){'use strict';c('Arbiter').inform(event,babelHelpers['extends']({divID:this.$VideoPlayerHTML5Api15},q));this.emit(event.substr('flash/'.length),q)};p.prototype.$VideoPlayerHTML5Api104=function(){'use strict';if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)if(this.$VideoPlayerHTML5Api44)this.$VideoPlayerHTML5Api71();var q=this.getVideoID();this.$VideoPlayerHTML5Api44=c('RTISubscriptionManager').subscribe('live/broadcast/caption/'+q,this.$VideoPlayerHTML5Api105.bind(this))};p.prototype.$VideoPlayerHTML5Api71=function(){'use strict';if(this.$VideoPlayerHTML5Api44)this.$VideoPlayerHTML5Api44.unsubscribe();if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)this.$VideoPlayerHTML5Api44=null;};p.prototype.getLastPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api23};p.prototype.getVideoPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api49};p.prototype.isMuted=function(){'use strict';return this.$VideoPlayerHTML5Api26};p.prototype.setPlaybackRate=function(q){'use strict';if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api36.setPlaybackRate(q)}else this.$VideoPlayerHTML5Api35.playbackRate=q;};p.prototype.getPlaybackDuration=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return this.$VideoPlayerHTML5Api1.playbackDuration;return this.$VideoPlayerHTML5Api35.duration||0};p.prototype.getVolume=function(){'use strict';return this.$VideoPlayerHTML5Api35.volume};p.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerHTML5Api35.currentTime};p.prototype.$VideoPlayerHTML5Api74=function(){'use strict';if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api9.fallbackSources.HD?this.$VideoPlayerHTML5Api9.fallbackSources.HD:this.$VideoPlayerHTML5Api9.fallbackSources.SD;if(this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api10.hasHD()){return this.$VideoPlayerHTML5Api106()}else return this.$VideoPlayerHTML5Api107();};p.prototype.$VideoPlayerHTML5Api106=function(){'use strict';if(this.$VideoPlayerHTML5Api20){return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedHD()}else return this.$VideoPlayerHTML5Api10.getPlayableSrcHD();};p.prototype.$VideoPlayerHTML5Api107=function(){'use strict';if(this.$VideoPlayerHTML5Api20){return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedSD()}else return this.$VideoPlayerHTML5Api10.getPlayableSrcSD();};p.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerHTML5Api43=!this.$VideoPlayerHTML5Api43;this.$VideoPlayerHTML5Api83();this.emit('toggleSubtitles')};p.prototype.hasSubtitles=function(){'use strict';return this.$VideoPlayerHTML5Api10.hasSubtitles()||!!this.$VideoPlayerHTML5Api36&&this.$VideoPlayerHTML5Api36.hasSubtitles()};p.prototype.areSubtitlesActive=function(){'use strict';return this.$VideoPlayerHTML5Api43};p.prototype.areHLSActive=function(){'use strict';return false};p.prototype.isRTMP=function(){'use strict';return false};p.prototype.setSubtitlesStyle=function(q,r,s,t){'use strict';this.$VideoPlayerHTML5Api45=q;this.$VideoPlayerHTML5Api46=r;this.$VideoPlayerHTML5Api47=s;this.$VideoPlayerHTML5Api48=t};p.prototype.$VideoPlayerHTML5Api83=function(){'use strict';if(this.$VideoPlayerHTML5Api36&&this.$VideoPlayerHTML5Api36.hasSubtitles())this.$VideoPlayerHTML5Api36.enableSubtitles(this.$VideoPlayerHTML5Api43);if(this.$VideoPlayerHTML5Api43){this.$VideoPlayerHTML5Api42&&this.$VideoPlayerHTML5Api42.showSubtitles()}else this.$VideoPlayerHTML5Api42&&this.$VideoPlayerHTML5Api42.hideSubtitles();};p.prototype.$VideoPlayerHTML5Api108=function(){'use strict';if(this.$VideoPlayerHTML5Api18)this.$VideoPlayerHTML5Api83();this.emit('loadedSubtitles');this.$VideoPlayerHTML5Api42.setSubtitlesStyle(this.$VideoPlayerHTML5Api45,this.$VideoPlayerHTML5Api46,this.$VideoPlayerHTML5Api47,this.$VideoPlayerHTML5Api48)};p.prototype.$VideoPlayerHTML5Api105=function(){'use strict';var q=this.getVideoID(),r=c('XLiveBroadcastCaptionsURIFetchAsyncController').getURIBuilder().setString('video_id',q).getURI();new (c('AsyncRequest'))().setURI(r).setMethod('POST').setHandler(function(s){this.$VideoPlayerHTML5Api109(s.getPayload())}.bind(this)).send()};p.prototype.$VideoPlayerHTML5Api109=function(q){'use strict';this.$VideoPlayerHTML5Api84(q)};p.prototype.$VideoPlayerHTML5Api84=function(q){'use strict';c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(r,s){if(this.$VideoPlayerHTML5Api42)this.$VideoPlayerHTML5Api42.removeSubtitles();var t=this.$VideoPlayerHTML5Api9.subtitleDrawer,u=new s(this.$VideoPlayerHTML5Api35,q);this.$VideoPlayerHTML5Api42=new r(this.$VideoPlayerHTML5Api35,u);this.$VideoPlayerHTML5Api42.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api108()}.bind(this));this.$VideoPlayerHTML5Api42.registerDrawer(t);this.$VideoPlayerHTML5Api42.loadSubtitles()}.bind(this),'VideoPlayerHTML5Api')};p.prototype.$VideoPlayerHTML5Api82=function(){'use strict';var q=new (c('Deferred'))();c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(r,s){var t=new s(this.$VideoPlayerHTML5Api35);q.resolve(t);if(this.$VideoPlayerHTML5Api42)this.$VideoPlayerHTML5Api42.removeSubtitles();var u=this.$VideoPlayerHTML5Api9.subtitleDrawer;this.$VideoPlayerHTML5Api42=new r(this.$VideoPlayerHTML5Api35,t);this.$VideoPlayerHTML5Api42.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api108()}.bind(this));this.$VideoPlayerHTML5Api42.registerDrawer(u);this.$VideoPlayerHTML5Api42.loadSubtitles()}.bind(this),'VideoPlayerHTML5Api');return q.getPromise()};p.prototype.setStillFrameEnabled=function(q){'use strict';this.$VideoPlayerHTML5Api40=!q};p.prototype.$VideoPlayerHTML5Api110=function(){'use strict';if(this.$VideoPlayerHTML5Api40)return;var q;if(!this.$VideoPlayerHTML5Api39){var r=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api35),s=c('DOM').create('canvas',{width:r.width,height:r.height,className:"_3t5i"});c('DOM').insertAfter(this.$VideoPlayerHTML5Api35,s);this.$VideoPlayerHTML5Api39=q=new (c('VideoFrameBuffer'))(s,this.$VideoPlayerHTML5Api35)}else q=this.$VideoPlayerHTML5Api39;c('CSS').show(q.getDOMNode());q.updateFrameBuffer();c('CSS').hide(this.$VideoPlayerHTML5Api35)};p.prototype.$VideoPlayerHTML5Api72=function(){'use strict';if(!this.$VideoPlayerHTML5Api39)return;c('CSS').hide(this.$VideoPlayerHTML5Api39.getDOMNode());c('CSS').show(this.$VideoPlayerHTML5Api35)};p.prototype.$VideoPlayerHTML5Api76=function(){var q=arguments.length<=0||arguments[0]===undefined?null:arguments[0];'use strict';var r=this.$VideoPlayerHTML5Api1;if(!r)return;if(this.$VideoPlayerHTML5Api21)return;this.$VideoPlayerHTML5Api21=true;this.emit('restoringAfterAbort');this.allowNextSeekInMixin();var s=q==null?r.currentTime:q;if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api36.reload(s)}else{var t=this.$VideoPlayerHTML5Api74();if(t)this.$VideoPlayerHTML5Api35.src=t;this.$VideoPlayerHTML5Api35.preload=r.preload}c('seekHTMLMediaElementTo')(this.$VideoPlayerHTML5Api35,s,function(){this.$VideoPlayerHTML5Api72();if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api35.muted=this.$VideoPlayerHTML5Api1.mutedState;this.$VideoPlayerHTML5Api1=null;this.emit('restoredAfterAbort')}this.$VideoPlayerHTML5Api21=false;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api35,function(){return this.$VideoPlayerHTML5Api78()}.bind(this))}.bind(this))};p.prototype.abortLoadingWithoutStillFrame=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;var q=this.$VideoPlayerHTML5Api35.currentTime,r=this.isMuted(),s=this.$VideoPlayerHTML5Api35.duration,t=this.isPaused(),u=this.$VideoPlayerHTML5Api35.preload;this.$VideoPlayerHTML5Api32=false;this.$VideoPlayerHTML5Api1={mutedState:r,currentTime:q,playbackDuration:s,preload:u};if(t&&this.$VideoPlayerHTML5Api18)c('dispatchEvent')(this.$VideoPlayerHTML5Api35,'pause');this.emit('abortedLoading');if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api36.unload();return}this.$VideoPlayerHTML5Api35.preload='none';this.$VideoPlayerHTML5Api35.removeAttribute('src');this.$VideoPlayerHTML5Api35.load()};p.prototype.abortLoading=function(q){'use strict';if(this.$VideoPlayerHTML5Api1)return;q=q||{};if(!q.disableStillFrame)this.$VideoPlayerHTML5Api110();this.abortLoadingWithoutStillFrame()};p.prototype.setPreferredVideoQuality=function(q){'use strict';this.$VideoPlayerHTML5Api31=q;if(!this.$VideoPlayerHTML5Api10)return;if(this.$VideoPlayerHTML5Api36&&c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api36.setPreferredVideoQuality(q);return}if(!c('VideoPlayerHTML5Experiments').newStateChangeCalculation){this.$VideoPlayerHTML5Api66(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'toggle_hd'}));this.$VideoPlayerHTML5Api66(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,{reason:c('VideoPlayerReason').USER})}if(this.$VideoPlayerHTML5Api36&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api36.setPreferredVideoQuality(q);return}this.$VideoPlayerHTML5Api19=!this.$VideoPlayerHTML5Api19;var r=this.$VideoPlayerHTML5Api35.currentTime,s=this.$VideoPlayerHTML5Api35.muted,t=this.$VideoPlayerHTML5Api35.volume,u=this.$VideoPlayerHTML5Api74();if(u)this.$VideoPlayerHTML5Api35.src=u;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api35,function(){this.$VideoPlayerHTML5Api35.currentTime=r;this.$VideoPlayerHTML5Api35.muted=s;this.$VideoPlayerHTML5Api35.volume=t;this.$VideoPlayerHTML5Api78();this.emit('qualityChange')}.bind(this));this.$VideoPlayerHTML5Api30=true;this.$VideoPlayerHTML5Api65(true);this.$VideoPlayerHTML5Api80()};p.prototype.unsetPreferredVideoQuality=function(){'use strict';this.$VideoPlayerHTML5Api31=null;if(this.$VideoPlayerHTML5Api36)this.$VideoPlayerHTML5Api36.unsetPreferredVideoQuality();};p.prototype.getPreferredVideoQuality=function(){'use strict';return this.$VideoPlayerHTML5Api31};p.prototype.getSelectedVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api36)return this.$VideoPlayerHTML5Api36.getSelectedVideoQuality();return this.$VideoPlayerHTML5Api19?'HD':'SD'};p.prototype.getAvailableVideoQualities=function(){'use strict';if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api9.fallbackSources.HD?['SD','HD']:['SD'];if(!this.$VideoPlayerHTML5Api10)return [];if(this.$VideoPlayerHTML5Api36)return this.$VideoPlayerHTML5Api36.getAvailableVideoQualities();return this.$VideoPlayerHTML5Api10.hasHD()?['SD','HD']:['SD']};p.prototype.getIsAbrEnabled=function(){'use strict';if(this.$VideoPlayerHTML5Api36)return this.$VideoPlayerHTML5Api36.getIsAbrEnabled();return false};p.prototype.canAutoSelectVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api36)return this.$VideoPlayerHTML5Api36.canAutoSelectVideoQuality();return false};p.prototype.setPreloadDisabled=function(q){'use strict';if(this.$VideoPlayerHTML5Api36)this.$VideoPlayerHTML5Api36.setPreloadDisabled(q);};p.prototype.restoreStreamBufferSize=function(){'use strict';if(this.$VideoPlayerHTML5Api36)this.$VideoPlayerHTML5Api36.restoreStreamBufferSize();};p.prototype.setSmartBufferAdjustmentEnabled=function(q){'use strict';if(this.$VideoPlayerHTML5Api36)this.$VideoPlayerHTML5Api36.setSmartBufferAdjustmentEnabled(q);};p.getPlayerVersion=function(){'use strict';return c('VideoPlayerVersions').PLEASANTVILLE};p.prototype.getVideoNodeSource=function(){'use strict';return this.$VideoPlayerHTML5Api35.src||''};p.prototype.getVideoProjection=function(){'use strict';if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33;if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api36.getVideoProjection();if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33;}this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api10.getProjection();return this.$VideoPlayerHTML5Api33};p.prototype.$VideoPlayerHTML5Api111=function(){'use strict';this.$VideoPlayerHTML5Api7=this.getCurrentTimePosition()};p.prototype.$VideoPlayerHTML5Api112=function(){'use strict';if(this.$VideoPlayerHTML5Api7){this.$VideoPlayerHTML5Api34=this.$VideoPlayerHTML5Api7;this.$VideoPlayerHTML5Api7=null}else this.$VideoPlayerHTML5Api34=o;};p.prototype.$VideoPlayerHTML5Api113=function(){'use strict';this.$VideoPlayerHTML5Api8=this.getVolume();this.$VideoPlayerHTML5Api6=this.isMuted()};p.prototype.$VideoPlayerHTML5Api114=function(){'use strict';if(this.$VideoPlayerHTML5Api8&&this.$VideoPlayerHTML5Api6){this.setVolume(this.$VideoPlayerHTML5Api8);if(this.$VideoPlayerHTML5Api6){this.mute()}else this.unmute();this.$VideoPlayerHTML5Api8=null;this.$VideoPlayerHTML5Api6=null}};p.prototype.reloadDashManifest=function(){'use strict';var q=this.$VideoPlayerHTML5Api36;if(q){this.$VideoPlayerHTML5Api111();this.abortLoading();return this.$VideoPlayerHTML5Api115(function(){return q.refreshDashManifest()},this.$VideoPlayerHTML5Api34)}return c('Promise').reject()};p.prototype.reloadLiveVODHighlightsManifest=function(){'use strict';var q=this.$VideoPlayerHTML5Api36;if(q){this.$VideoPlayerHTML5Api111();this.abortLoading();return this.$VideoPlayerHTML5Api115(function(){return q.refreshLiveVODHighlightsManifest()},this.$VideoPlayerHTML5Api34)}return c('Promise').reject()};p.prototype.$VideoPlayerHTML5Api115=function(q,r){'use strict';return q().then(function(){this.$VideoPlayerHTML5Api76(r);this.$VideoPlayerHTML5Api112()}.bind(this))};p.prototype.isPlayingVODHighlights=function(){'use strict';if(this.$VideoPlayerHTML5Api36)return this.$VideoPlayerHTML5Api36.isPlayingLiveVODHighlights();return false};p.prototype.$VideoPlayerHTML5Api78=function(){'use strict';if(this.$VideoPlayerHTML5Api30){if(this.$VideoPlayerHTML5Api3)var q=c('EventListener').capture(this.$VideoPlayerHTML5Api35.parentNode,'play',function(u){c('Event').kill(u);q.remove()});if(this.$VideoPlayerHTML5Api35.ended&&!this.$VideoPlayerHTML5Api35.paused)c('dispatchEvent')(this.$VideoPlayerHTML5Api35,'play');var r=null;if(this.$VideoPlayerHTML5Api36){var s=this.$VideoPlayerHTML5Api36,t=k&&k.isReady()&&k.get('www_videos_shaka_wait_for_buffered');r=t?this.$VideoPlayerHTML5Api116():s.play()}else{if(c('VideoPlayerHTML5Experiments').preloadOnPlay)this.$VideoPlayerHTML5Api35.preload='auto';r=this.$VideoPlayerHTML5Api35.play()}if(r&&r['catch'])r['catch'](function(u){this.$VideoPlayerHTML5Api65(false)}.bind(this));}this.$VideoPlayerHTML5Api79()};p.prototype.isLiveVODHighlightsAvailable=function(){'use strict';return this.$VideoPlayerHTML5Api16};p.prototype.$VideoPlayerHTML5Api116=function q(){var r,s,t,u;return c('regeneratorRuntime').async(function v(w){while(1)switch(w.prev=w.next){case 0:'use strict';r=3;case 2:if(!(!this.$VideoPlayerHTML5Api12&&this.$VideoPlayerHTML5Api36)){w.next=13;break}if(!(this.$VideoPlayerHTML5Api35.buffered.length>0)){w.next=9;break}s=this.$VideoPlayerHTML5Api35.buffered.start(0);t=this.$VideoPlayerHTML5Api35.buffered.end(0);u=Math.round(t-s)>=r;if(!(u&&this.$VideoPlayerHTML5Api36)){w.next=9;break}return w.abrupt('return',this.$VideoPlayerHTML5Api36.play());case 9:w.next=11;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(x){return setTimeout(x,100)}));case 11:w.next=2;break;case 13:return w.abrupt('return',null);case 14:case 'end':return w.stop();}},null,this)};p.getStreamTypeFromConfig=function(q){'use strict';var r=new (c('VideoData'))(q.videoData[0]);return r.getStreamType()};p.getIsPlayingLiveFromConfig=function(q){'use strict';var r=new (c('VideoData'))(q.videoData[0]);return r.isLiveStream()};p.getIsFacecastAudioFromConfig=function(q){'use strict';var r=new (c('VideoData'))(q.videoData[0]);return r.isFacecastAudio()};p.networkTimeout=5000;f.exports=p}),null);
__d('VideoAutoplayControllerAbortLoadingHelper',['invariant','VideoPlayerLoggerSource','VideoPlayerExperiments','VideoPlayerAbortLoadingExperiment','getViewportDimensions','Set','Map'],(function a(b,c,d,e,f,g,h){function i(){'use strict';this.$VideoAutoplayControllerAbortLoadingHelper1=new (c('Set'))();this.$VideoAutoplayControllerAbortLoadingHelper2=new (c('Map'))()}i.prototype.maybeAbortLoading=function(){'use strict';for(var j=this.$VideoAutoplayControllerAbortLoadingHelper1,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m,o=c('VideoPlayerExperiments').deferWhichVideoToAbortLoadingDecisioningLogic,p=n.getVideoPlayerController(),q=p?p.isLiveVideo():null;if(q!==null&&(o==='vod'&&q||o==='live'&&!q))continue;if(!n.isState('playing')&&typeof n.abortLoading==='function'&&i.shouldAbortLoadingVideoUnit(n)){if(c('VideoPlayerExperiments').abortLoadingHelperNegativeYAbortLoading){this.$VideoAutoplayControllerAbortLoadingHelper3(n)}else this.$VideoAutoplayControllerAbortLoadingHelper4(n);}else if(c('VideoPlayerExperiments').abortLoadingHelperNegativeYAbortLoading&&n.isState('playing')){var r=this.$VideoAutoplayControllerAbortLoadingHelper2.get(n);!!r||h(0);if(r&&r.abortedLoading)r.abortedLoading=false;}}};i.prototype.$VideoAutoplayControllerAbortLoadingHelper3=function(j){'use strict';if(c('VideoPlayerExperiments').abortLoadingHelperBoundedReloading){var k=c('getViewportDimensions')().height/-2;if(j.getDistanceToViewport()<c('VideoPlayerExperiments').abortedLoadingPixelBoundary+k&&!j.isVisible()){this.$VideoAutoplayControllerAbortLoadingHelper5(j)}else if(j.getDistanceToViewport()>c('VideoPlayerExperiments').reloadingPixelBoundary+k)this.$VideoAutoplayControllerAbortLoadingHelper6(j);}else if(j.getDistanceToViewport()<0&&!j.isVisible())this.$VideoAutoplayControllerAbortLoadingHelper5(j);};i.prototype.addVideoUnit=function(j){'use strict';if(!this.$VideoAutoplayControllerAbortLoadingHelper1.has(j)){this.$VideoAutoplayControllerAbortLoadingHelper1.add(j);this.$VideoAutoplayControllerAbortLoadingHelper2.set(j,{y:j.getDistanceToViewport(),timestamp:new Date().valueOf(),v:0,abortedLoading:false})}};i.prototype.removeVideoUnit=function(j){'use strict';this.$VideoAutoplayControllerAbortLoadingHelper1['delete'](j);this.$VideoAutoplayControllerAbortLoadingHelper2['delete'](j)};i.prototype.calculateFutureScrollPosition=function(j){'use strict';var k=j.y1-j.y0,l=j.t1-j.t0,m=k/l,n=m-j.v0,o=n/l,p=j.t,q=o*p*p/2+p*m+j.y1;return {v1:m,a:o,S:q}};i.prototype.preloadClosestVideoUnits=function(j){'use strict';this.$VideoAutoplayControllerAbortLoadingHelper7(j).forEach(function(k){return this.$VideoAutoplayControllerAbortLoadingHelper6(k)}.bind(this))};i.prototype.$VideoAutoplayControllerAbortLoadingHelper7=function(j){'use strict';return Array.from(this.$VideoAutoplayControllerAbortLoadingHelper1).filter(function(k){return k.getDistanceToViewport()>=0}).sort(function(k,l){return k.getDistanceToViewport()-l.getDistanceToViewport()}).slice(0,j)};i.prototype.$VideoAutoplayControllerAbortLoadingHelper6=function(j){'use strict';var k=this.$VideoAutoplayControllerAbortLoadingHelper2.get(j);!!k||h(0);var l=void 0;if(k){l=k.abortedLoading;k.abortedLoading=false}if(l&&typeof j.preload==='function')j.preload();};i.prototype.$VideoAutoplayControllerAbortLoadingHelper5=function(j){'use strict';var k=this.$VideoAutoplayControllerAbortLoadingHelper2.get(j);!!k||h(0);var l=void 0;if(k){l=k.abortedLoading;k.abortedLoading=true}if(!l&&typeof j.abortLoading==='function')j.abortLoading();};i.prototype.$VideoAutoplayControllerAbortLoadingHelper4=function(j){'use strict';var k=c('getViewportDimensions')().height,l=1600,m=k/2,n=m+l,o=-m,p=o-l,q=this.$VideoAutoplayControllerAbortLoadingHelper2.get(j);!!q||h(0);if(!q)return;var r=j.getDistanceToViewport(),s=q.y;q.y=r;var t=new Date().valueOf(),u=q.timestamp;q.timestamp=t;var v=q.v;if(p<=r&&n>=r){if(q.abortedLoading)this.$VideoAutoplayControllerAbortLoadingHelper6(j);return}var w=500,x=this.calculateFutureScrollPosition({y0:s,y1:r,t0:u,t1:t,v0:v,t:w});q.v=x.v1;var y=x.S;if(q.abortedLoading){if(r<p&&y>p||r>n&&y<n)this.$VideoAutoplayControllerAbortLoadingHelper6(j);}else this.$VideoAutoplayControllerAbortLoadingHelper5(j);};i.prototype.$VideoAutoplayControllerAbortLoadingHelper8=function(j){'use strict';var k=j.getVideoPlayerController();return k?k.getVideoPlayerID():null};i.shouldAbortLoadingVideoUnit=function(j){'use strict';var k=!c('VideoPlayerExperiments').abortLoadingDecisioningLogic,l=true;if(j){if(typeof j.getIsInChannel==='function')l=j.getIsInChannel();if(typeof j.getSource==='function'&&c('VideoPlayerExperiments').abortLoadingDecisioningLogic)k=j.getSource()===c('VideoPlayerLoggerSource').TAHOE;return c('VideoPlayerAbortLoadingExperiment').canAbort&&!l&&!k}return false};f.exports=i}),null);
__d('VideoAutoplayControllerBase',['Arbiter','DesktopHscrollUnitEventConstants','Event','VideoPlayerExperiments','VideoPlayerAbortLoadingExperiment','VideoAutoplayControllerAbortLoadingHelper','VideoPlayerLoggerSource','VideoPlayerReason','Visibility','destroyOnUnload','SubscriptionsHandler','throttle','setTimeoutAcrossTransitions','emptyFunction'],(function a(b,c,d,e,f,g){var h=c('VideoPlayerExperiments').abortLoadingDelay;function i(l,m){var n=[];return function(){var o=Date.now();n.unshift(o);var p=0;while(n[++p]+m>o);n=n.slice(0,p);return n.length<=l}}function j(l,m,n){var o=null;return function(){var p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];if(m()){l.apply(undefined,r);return c('emptyFunction').thatReturnsFalse}else if(!o)(function(){var t=setTimeout(function(){o=null;l.apply(undefined,r)},n);o=function u(){if(!o)return false;clearTimeout(t);o=null;return true}})();return o}}function k(l){'use strict';this.$VideoAutoplayControllerBase3=null;this.$VideoAutoplayControllerBase2=null;this.$VideoAutoplayControllerBase8=[];this.$VideoAutoplayControllerBase1=l;this.$VideoAutoplayControllerBase4=null;this.$VideoAutoplayControllerBase5=new (c('SubscriptionsHandler'))();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerBase8=[];this.$VideoAutoplayControllerBase3=null;if(this.$VideoAutoplayControllerBase4){this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=null}this.$VideoAutoplayControllerBase5.release()}.bind(this));if(c('VideoPlayerExperiments').autoplayMaxCallsPerWindow)this.$VideoAutoplayControllerBase6=j(function(m){var n=this.$VideoAutoplayControllerBase3;if(n)n.playWithoutUnmute(m);}.bind(this),i(c('VideoPlayerExperiments').autoplayMaxCallsPerWindow,c('VideoPlayerExperiments').autoplayThrottleWindow),c('VideoPlayerExperiments').autoplayThrottleDelay);this.$VideoAutoplayControllerBase7=c('emptyFunction').thatReturnsFalse}k.prototype.getVideoUnits=function(){'use strict';return this.$VideoAutoplayControllerBase8};k.prototype.setVideoUnits=function(l){'use strict';this.$VideoAutoplayControllerBase8=l};k.prototype.addVideoUnit=function(l){'use strict';this.$VideoAutoplayControllerBase8.push(l)};k.prototype.removeVideoUnit=function(l){'use strict';var m=this.$VideoAutoplayControllerBase8.findIndex(function(n){return n===l});if(m>-1)this.$VideoAutoplayControllerBase8.splice(m,1);};k.prototype.getPlayingVideoUnit=function(){'use strict';return this.$VideoAutoplayControllerBase3};k.prototype.setPlayingVideoUnit=function(l){'use strict';this.$VideoAutoplayControllerBase3=l;if(this.$VideoAutoplayControllerBase3)this.setupPlayingVideoUnitSubscriptions();};k.prototype.playVideo=function(l,m){'use strict';if(c('VideoPlayerExperiments').disableAutoplayForInactiveTab&&c('Visibility').isHidden()){this.$VideoAutoplayControllerBase2=l;return}this.setPlayingVideoUnit(l);if(this.$VideoAutoplayControllerBase3){var n=this.$VideoAutoplayControllerBase6;if(n){this.$VideoAutoplayControllerBase7=n.call(this,m)}else this.$VideoAutoplayControllerBase3.playWithoutUnmute(m);}};k.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';throw new Error('Should be overridden')};k.prototype.addSubscriberVideoUnit=function(){'use strict';if(!this.getVideoUnits().length){this.$VideoAutoplayControllerBase5.addSubscriptions(c('Event').listen(window,'resize',this.updateAutoplay.bind(this)),c('Event').listen(window,'blur',this.$VideoAutoplayControllerBase9.bind(this)),c('Event').listen(window,'focus',this.$VideoAutoplayControllerBase10.bind(this)),c('Visibility').addListener(c('Visibility').HIDDEN,this.$VideoAutoplayControllerBase9.bind(this)),c('Visibility').addListener(c('Visibility').VISIBLE,this.$VideoAutoplayControllerBase10.bind(this)),c('Arbiter').subscribe(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this)));if(!this.$VideoAutoplayControllerBase11())this.$VideoAutoplayControllerBase12();}};k.prototype.$VideoAutoplayControllerBase9=function(){'use strict';if(!this.$VideoAutoplayControllerBase2){this.$VideoAutoplayControllerBase2=this.getPlayingVideoUnit();this.$VideoAutoplayControllerBase13(c('VideoPlayerReason').PAGE_VISIBILITY)}};k.prototype.$VideoAutoplayControllerBase10=function(){'use strict';if(this.$VideoAutoplayControllerBase2){this.playVideo(this.$VideoAutoplayControllerBase2,c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoAutoplayControllerBase2=null}};k.prototype.$VideoAutoplayControllerBase12=function(){'use strict';if(this.$VideoAutoplayControllerBase4)this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=c('Event').listen(window,'scroll',c('throttle')(this.updateAutoplay.bind(this),this.$VideoAutoplayControllerBase1))};k.prototype.$VideoAutoplayControllerBase11=function(){'use strict';return !!this.$VideoAutoplayControllerBase4};k.prototype.getClosestVideoUnits=function(l){'use strict';return this.$VideoAutoplayControllerBase8.filter(function(m){return m.getDistanceToViewport()>=0}).sort(function(m,n){return m.getDistanceToViewport()-n.getDistanceToViewport()}).slice(0,l)};k.prototype.getVisibleUnits=function(){'use strict';var l=[];this.$VideoAutoplayControllerBase8.forEach(function(m){if(m.isVisible()){l.push(m);if(!m.wasVisible){m.wasVisible=true;m.logDisplayed()}}else m.wasVisible=false;});return l};k.prototype.$VideoAutoplayControllerBase14=function(l){'use strict';var m=c('VideoPlayerExperiments').deferWhichVideoToAbortLoadingDecisioningLogic,n=l.getVideoPlayerController(),o=n?n.isLiveVideo():null;if(o!==null&&(m==='vod'&&o||m==='live'&&!o))return false;return c('VideoAutoplayControllerAbortLoadingHelper').shouldAbortLoadingVideoUnit(l)};k.prototype.pausePlayingVideo=function(l,m){'use strict';var n=this.$VideoAutoplayControllerBase3,o=!c('VideoPlayerExperiments').abortLoadingDecisioningLogic,p=true;if(n){if(!this.$VideoAutoplayControllerBase7())n.pause(l);if(!c('VideoPlayerExperiments').decoupleAbortLoadingFromPause)if(this.$VideoAutoplayControllerBase14(n)&&!m)c('setTimeoutAcrossTransitions')(function(){if(!n.isState('playing')&&typeof n.abortLoading==='function')n.abortLoading();},h);this.$VideoAutoplayControllerBase3=null}};k.prototype.$VideoAutoplayControllerBase13=function(l){'use strict';this.pausePlayingVideo(l,true)};k.prototype.updateAutoplay=function(){'use strict';throw new Error('Should be overridden')};f.exports=k}),null);
__d("XVideoAutoplayNuxAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/autoplay\/nux\/",{})}),null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/autoplay\/nux\/dismiss\/",{})}),null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/autoplay\/nux\/log\/view\/",{})}),null);
__d('VideoAutoplayControllerX',['csx','AsyncRequest','DOM','Event','Network','ifRequired','Run','SubscriptionsHandler','VideoAutoplayControllerBase','VideoPlayerExperiments','VideoPlayerPreloadExperiment','VideoPlayerReason','XVideoAutoplayNuxAsyncController','XVideoAutoplayNuxDismissAsyncController','XVideoAutoplayNuxLogViewAsyncController','VideoAutoplayControllerAbortLoadingHelper','destroyOnUnload','getViewportDimensions'],(function a(b,c,d,e,f,g,h){var i,j,k=null,l=200,m=false;function n(){return !c('VideoPlayerExperiments').delayAutoplayUntilAfterLoad||m}i=babelHelpers.inherits(o,c('VideoAutoplayControllerBase'));j=i&&i.prototype;function o(){'use strict';j.constructor.call(this,l);this.$VideoAutoplayControllerX1=new (c('VideoAutoplayControllerAbortLoadingHelper'))();this.$VideoAutoplayControllerX2=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX3=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX4=true;this.$VideoAutoplayControllerX5=true;this.$VideoAutoplayControllerX6=null;this.$VideoAutoplayControllerX7=null;this.$VideoAutoplayControllerX8=false;this.$VideoAutoplayControllerX9=null;this.$VideoAutoplayControllerX10=false;this.$VideoAutoplayControllerX11=false;this.$VideoAutoplayControllerX12=false;var p=c('XVideoAutoplayNuxAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(p).setAllowCrossPageTransition().send();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerX13();if(this===k)k=null;}.bind(this));c('Run').onAfterLoad(function(){m=true;if(c('VideoPlayerExperiments').delayAutoplayUntilAfterLoad)if(k)k.updateAutoplay();if(!document.hasFocus())c('Event').fire(window,'blur');})}o.registerVideoUnit=function(p){'use strict';if(k==null)k=new o();k.addSubscriberVideoUnit();k.addVideoUnit(p);var q=new (c('SubscriptionsHandler'))();q.addSubscriptions.apply(q,k.$VideoAutoplayControllerX14(p));k.$VideoAutoplayControllerX15();if(p.isVisible()&&n())k.updateAutoplay();if(k.shouldRestoreAllSubsequentStreamBufferSizes())k.restoreStreamBufferSize();return function(){k&&k.removeVideoUnit(p);q.release();if(k&&p===k.getPlayingVideoUnit()){k.$VideoAutoplayControllerX3.release();k.setPlayingVideoUnit(null)}}};o.setShouldAutoplay=function(p){'use strict';if(k==null)k=new o();k.$VideoAutoplayControllerX4=p;k.$VideoAutoplayControllerX5=p;k.updateAutoplay()};o.prototype.$VideoAutoplayControllerX13=function(){'use strict';this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX3.release()};o.setAutoplayNux=function(p,q){'use strict';if(k==null)return;k.$VideoAutoplayControllerX6=p;k.$VideoAutoplayControllerX7=q;k.$VideoAutoplayControllerX8=true;var r=c('DOM').find(q.getContentRoot(),"._5cqr");c('Event').listen(r,'click',function(){k.$VideoAutoplayControllerX16()});var s=c('DOM').scry(q.getContentRoot(),"._36gl")[0];if(s)c('Event').listen(s,'click',function(){k.$VideoAutoplayControllerX16()});};o.prototype.$VideoAutoplayControllerX16=function(){'use strict';this.$VideoAutoplayControllerX7.hide();this.$VideoAutoplayControllerX8=false;var p=c('XVideoAutoplayNuxDismissAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(p).setAllowCrossPageTransition().send()};o.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';if(this.getPlayingVideoUnit().addListener){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX2.engage();if(!this.getPlayingVideoUnit().isLooping())this.$VideoAutoplayControllerX2.addSubscriptions(this.getPlayingVideoUnit().addListener('finishPlayback',function(){this.setPlayingVideoUnit(null)}.bind(this)));this.$VideoAutoplayControllerX2.addSubscriptions(this.getPlayingVideoUnit().addListener('turnOffAutoplay',function(){this.setPlayingVideoUnit(null)}.bind(this)),this.getPlayingVideoUnit().addListener('pausePlayback',function(){this.$VideoAutoplayControllerX15()}.bind(this)),this.getPlayingVideoUnit().addListener('finishPlayback',function(){this.$VideoAutoplayControllerX15()}.bind(this)),c('Network').addListener('online',function(){this.$VideoAutoplayControllerX15()}.bind(this)),c('Network').addListener('offline',function(){this.$VideoAutoplayControllerX15()}.bind(this)))}};o.prototype.$VideoAutoplayControllerX15=function(){'use strict';if(c('VideoPlayerExperiments').webVideosBlockAutoplayWhenOffline)if(c('Network').isOnline()){this.$VideoAutoplayControllerX4=this.$VideoAutoplayControllerX5}else{this.$VideoAutoplayControllerX5=this.$VideoAutoplayControllerX4;this.$VideoAutoplayControllerX4=false;return}var p=this.getVideoUnits();for(var q=0;q<p.length;q++){var r=p[q].getVideoPlayerController();if(r!==null){if(r.getDataInsertionPosition()==='0'){this.$VideoAutoplayControllerX10=true;if(this.$VideoAutoplayControllerX11===false){r.restoreStreamBufferSize();r.once('beginPlayback',function(){this.$VideoAutoplayControllerX12=true;this.restoreStreamBufferSize()}.bind(this));this.$VideoAutoplayControllerX11=true}}if(!c('VideoPlayerExperiments').autoplayBlockBlacklist)r.updateAutoplayRestrained();}}if(!this.$VideoAutoplayControllerX10)this.restoreStreamBufferSize();};o.prototype.shouldRestoreAllSubsequentStreamBufferSizes=function(){'use strict';if(!this.$VideoAutoplayControllerX10)return true;return this.$VideoAutoplayControllerX12};o.prototype.restoreStreamBufferSize=function(){'use strict';var p=this.getVideoUnits();for(var q=0;q<p.length;q++){var r=p[q].getVideoPlayerController();if(r!==null)r.restoreStreamBufferSize();}};o.prototype.$VideoAutoplayControllerX14=function(p){var q;'use strict';if(!p.addListener)return [];var r=function(){var t=p.getVideoPlayerController();if(!t.isMuted()&&t.isState('playing')){if(this.$VideoAutoplayControllerX9&&this.$VideoAutoplayControllerX9!==p){var u=this.$VideoAutoplayControllerX9.getVideoPlayerController(),v=u.getOption('VideoWithLiveBroadcast','isLive');if(v){u.mute()}else u.pause(c('VideoPlayerReason').USER);}this.$VideoAutoplayControllerX9=p}}.bind(this),s=[p.addListener('beginPlayback',r),p.addListener('changeVolume',r),p.addListener('unmuteVideo',r)];(q=this.$VideoAutoplayControllerX3).addSubscriptions.apply(q,s);return s};o.prototype.$VideoAutoplayControllerX17=function(){'use strict';var p=this.getVisibleUnits(),q=p.length,r=null;if(q===1){r=p[0];r=r.isAutoplayable()?r:null}else if(q>1){var s=c('getViewportDimensions')().height/2;p.forEach(function(t){if(!t.isAutoplayable())return;var u=t.getDOMPosition(),v=u.y+u.height/2,w=Math.abs(v-s);t.playPriority=w;if(!r||t.playPriority<r.playPriority)r=t;})}return r};o.prototype.showAutoplayNUX=function(p){'use strict';if(this.$VideoAutoplayControllerX7&&!this.$VideoAutoplayControllerX7.isShown()){var q=p.getVideoPlayerController().getRootNode();c('DOM').prependContent(q,this.$VideoAutoplayControllerX6);this.$VideoAutoplayControllerX7.show();var r=c('XVideoAutoplayNuxLogViewAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(r).setAllowCrossPageTransition().send()}this.$VideoAutoplayControllerX8=false};o.getChannelVideos=function(){'use strict';if(k)return k.getVideoUnits().filter(function(p){return p.getIsInChannel()});return null};o.prototype.addVideoUnit=function(p){'use strict';j.addVideoUnit.call(this,p);if(c('VideoPlayerExperiments').decoupleAbortLoadingFromPause&&p)this.$VideoAutoplayControllerX1.addVideoUnit(p);};o.prototype.removeVideoUnit=function(p){'use strict';j.removeVideoUnit.call(this,p);if(c('VideoPlayerExperiments').decoupleAbortLoadingFromPause&&p)this.$VideoAutoplayControllerX1.removeVideoUnit(p);};o.prototype.updateAutoplay=function(){'use strict';if(!this.$VideoAutoplayControllerX4){this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);return}if(!c('VideoPlayerExperiments').decoupleAbortLoadingFromPause){this.getClosestVideoUnits(c('VideoPlayerPreloadExperiment').preloadVideosCount).forEach(function(t){return t.preload()})}else if(c('VideoPlayerExperiments').abortLoadingHelperDefaultPreloading)this.$VideoAutoplayControllerX1.preloadClosestVideoUnits(c('VideoPlayerPreloadExperiment').preloadVideosCount);var p=this.$VideoAutoplayControllerX17(),q=this.getPlayingVideoUnit();if(q){if(p!=q){var r=null;if('getCurentUnitVideoController' in q){r=q.getCurentUnitVideoController()}else r=q.getVideoPlayerController();if(r)r.setSmartBufferAdjustmentEnabled(false);if(p){var s=null;if('getCurentUnitVideoController' in p){s=p.getCurentUnitVideoController()}else s=p.getVideoPlayerController();if(s)s.setSmartBufferAdjustmentEnabled(true);}this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);this.playVideo(p,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX8)this.showAutoplayNUX(p);}}else if(p){this.playVideo(p,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX8)this.showAutoplayNUX(p);}if(c('VideoPlayerExperiments').decoupleAbortLoadingFromPause)this.$VideoAutoplayControllerX1.maybeAbortLoading();};f.exports=o}),null);
__d('VideoAutoplayPlayerBase',['EventEmitter'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(){var k,l;'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.wasVisible=false,l}j.prototype.isVisible=function(){'use strict';throw new Error('Should be overridden')};j.prototype.getDistanceToViewport=function(){'use strict';throw new Error('Should be overridden')};j.prototype.getVideoPlayerController=function(){'use strict';return null};j.prototype.logDisplayed=function(){'use strict';throw new Error('Should be overridden')};j.prototype.playWithoutUnmute=function(k){'use strict';throw new Error('Should be overridden')};j.prototype.pause=function(k){'use strict';throw new Error('Should be overridden')};j.prototype.isAutoplayable=function(){'use strict';throw new Error('Should be overridden')};j.prototype.getDOMPosition=function(){'use strict';throw new Error('Should be overridden')};j.prototype.isLooping=function(){'use strict';throw new Error('Should be overridden')};j.prototype.isState=function(k){'use strict';throw new Error('Should be overridden')};f.exports=j}),null);
__d("CoverVideoOffsetType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VERTICAL:0,HORIZONTAL:1})}),null);
__d('MediaController',['EventEmitter','Style'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this)}j.prototype.getRootNode=function(){'use strict';return this.$MediaController1};j.prototype.setDimensions=function(k,l){'use strict';var m=this.getRootNode();c('Style').apply(m,{width:k+'px',height:l+'px'})};j.prototype.getMediaID=function(){'use strict';return this.$MediaController2};j.prototype.isLiveVideo=function(){'use strict';return false};f.exports=j}),null);
__d('SphericalVideoPlayerEvents',[],(function a(b,c,d,e,f,g){f.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:'setRelativeSphericalOrientation',SET_ABSOLUTE_SPHERICAL_ORIENTATION:'setAbsoluteSphericalOrientation',SET_FIELD_OF_VIEW:'setFieldOfView',SET_VIDEO_PROJECTION:'setVideoProjection',SET_STEREO_MODE:'setStereoMode'}}),null);
__d('VideoChannelViewChainLengthManager',['guid'],(function a(b,c,d,e,f,g){function h(k){'use strict';this.$VideoChannelViewChainSession1=c('guid')();this.$VideoChannelViewChainSession2=0;this.$VideoChannelViewChainSession3=k;this.$VideoChannelViewChainSession4={};this.$VideoChannelViewChainSession4[k]=0;this.$VideoChannelViewChainSession5=k}h.prototype.registerVideoID=function(k){'use strict';if(this.$VideoChannelViewChainSession4[k]===undefined){this.$VideoChannelViewChainSession2++;this.$VideoChannelViewChainSession4[k]=this.$VideoChannelViewChainSession2}this.$VideoChannelViewChainSession5=k};h.prototype.getSessionID=function(){'use strict';return this.$VideoChannelViewChainSession1};h.prototype.getCurrentChainLength=function(){'use strict';return this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]!==undefined?this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]:null};var i={},j={_ensureSessionID:function k(l){l=l.toString();if(!i[l])i[l]=new h(l);},getLoggingData:function k(l){if(l)l=l.toString();var m=i&&i[l];if(!m)return {video_chaining_depth_level:null,video_chaining_session_id:null};return {video_chaining_depth_level:m.getCurrentChainLength(),video_chaining_session_id:m.getSessionID()}},registerChainingInfos:function k(l,m){var n=l;if(m){var o=m.decode();if(o.root_id)n=o.root_id;}if(n)n=n.toString();this.registerVideoID(n,l)},registerVideoID:function k(l,m){l=l.toString();this._ensureSessionID(l);i[l].registerVideoID(m)}};f.exports=j}),null);
__d("VideoPlayerAbrEvaluation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IDEAL:"ideal",CONSERVATIVE:"conservative",AGGRESSIVE:"aggressive",CONSERVATIVE_RESOLUTION_CONSTRAINED:"conservative_resolution_constrained"})}),null);
__d('VideoPlayerABRQualityTracker',['VideoPlayerAbrEvaluation'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$VideoPlayerABRQualityTracker1=i;this.$VideoPlayerABRQualityTracker2=null}h.prototype.setLastQualitySwitchReason=function(i){'use strict';this.$VideoPlayerABRQualityTracker2=i};h.prototype.getABREvaluation=function(){'use strict';var i=[];if(this.$VideoPlayerABRQualityTracker1)i=this.$VideoPlayerABRQualityTracker1.flushABREvaluationSet();var j=0,k=0,l=0,m=0,n=this.$VideoPlayerABRQualityTracker2;for(var o=0;o<i.length;o++)switch(i[o]){case c('VideoPlayerAbrEvaluation').IDEAL:j++;break;case c('VideoPlayerAbrEvaluation').CONSERVATIVE:k++;break;case c('VideoPlayerAbrEvaluation').AGGRESSIVE:l++;break;case c('VideoPlayerAbrEvaluation').CONSERVATIVE_RESOLUTION_CONSTRAINED:m++;break;}return {idealSamples:j,conservativeSamples:k,aggressiveSamples:l,conservativeResolutionConstrainedSamples:m,lastQualitySwitchReason:n}};f.exports=h}),null);
__d("VideoPlayerFormats",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INLINE:"inline",SNOWLIFT:"snowlift",PERMALINK:"permalink",CHANNEL:"channel",FULL_SCREEN:"full_screen",SOCIAL_PLAYER:"social_player",TV:"tv",MISC:"misc",WATCH_SCROLL:"watch_scroll",WATCH_SCROLL_APP_BACKGROUND:"watch_scroll_app_background",WATCH_AND_GO:"watch_and_go",WATCH_AND_BROWSE:"watch_and_browse",CANVAS:"canvas",TAHOE:"tahoe",FB_STORIES:"fb_stories"})}),null);
__d("VideoPlayerInitializationEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"})}),null);
__d('VideoPlayerLoggerErrorStates',[],(function a(b,c,d,e,f,g){f.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'}}),null);
__d('VideoPlayerLoggerErrors',[],(function a(b,c,d,e,f,g){f.exports={ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'}}),null);
__d('VideoPlayerLoggerPlayerStates',[],(function a(b,c,d,e,f,g){f.exports={STARTED:'started',UNPAUSED:'unpaused'}}),null);
__d('VideoPlayerLogger',['invariant','Banzai','ErrorUtils','VideoPlayerExperiments','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerPlayerStates','VideoPlayerLoggerSource','ex','performanceAbsoluteNow'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('VideoPlayerHTML5Experiments').useBanzaiVitalForLive,j=c('VideoPlayerHTML5Experiments').discerningAbandonStallLogging,k='video_player',l=5000,m=function o(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now()};function n(o,p){this.$VideoPlayerLogger2=o;this.$VideoPlayerLogger3=null;this.$VideoPlayerLogger6={};this.$VideoPlayerLogger4=p;this.$VideoPlayerLogger8=0;this.$VideoPlayerLogger9=0;this.$VideoPlayerLogger7=[];this.$VideoPlayerLogger16=0;this.$VideoPlayerLogger17=0;this.$VideoPlayerLogger10=0;this.$VideoPlayerLogger22();this.$VideoPlayerLogger23()}n.prototype.updateSource=function(o){this.$VideoPlayerLogger2=o};n.prototype.getSource=function(){return this.$VideoPlayerLogger2};n.prototype.logEvent=function(event,o){o=babelHelpers['extends']({},o,this.$VideoPlayerLogger4);o.initial_event=!Object.prototype.hasOwnProperty.call(this.$VideoPlayerLogger6,event);if(!Object.prototype.hasOwnProperty.call(o,'time_ms'))o.time_ms=m();if(!Object.prototype.hasOwnProperty.call(o,'time'))o.time=Math.round(o.time_ms/1000);o.is_stalling=this.$VideoPlayerLogger24();o.error_user_info=this.$VideoPlayerLogger25(o.error_user_info);if(this.$VideoPlayerLogger3)Object.assign(o,this.$VideoPlayerLogger3);switch(event){case c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION:this.$VideoPlayerLogger5=o.time_ms;break;case c('VideoPlayerInitializationEvent').REQUESTED_PLAYING:case c('VideoPlayerInitializationEvent').STARTED_PLAYING:case c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED:case c('VideoPlayerInitializationEvent').PLAYER_SENT_REQUEST:case c('VideoPlayerInitializationEvent').PLAYER_RECEIVED_FIRST_BYTE:case c('VideoPlayerInitializationEvent').BUFFER_READY:case c('VideoPlayerInitializationEvent').METADATA_READY:if(!o.initial_event)break;o.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger5;break;}switch(event){case c('VideoPlayerLoggerEvent').QUALITY_CHANGE:case c('VideoPlayerLoggerEvent').PAUSED:case c('VideoPlayerLoggerEvent').FINISHED_PLAYING:if(this.$VideoPlayerLogger21){var p=this.$VideoPlayerLogger21,q=p.getABREvaluation();o.ideal_samples=q.idealSamples;o.conservative_samples=q.conservativeSamples;o.aggressive_samples=q.aggressiveSamples;o.conservative_resolution_constrained_samples=q.conservativeResolutionConstrainedSamples;o.last_quality_switch_reason=q.lastQualitySwitchReason;if(o.reason)p.setLastQualitySwitchReason(o.reason);}break;}switch(event){case c('VideoPlayerLoggerEvent').REQUESTED_PLAYING:this.$VideoPlayerLogger22();this.$VideoPlayerLogger26();if(this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){o.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED}else o.state=c('VideoPlayerLoggerPlayerStates').STARTED;break;case c('VideoPlayerLoggerEvent').STARTED_PLAYING:case c('VideoPlayerLoggerEvent').UNPAUSED:case c('VideoPlayerLoggerEvent').FINISHED_PLAYING:case c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING:case c('VideoPlayerLoggerEvent').ERROR:case c('VideoPlayerLoggerEvent').PAUSED:case c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED:case c('VideoPlayerLoggerEvent').HEART_BEAT:if(event===c('VideoPlayerLoggerEvent').ERROR&&c('VideoPlayerExperiments').disableStallLoggingForError)break;if(event==c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED&&!this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING])break;if(event===c('VideoPlayerLoggerEvent').HEART_BEAT&&(!this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]||!c('VideoPlayerHTML5Experiments').heartbeatUpdateWatchTimeV2))break;if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING||event===c('VideoPlayerLoggerEvent').UNPAUSED){this.$VideoPlayerLogger10=o.time_ms;this.$VideoPlayerLogger27()}if(event===c('VideoPlayerLoggerEvent').ERROR&&o.state!==c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE)break;if(event===c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){o.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED}else o.state=c('VideoPlayerLoggerPlayerStates').STARTED;this.$VideoPlayerLogger28();this.$VideoPlayerLogger29();if(event===c('VideoPlayerLoggerEvent').PAUSED||event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){if(j&&event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)this.$VideoPlayerLogger27();o.recent_stalls_count=this.$VideoPlayerLogger30()}this.$VideoPlayerLogger31();this.$VideoPlayerLogger32(o);this.$VideoPlayerLogger33(o);this.$VideoPlayerLogger23();if(j)this.$VideoPlayerLogger27();this.$VideoPlayerLogger22();break;}var r={logData:o,event:event,scriptPath:this.$VideoPlayerLogger1,source:this.$VideoPlayerLogger2};if(!event)c('ErrorUtils').reportError(new Error(c('ex')('VideoPlayerLogger: Missing event name')),false);this.$VideoPlayerLogger6[event]=true;if(this.$VideoPlayerLogger2===c('VideoPlayerLoggerSource').ANIMATED_IMAGE_SHARE)return null;if(o.ad_client_token||i&&o.playback_is_live_streaming){c('Banzai').post(k,r,c('Banzai').VITAL)}else if(c('VideoPlayerHTML5Experiments').useVitalForClosing&&(event===c('VideoPlayerLoggerEvent').PAUSED||event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING||event===c('VideoPlayerLoggerEvent').HEART_BEAT)){c('Banzai').post(k,r,c('Banzai').VITAL)}else if(c('VideoPlayerHTML5Experiments').useVitalForOpening&&(event===c('VideoPlayerLoggerEvent').UNPAUSED||event===c('VideoPlayerLoggerEvent').STARTED_PLAYING)){c('Banzai').post(k,r,c('Banzai').VITAL)}else c('Banzai').post(k,r);return r};n.prototype.setScriptPath=function(o){this.$VideoPlayerLogger1=o};n.prototype.setFTData=function(o){this.$VideoPlayerLogger3=o};n.prototype.setABRQualityTracker=function(o){this.$VideoPlayerLogger21=o};n.prototype.startBuffering=function(o){this.$VideoPlayerLogger26(o)};n.prototype.endBuffering=function(){this.$VideoPlayerLogger29();this.$VideoPlayerLogger34();this.$VideoPlayerLogger28();this.$VideoPlayerLogger31()};n.prototype.startInterrupt=function(){this.$VideoPlayerLogger35()};n.prototype.endInterrupt=function(){this.$VideoPlayerLogger29();this.$VideoPlayerLogger34()};n.prototype.$VideoPlayerLogger24=function(){return this.$VideoPlayerLogger13>0};n.prototype.$VideoPlayerLogger26=function(o){if(this.$VideoPlayerLogger24())return;this.$VideoPlayerLogger13=Date.now();if(o!==undefined&&this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING])this.$VideoPlayerLogger14=o;};n.prototype.$VideoPlayerLogger35=function(){if(this.$VideoPlayerLogger36())return;this.$VideoPlayerLogger18=Date.now()};n.prototype.$VideoPlayerLogger36=function(){return this.$VideoPlayerLogger18>0};n.prototype.$VideoPlayerLogger37=function(){if(!this.$VideoPlayerLogger36())return 0;return Date.now()-this.$VideoPlayerLogger18};n.prototype.$VideoPlayerLogger38=function(){return this.$VideoPlayerLogger24()?Date.now()-this.$VideoPlayerLogger13:0};n.prototype.$VideoPlayerLogger29=function(){if(this.$VideoPlayerLogger36()){var o=this.$VideoPlayerLogger37();this.$VideoPlayerLogger19+=o;this.$VideoPlayerLogger17+=o;this.$VideoPlayerLogger20+=1;this.$VideoPlayerLogger16+=1}};n.prototype.$VideoPlayerLogger34=function(){if(this.$VideoPlayerLogger36())this.$VideoPlayerLogger18=0;};n.prototype.$VideoPlayerLogger23=function(){this.$VideoPlayerLogger19=0;this.$VideoPlayerLogger20=0;this.$VideoPlayerLogger34()};n.prototype.$VideoPlayerLogger28=function(){if(this.$VideoPlayerLogger24()){var o=this.$VideoPlayerLogger38();if(this.$VideoPlayerLogger14!==null)this.$VideoPlayerLogger15=o;this.$VideoPlayerLogger12+=o;this.$VideoPlayerLogger9+=o;this.$VideoPlayerLogger11++;this.$VideoPlayerLogger8++;if(j)this.$VideoPlayerLogger7.push(m());}};n.prototype.$VideoPlayerLogger31=function(){if(this.$VideoPlayerLogger24())this.$VideoPlayerLogger13=0;};n.prototype.$VideoPlayerLogger25=function(o){if(o&&typeof o=='object')return JSON.stringify(o);return o};n.prototype.getCumulativeStallCount=function(){return this.$VideoPlayerLogger8};n.prototype.getStallCount=function(){return this.$VideoPlayerLogger11};n.prototype.getCumulativeStallTime=function(){return this.$VideoPlayerLogger9+this.$VideoPlayerLogger38()};n.prototype.getCumulativeInterruptCount=function(){return this.$VideoPlayerLogger16};n.prototype.getCumulativeInterruptTime=function(){return this.$VideoPlayerLogger17+this.$VideoPlayerLogger37()};n.prototype.$VideoPlayerLogger32=function(o){o.stall_time=Math.max(0,this.$VideoPlayerLogger12);o.stall_count=this.$VideoPlayerLogger11;if(this.$VideoPlayerLogger15){o.first_stall_time=this.$VideoPlayerLogger15;o.first_stall_start_position=this.$VideoPlayerLogger14}};n.prototype.$VideoPlayerLogger33=function(o){o.interrupt_time=Math.max(0,this.$VideoPlayerLogger19);o.interrupt_count=this.$VideoPlayerLogger20};n.prototype.$VideoPlayerLogger30=function(){var o=m(),p=o-l;this.$VideoPlayerLogger7=this.$VideoPlayerLogger7.filter(function(q){return q>=p});if(!j)if(this.$VideoPlayerLogger11>0)this.$VideoPlayerLogger7.push(o);return this.$VideoPlayerLogger7.length};n.prototype.$VideoPlayerLogger22=function(){this.$VideoPlayerLogger12=0;this.$VideoPlayerLogger13=0;this.$VideoPlayerLogger11=0;this.$VideoPlayerLogger14=null;this.$VideoPlayerLogger15=0};n.prototype.$VideoPlayerLogger27=function(){this.$VideoPlayerLogger7=[]};n.Sources=c('VideoPlayerLoggerSource');n.Errors=c('VideoPlayerLoggerErrors');n.FallbackReasons=c('VideoPlayerLoggerFallbackReasons');n.ErrorStates=c('VideoPlayerLoggerErrorStates');n.PlayerStates=c('VideoPlayerLoggerPlayerStates');f.exports=n}),null);
__d('VideoPlayerUIComponentDrawer',['EventEmitter'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l){i.constructor.call(this);this.$VideoPlayerUIComponentDrawer1=k;this.$VideoPlayerUIComponentDrawer2=l;this.$VideoPlayerUIComponentDrawer4=false}j.prototype.reserve=function(){if(this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=true;this.emit('reserve')};j.prototype.release=function(){if(!this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=false;this.emit('release')};j.prototype.getPriority=function(){return this.$VideoPlayerUIComponentDrawer1};j.prototype.getHeight=function(){return this.$VideoPlayerUIComponentDrawer2};j.prototype.setHeight=function(k){this.$VideoPlayerUIComponentDrawer2=k;this.emit('heightChange')};j.prototype.emit=function(event){var k;for(var l=arguments.length,m=Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=arguments[n];if(event==='reposition')this.$VideoPlayerUIComponentDrawer3=m[0];(k=i.emit).call.apply(k,[this,event].concat(m))};j.prototype.reposition=function(){this.emit('reposition',this.$VideoPlayerUIComponentDrawer3)};j.prototype.isReserved=function(){return this.$VideoPlayerUIComponentDrawer4};j.priorities={EmbeddedControls:0,AdBreakStartingIndicator:1,ClickForMore:2,Subtitles:3,SphericalMouseAnimation:4};f.exports=j}),null);
__d('VideoPlayerUIComponentDrawerController',['VideoPlayerUIComponentDrawer'],(function a(b,c,d,e,f,g){'use strict';var h=function j(k,l){return k.getPriority()-l.getPriority()};function i(){this.$VideoPlayerUIComponentDrawerController1=[]}i.prototype.register=function(j,k){var l=new (c('VideoPlayerUIComponentDrawer'))(j,k);l.addListener('reserve',function(){return this.$VideoPlayerUIComponentDrawerController2(j)}.bind(this));l.addListener('release',function(){return this.$VideoPlayerUIComponentDrawerController2(j)}.bind(this));l.addListener('heightChange',function(){return this.$VideoPlayerUIComponentDrawerController2(j)}.bind(this));this.$VideoPlayerUIComponentDrawerController1.push(l);this.$VideoPlayerUIComponentDrawerController1.sort(h);return l};i.prototype.$VideoPlayerUIComponentDrawerController2=function(j){var k=0;this.$VideoPlayerUIComponentDrawerController1.forEach(function(l){if(l.getPriority()>j)l.emit('reposition',k);if(l.isReserved())k+=l.getHeight();})};f.exports=i}),null);
__d('VideoPlayerVolumeSettings',['WebStorage'],(function a(b,c,d,e,f,g){function h(){'use strict';this.$VideoPlayerVolumeSettings1=1;this.$VideoPlayerVolumeSettings2=1}h.prototype.getVolume=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerVolume');if(k===null||isNaN(+k))return 1;return +k}return this.$VideoPlayerVolumeSettings1};h.prototype.getSessionVolume=function(){'use strict';return this.$VideoPlayerVolumeSettings1};h.prototype.setSessionVolume=function(j){'use strict';this.$VideoPlayerVolumeSettings1=j};h.prototype.saveVolume=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)k.setItem('videoPlayerControllerVolume',j);this.$VideoPlayerVolumeSettings1=j};h.prototype.getLastVolumeBeforeMute=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerLastVolumeBeforeMute');if(k===null||isNaN(+k))return 1;return +k}return this.$VideoPlayerVolumeSettings2};h.prototype.saveLastVolumeBeforeMute=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)k.setItem('videoPlayerControllerLastVolumeBeforeMute',j);this.$VideoPlayerVolumeSettings2=j};var i=new h();f.exports=i}),null);
__d('forwardEvent',[],(function a(b,c,d,e,f,g){function h(i,j,event){return i.addListener(event,function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return j.emit.apply(j,[event].concat(l))})}f.exports=h}),null);
__d('VideoPlayerController',['csx','cx','invariant','Promise','Arbiter','Banzai','BigPipe','Bootloader','CoverVideoOffsetType','CSS','DOM','DOMDimensions','DOMQuery','FullScreen','JSLogger','JSLog','JSResource','Map','MediaController','Run','ScriptPath','Set','SphericalVideoPlayerEvents','SubscriptionsHandler','Parent','URI','VideoChannelViewChainLengthManager','VideoMimeTypes','VideoPermalinkURI','VideoPlayerABRQualityTracker','VideoPlayerApiEvents','VideoPlayerExperiments','VideoPlayerFormats','VideoPlayerFormatsMap','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLogger','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerSource','VideoPlayerMemLeakExperiments','VideoPlayerReason','VideoPlayerResizeSettings','VideoPlayerVersions','VideoPlayerShakaBandwidthEstimator','VideoPlayerStates','VideoPlayerUIComponentDrawer','VideoPlayerUIComponentDrawerController','VideoPlayerVolumeSettings','VideoViewabilityKeyEvents','VideoViewabilityLogging','VideosRenderingInstrumentation','ViewportTrackingHelper','Visibility','XVideoDataController','canVideoPlayType','clearInterval','collectDataAttributes','enumerate','forwardEvent','getContextualParent','getElementPosition','getFullScreenElement','getViewportDimensions','ifRequired','logVideosClickTracking','mapObject','performanceAbsoluteNow','requireWeak','setInterval','uniqueID'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=null;c('requireWeak')('VideoChannelLogger',function(t){m=t});var n=null;c('requireWeak')('VideoHomeLogger',function(t){n=t});var o=5,p=1;function q(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now()}var r=0;k=babelHelpers.inherits(s,c('MediaController'));l=k&&k.prototype;function s(t,u){var v=t.video_id,w=t.video_ids,x=t.video_url,y=t.video_urls,z=t.chaining_token,aa=t.video_channel_id,ba=t.reaction_video_channel_type,ca=t.source,da=t.ad_client_token,ea=t.should_autoplay,fa=t.player_version,ga=t.autoplay_setting,ha=t.apiModule,ia=t.apiConfig,ja=t.useInlineFallback,ka=t.accessToken,la=t.projection,ma=t.playerOrigin,na=t.playerSuborigin,oa=t.isBroadcast,pa=t.components,qa=t.trackingCodes,ra=t.alwaysShowCaptions,sa=t.disableLogging,ta=t.subtitleBackgroundColor,ua=t.subtitleBackgroundOpacity,va=t.subtitleTextColor,wa=t.subtitleTextSize,xa=t.video_path,ya=t.customLoggingProps,za=t.broadcasterOrigin,ab=t.allowCrossPageTransition,bb=t.isReactPlayer,cb=t.offsettype,db=t.offsetvalue,eb=u.root_element,fb=u.container_element,gb=u.video_element;'use strict';l.constructor.call(this);this.$VideoPlayerController33=false;this.emitHeartbeat=function(){if(!this.isState(c('VideoPlayerStates').PLAYING)||!this.getVideoNode()){this.stopHeartbeat();return}if(c('VideoPlayerHTML5Experiments').heartbeatSkipOnBuffering&&this.isBuffering())return;this.getVideoAPI().logHeartbeat()}.bind(this);this.$VideoPlayerController122=function(){if(!c('VideoPlayerExperiments').allowBufferingErrorForHiddenTab&&c('Visibility').isHidden()){this.$VideoPlayerController121();this.$VideoPlayerController84=setTimeout(this.$VideoPlayerController122,c('VideoPlayerExperiments').bufferingErrorTimeout);return}var mb=this.getVideoAPI().isPaused()!==undefined?!this.getVideoAPI().isPaused():this.getState()==='playing';if(mb){this.logError({error:'BUFFERING_TIMEOUT',message:'video has been in buffering state for over '+c('VideoPlayerExperiments').bufferingErrorTimeout+'ms.',isPlayback:this.isPlayRequestPending()});this.$VideoPlayerController121();this.emit('error',c('VideoPlayerLoggerFallbackReasons').TIMEOUT)}}.bind(this);this.$VideoPlayerController22=0;this.$VideoPlayerController21=new (c('Map'))();this.$VideoPlayerController66={};if(ya)this.setLogEntryPropertyGetters(ya);if(ea===undefined)throw new Error('Must pass should_autoplay to '+this.constructor.name+'!');this.$VideoPlayerController20=new (c('VideoPlayerUIComponentDrawerController'))();this.$VideoPlayerController13=new (c('Map'))();this.$VideoPlayerController49=la;this.$VideoPlayerController1=ka;this.$VideoPlayerController58=!!ea;this.$VideoPlayerController8=ga;this.$VideoPlayerController2=da;this.$VideoPlayerController45=false;this.$VideoPlayerController74=gb;this.$VideoPlayerController57=eb;this.$VideoPlayerController14=fb;this.$VideoPlayerController29=false;this.$VideoPlayerController30=false;this.$VideoPlayerController48=fa;this.$VideoPlayerController73=v||w&&w[0]||'';this.$VideoPlayerController76=x||y&&y[0];this.$VideoPlayerController75=xa;this.$VideoPlayerController11=z;this.$VideoPlayerController71=aa;this.$VideoPlayerController46=ma;this.$VideoPlayerController47=na||ca;this.$VideoPlayerController28=oa;this.$VideoPlayerController68=qa;this.$VideoPlayerController3=ra;this.$VideoPlayerController61=ta||'';this.$VideoPlayerController62=ua==undefined?0:ua;this.$VideoPlayerController63=va||'';this.$VideoPlayerController64=wa==undefined?0:wa;this.$VideoPlayerController27=c('uniqueID')();this.$VideoPlayerController55=ba;this.$VideoPlayerController5=ha;this.$VideoPlayerController4=ia;this.$VideoPlayerController35=this.$VideoPlayerController5.getStreamTypeFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController34=this.$VideoPlayerController5.getIsPlayingLiveFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController31=this.$VideoPlayerController5.getIsFacecastAudioFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController69=!!ja;this.$VideoPlayerController82=new (c('Set'))();this.$VideoPlayerController83=za;this.$VideoPlayerController84=0;this.$VideoPlayerController85=!!ab;this.$VideoPlayerController86=!!bb;this.$VideoPlayerController87=this.getContainerNode().style.paddingBottom;this.$VideoPlayerController88=cb;this.$VideoPlayerController89=db;this.$VideoPlayerController19=c('Arbiter').subscribe('DOM/destroy',function(mb,nb){if(!c('Parent').bySelector(this.getVideoNode(),nb))return;this.pause(c('VideoPlayerReason').UNLOADED);this.destroy()}.bind(this));var hb=c('VideoPlayerExperiments').maxPageletDisplaySuspensions;if(c('VideoPlayerExperiments').suspendPageletDisplay&&(!hb||hb>r))if(!c('VideoPlayerExperiments').suspendPageletDisplayLiveOnly||this.$VideoPlayerController34){this.$VideoPlayerController81=c('BigPipe').suspendPageletDisplay(c('VideoPlayerExperiments').suspendPageletDisplayTimeout);r++}this.$VideoPlayerController17=0;var ib=c('URI').getRequestURI(),jb=c('VideoPermalinkURI').parse(ib),kb=parseFloat(ib.getQueryData().t),lb=jb?jb.video_id==this.$VideoPlayerController73:false;if(kb&&lb&&this.$VideoPlayerController4)this.$VideoPlayerController4.startTimestamp=kb;this.$VideoPlayerController15=null;this.$VideoPlayerController43=null;this.$VideoPlayerController59=ca;this.$VideoPlayerController39=new (c('VideoPlayerLogger'))(ca);this.collectFeedTrackingData();this.$VideoPlayerController39.setScriptPath(c('ScriptPath').getScriptPath());this.$VideoPlayerController51=c('VideosRenderingInstrumentation').retrieveRenderTime(this.getRootNode());this.$VideoPlayerController50=q()-this.$VideoPlayerController51;if(ia)ia.subtitleDrawer=this.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.Subtitles,0);this.$VideoPlayerController60='loading';this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION,{time_ms:this.$VideoPlayerController51});this.$VideoPlayerController90(false);if(this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController69)){if(this.$VideoPlayerController69){this.$VideoPlayerController91()}else{this.$VideoPlayerController92();return}}else this.$VideoPlayerController93();c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy()}.bind(this));this.$VideoPlayerController7=new (c('SubscriptionsHandler'))();if(this.$VideoPlayerController58)if(c('VideoPlayerExperiments').delayAutoplayUntilAfterLoad){this.$VideoPlayerController7.addSubscriptions(c('Run').onAfterLoad(function(){return this.$VideoPlayerController94()}.bind(this)))}else this.$VideoPlayerController94();this.$VideoPlayerController18=0;this.$VideoPlayerController56=false;this.$VideoPlayerController23=this.$VideoPlayerController95();if(c('VideoPlayerMemLeakExperiments').clear_shutdown_with_arbiter){this.$VideoPlayerController7.addSubscriptions(c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy()}.bind(this)))}else c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy()}.bind(this));this.$VideoPlayerController7.addSubscriptions(c('Arbiter').subscribe('layer_shown',function(mb,nb){if(nb.type==='DialogX'||nb.type==='PhotoSnowlift'){c('Bootloader').loadModules(["VideoAutoplayControllerX"],function(ob){ob.setShouldAutoplay(false)},'VideoPlayerController');this.$VideoPlayerController18=this.$VideoPlayerController18+1;if(c('VideoPlayerExperiments').ignoreDialogCounter||this.$VideoPlayerController18>0)if(this.isState('playing')&&!this.getIsInChannel()){this.pause(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController56=true}}}.bind(this)),c('Arbiter').subscribe('layer_hidden',function(mb,nb){if(nb.type==='DialogX'||nb.type==='PhotoSnowlift'){if(c('VideoPlayerExperiments').addViewabilityFixEnabled){this.$VideoPlayerController18=Math.max(0,this.$VideoPlayerController18-1)}else this.$VideoPlayerController18=this.$VideoPlayerController18-1;if(this.$VideoPlayerController18===0){c('Bootloader').loadModules(["VideoAutoplayControllerX"],function(ob){ob.setShouldAutoplay(true)},'VideoPlayerController');if(this.$VideoPlayerController56&&!this.getIsInChannel()){this.play(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController56=false}}}}.bind(this)),c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(mb,nb){return this.$VideoPlayerController96(mb,nb)}.bind(this)));if(c('VideoPlayerMemLeakExperiments').clear_runonleave_with_arbiter){this.$VideoPlayerController7.addSubscriptions(c('Run').onLeave(function(){if(this.$VideoPlayerController85||c('VideoPlayerExperiments').persistentWNSEnabled&&this.$VideoPlayerController59===c('VideoPlayerLoggerSource').WATCH_SCROLL)return;this.cleanOnLeave()}.bind(this)))}else c('Run').onLeave(function(){if(this.$VideoPlayerController85||c('VideoPlayerExperiments').persistentWNSEnabled&&this.$VideoPlayerController59===c('VideoPlayerLoggerSource').WATCH_SCROLL)return;this.cleanOnLeave()}.bind(this));this.$VideoPlayerController12=pa||[];this.$VideoPlayerController12.forEach(function(mb){return mb.enable(this)}.bind(this));this.$VideoPlayerController42=1;this.$VideoPlayerController77=this.isAd()&&c('VideoPlayerExperiments').enableViewabilityLogging&&!!this.$VideoPlayerController74;if(this.$VideoPlayerController77&&this.$VideoPlayerController74)this.$VideoPlayerController78=new (c('VideoViewabilityLogging'))(this,this.$VideoPlayerController74);}s.prototype.destroy=function(t){'use strict';t=t||{};if(this.isState('destroyed')||this.$VideoPlayerController30)return;if(this.$VideoPlayerController81){this.$VideoPlayerController81();this.$VideoPlayerController81=null}this.$VideoPlayerController30=true;var u=this.$VideoPlayerController12;for(var v=u.length-1;v>=0;v--)u[v].disable(this);this.getVideoAPI().destroy(t);this.setState('destroyed');this.$VideoPlayerController7.release();if(!t.skipRemoveAllListeners)this.removeAllListeners();if(this.$VideoPlayerController19){this.$VideoPlayerController19.unsubscribe();this.$VideoPlayerController19=null}this.stopHeartbeat();if(c('VideoPlayerMemLeakExperiments').release_dom_nodes_on_destroy){this.$VideoPlayerController74=null;this.$VideoPlayerController57=null;this.$VideoPlayerController14=null}};s.prototype.$VideoPlayerController97=function(){'use strict';var t=c('DOMQuery').scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!t.length)return c('Promise').reject();c('DOM').replace(this.getVideoNode(),t[0]);this.$VideoPlayerController74=t[0];return c('JSResource')('VideoPlayerFlashApi').__setRef('VideoPlayerController').load()};s.prototype.$VideoPlayerController91=function(){'use strict';this.logEvent(c('VideoPlayerLoggerEvent').SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()});this.$VideoPlayerController97().then(function(t){if(t.isImplementationUnavailable()){return c('Promise').reject()}else return c('Promise').resolve(t);}).done(function(t){this.$VideoPlayerController5=t;this.$VideoPlayerController93()}.bind(this),function(t){return this.$VideoPlayerController92()}.bind(this))};s.prototype.collectFeedTrackingData=function(){'use strict';var t=null;if(this.$VideoPlayerController68){var u={tn:'','tn-debug':','},v={};for(var w=0;w<this.$VideoPlayerController68.length;w++){var x=JSON.parse(this.$VideoPlayerController68[w]);if(!Array.isArray(x))for(var y in x)if(u[y]!==undefined){if(v[y]===undefined)v[y]=[];v[y].push(x[y])}else if(v[y]===undefined)v[y]=x[y];}for(var z in u)if(v[z]!==undefined)v[z]=v[z].join(u[z]);t={ft:v}}else{var aa=false,ba=this.getRootNode();while(ba){if(c('CSS').matchesSelector(ba,"._4oep")){aa=true;break}ba=c('getContextualParent')(ba)}if(!aa){t=c('collectDataAttributes')(this.getRootNode(),['ft'])}else t={};}this.$VideoPlayerController39.setFTData(t)};s.prototype.$VideoPlayerController96=function(t,u){'use strict';u.video_player_debug_info=u.video_player_debug_info||{hardware:this.$VideoPlayerController98(),live_autoplay_bandwidth_restrain:c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained(true),autoplay_bandwidth_restrain:c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained(false)};u.video_player_debug_info[this.getVideoID()]=this.getDebugInfo()};s.prototype.$VideoPlayerController98=function(){'use strict';try{var t=document.createElement('canvas'),u=t.getContext('webgl')||t.getContext('experimental-webgl'),v=u.getExtension('WEBGL_debug_renderer_info');return v&&{vendor:u.getParameter(v.UNMASKED_VENDOR_WEBGL),renderer:u.getParameter(v.UNMASKED_RENDERER_WEBGL)}}catch(w){}return null};s.prototype.setStillFrameEnabled=function(t){'use strict';var u=this.getVideoAPI();if(u.setStillFrameEnabled)u.setStillFrameEnabled(t);};s.prototype.isFallbackRecoverable=function(){'use strict';return !!this.$VideoPlayerController65};s.prototype.setFallbackSources=function(t){'use strict';this.$VideoPlayerController65=t};s.prototype.setRelativeSphericalOrientation=function(t,u){'use strict';this.emit(c('SphericalVideoPlayerEvents').SET_RELATIVE_SPHERICAL_ORIENTATION,t,u)};s.prototype.setSphericalOrientation=function(t,u){'use strict';this.emit(c('SphericalVideoPlayerEvents').SET_ABSOLUTE_SPHERICAL_ORIENTATION,t,u)};s.prototype.setSphericalFieldOfView=function(t){'use strict';this.emit(c('SphericalVideoPlayerEvents').SET_FIELD_OF_VIEW,t)};s.prototype.isSpherical=function(){'use strict';return this.$VideoPlayerController4?!!this.$VideoPlayerController4.isSpherical:false};s.prototype.getVideoPlayerID=function(){'use strict';return this.$VideoPlayerController27};s.prototype.setLogEntryPropertyGetters=function(t){'use strict';Object.keys(t).forEach(function(u){var v=t[u];if(typeof v==='function'){this.$VideoPlayerController21.set(u,v)}else this.$VideoPlayerController66[u]=v;}.bind(this))};s.prototype.removeLogEntryPropertyGetters=function(t){'use strict';if(typeof t==='string')t=[t];if(!Array.isArray(t))t=Object.keys(t);t.forEach(function(u){this.$VideoPlayerController21['delete'](u);delete this.$VideoPlayerController66[u]}.bind(this))};s.prototype.$VideoPlayerController93=function(){'use strict';this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady()}.bind(this))};s.prototype.isImplementationUnavailable=function(){'use strict';return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController69)&&!this.$VideoPlayerController69};s.prototype.getIsInChannel=function(){'use strict';return this.$VideoPlayerController59===c('VideoPlayerLoggerSource').CHANNEL};s.prototype.updateSource=function(t){'use strict';if(!this.$VideoPlayerController59)return;var u=c('VideoPlayerFormatsMap')[this.$VideoPlayerController59],v=c('VideoPlayerFormatsMap')[t];this.$VideoPlayerController39.updateSource(t);if(u&&u!==v&&this.$VideoPlayerController79)if(c('VideoPlayerExperiments').delayFormatChangeEvent){if(this.isState(c('VideoPlayerStates').PLAYING)&&!this.$VideoPlayerController32){this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);this.$VideoPlayerController37=v}else this.$VideoPlayerController37=u;}else this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);this.$VideoPlayerController59=t};s.prototype.getSource=function(){'use strict';return this.$VideoPlayerController39.getSource()};s.prototype.getPlayerOrigin=function(){'use strict';return this.$VideoPlayerController46};s.prototype.getPlayerSuborigin=function(){'use strict';return this.$VideoPlayerController47};s.prototype.hasLooped=function(){'use strict';return this.$VideoPlayerController42>1};s.prototype.$VideoPlayerController92=function(){'use strict';var t={error:'IMPLEMENTATION_NOT_SUPPORTED',state:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE,error_description:'Implementation unavailable',error_user_info:this.getDebugInfo()};this.logEvent(c('VideoPlayerLoggerEvent').ERROR,t);this.$VideoPlayerController58=false};s.prototype.logError=function(t){'use strict';var u=this.$VideoPlayerController36=t,v=u.error,w=u.message,x=u.isPlayback,y=u.httpStatus,z=u.url,aa=this.getDebugInfo();delete aa.player.loggedError;delete aa.player.lastError;var ba={error:v,error_description:w,error_user_info:aa,error_code:y,resource_url:z,state:x?c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE};this.$VideoPlayerController38=this.logEvent(c('VideoPlayerLoggerEvent').ERROR,ba);if(x&&this.$VideoPlayerController45)this.$VideoPlayerController90(false);};s.prototype.setRotation=function(t){'use strict';this.getVideoAPI().setRotation(t)};s.prototype.setDimensions=function(t,u){'use strict';var v=this.getContainerNode();v.style.width=t+'px';v.style.height=u+'px';var w=this.getVideoNode();w.style.width=t+'px';w.style.height=u+'px';if(this.isState('loading')){this.$VideoPlayerController52={width:t,height:u}}else{if(this.isPlayerVersion('silvercity')&&(this.$VideoPlayerController32||c('VideoPlayerResizeSettings').disable_flash_set_dimensions))return;this.setVideoPlayerAPIDimensions(t,u)}};s.prototype.isPlayRequestPending=function(){'use strict';return this.$VideoPlayerController45};s.prototype.$VideoPlayerController90=function(t){'use strict';if(this.$VideoPlayerController45===t)return;this.$VideoPlayerController45=t;this.emit('pendingPlayRequestChanged')};s.prototype.updateAutoplayRestrained=function(){'use strict';c('ifRequired')('VideoPlayerHTML5Shaka',function(t){var u=t.isAutoplayBandwidthRestrained(this.$VideoPlayerController34);this.$VideoPlayerController99(u)}.bind(this))};s.prototype.$VideoPlayerController99=function(t){'use strict';if(t){this.emit('turnOffAutoplay',{reason:'poor_network_quality'})}else this.emit('resumeAutoplay',{reason:'poor_network_quality'});this.getVideoAPI().setPreloadDisabled(t)};s.prototype.restoreStreamBufferSize=function(){'use strict';this.getVideoAPI().restoreStreamBufferSize()};s.prototype.getDataInsertionPosition=function(){'use strict';return this.$VideoPlayerController23&&this.$VideoPlayerController23.getAttribute('data-insertion-position')};s.prototype.play=function(t){'use strict';this.$VideoPlayerController100();if(!this.$VideoPlayerController44)this.$VideoPlayerController44=t;if(!this.$VideoPlayerController45){this.$VideoPlayerController43=this.$VideoPlayerController101();var u=this.$VideoPlayerController102({debug_reason:t}),v=this.$VideoPlayerController59;if(c('VideoPlayerExperiments').delayFormatChangeEvent&&v&&this.$VideoPlayerController79&&this.$VideoPlayerController37&&c('VideoPlayerFormatsMap')[v]!==this.$VideoPlayerController37&&!this.$VideoPlayerController32){this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);this.$VideoPlayerController37=c('VideoPlayerFormatsMap')[v]}this.logEvent(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,u);this.$VideoPlayerController79=true}this.emit('playRequested',t);this.sendPlayRequest(t);if(t===c('VideoPlayerReason').LOOP)this.$VideoPlayerController42++;};s.prototype.sendPlayRequest=function(t){'use strict';if(this.isState('fallback')){this.emit('fallbackPlay');if(c('VideoPlayerExperiments').endBufferingOnFallbackPlay)this.$VideoPlayerController39.endBuffering();return}this.$VideoPlayerController90(true);if(this.isState('loading')){this.$VideoPlayerController53={reason:t}}else{if(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController41)this.logEvent(c('VideoPlayerLoggerEvent').UNMUTED);this.$VideoPlayerController41=false;this.$VideoPlayerController103();this.getVideoAPI().play(t)}};s.prototype.getOriginalPlayReason=function(){'use strict';return this.$VideoPlayerController44};s.prototype.reset=function(){'use strict';if(this.isState('loading')||this.isState('fallback')&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController104();if(this.$VideoPlayerController70&&this.$VideoPlayerController70.destroy)this.$VideoPlayerController70.destroy();this.$VideoPlayerController70=null;this.setState('loading');this.$VideoPlayerController93()};s.prototype.detachRootNode=function(){'use strict';c('DOM').remove(this.$VideoPlayerController57);if(this.isState('fallback')||this.isState('loading'))return;this.setState('loading');this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController105()}.bind(this))};s.prototype.getVideoAPI=function(){'use strict';this.$VideoPlayerController70||j(0);return this.$VideoPlayerController70};s.prototype.getVideoNodeNullable=function(){'use strict';return this.$VideoPlayerController74};s.prototype.getVideoNode=function(){'use strict';if(this.isState('destroyed'))c('JSLog').error('Cannot get video node, VideoPlayerController is destroyed. '+'In the future, this will be an error.');var t=this.getVideoNodeNullable();if(c('VideoPlayerMemLeakExperiments').release_dom_nodes_on_destroy)t||j(0);return t};s.prototype.getRootNodeNullable=function(){'use strict';return this.$VideoPlayerController57};s.prototype.getRootNode=function(){'use strict';if(this.isState('destroyed'))c('JSLog').error('Cannot get root node, VideoPlayerController is destroyed. '+'In the future, this will throw an error.');var t=this.getRootNodeNullable();if(c('VideoPlayerMemLeakExperiments').release_dom_nodes_on_destroy)t||j(0);return t};s.prototype.getContainerNodeNullable=function(){'use strict';return this.$VideoPlayerController14};s.prototype.getContainerNode=function(){'use strict';if(this.isState('destroyed'))c('JSLog').error('Cannot get container node, VideoPlayerController is destroyed.'+'In the future, this will throw an error.');var t=this.getContainerNodeNullable();if(c('VideoPlayerMemLeakExperiments').release_dom_nodes_on_destroy)t||j(0);return t};s.prototype.getVideoResolution=function(){'use strict';var t=this.getVideoNode();return {height:t.videoHeight,width:t.videoWidth}};s.prototype.$VideoPlayerController105=function(){'use strict';this.setState('ready');this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController41=!this.getVideoAPI().isMuted();this.$VideoPlayerController67=!this.$VideoPlayerController3;if(this.getVideoAPI().setSubtitlesStyle)this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController61,this.$VideoPlayerController62,this.$VideoPlayerController63,this.$VideoPlayerController64);if(this.$VideoPlayerController53){this.sendPlayRequest(this.$VideoPlayerController53.reason);this.$VideoPlayerController53=null}if(this.$VideoPlayerController52){this.setDimensions(this.$VideoPlayerController52.width,this.$VideoPlayerController52.height);this.$VideoPlayerController52=null}if(this.$VideoPlayerController54){this.getVideoAPI().unmute();this.$VideoPlayerController54=null}};s.prototype.onApiReady=function(){'use strict';if(this.$VideoPlayerController4){this.$VideoPlayerController4.id=this.$VideoPlayerController27;if(this.$VideoPlayerController65)this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController65;this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController46;this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController47;this.$VideoPlayerController4.getSource=function(){return this.getSource()}.bind(this)}this.$VideoPlayerController70=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController106();this.$VideoPlayerController105();var t={is_auto_played:this.isAutoplayable()};this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_LOADED,t);if(this.$VideoPlayerController70)this.$VideoPlayerController39.setABRQualityTracker(new (c('VideoPlayerABRQualityTracker'))(this.$VideoPlayerController70.getLocalEstimator()));var u=this.getVideoProjection();if(u)this.$VideoPlayerController49=u;this.emit('apiReady')};s.prototype.runOnApiReady=function(){var t=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];'use strict';if(!this.isState('loading')){t()}else this.once('apiReady',t);};s.prototype.resetPositions=function(){'use strict';this.$VideoPlayerController17=0};s.prototype.getCurrentTimePosition=function(){'use strict';if(this.isState('playing')){var t=this.getVideoAPI().getCurrentTimePosition();if(t!=null&&t!==undefined)this.$VideoPlayerController17=t;}return this.$VideoPlayerController17};s.prototype.$VideoPlayerController100=function(){'use strict';if(!this.$VideoPlayerController9){c('VideoChannelViewChainLengthManager').registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var t=this.getVideoID();if(this.$VideoPlayerController11){var u=this.$VideoPlayerController11.decode();t=u.root_id}this.$VideoPlayerController9=c('VideoChannelViewChainLengthManager').getLoggingData(t)}this.$VideoPlayerController72=m?m.getPlayerLoggingData():{}};s.prototype.$VideoPlayerController107=function(t){'use strict';this.$VideoPlayerController90(false);var u=t.position;if(u!==undefined)this.$VideoPlayerController17=u;this.setState('playing');if(this.areHLSActive()){this.$VideoPlayerController108()}else if(this.isRTMP_DEPRECATED())this.$VideoPlayerController109();this.startHeartbeat()};s.prototype.$VideoPlayerController110=function(t){'use strict';var u=t.position;if(u!==undefined)this.$VideoPlayerController17=u;this.$VideoPlayerController15=this.getVideoAPI().getCurrentlyPlayingStreamInfoID()};s.prototype.$VideoPlayerController111=function(event){'use strict';return this.$VideoPlayerController82.has(event)};s.prototype.runOnceOnApiEventLogged=function(event,t){var u,v=this;'use strict';if(this.$VideoPlayerController111(event)){t()}else (function(){var w=v.addListener('apiEventLogged',function(x){if(x===event){t();w.remove()}})})();};s.prototype.$VideoPlayerController112=function(t){'use strict';var event=t.event;this.$VideoPlayerController82.add(event);delete t.event;this.logEvent(event,t);this.emit('apiEventLogged',event)};s.prototype.$VideoPlayerController113=function(){'use strict';if(!this.isState('finished'))this.setState('paused');this.stopHeartbeat()};s.prototype.$VideoPlayerController114=function(t){'use strict';var u=t.position;if(u!==undefined)this.$VideoPlayerController17=u;};s.prototype.$VideoPlayerController115=function(){'use strict';this.setState('finished');this.$VideoPlayerController56=false;this.stopHeartbeat()};s.prototype.getVolume=function(){'use strict';return this.getVideoAPI().getVolume()};s.prototype.$VideoPlayerController116=function(){'use strict';this.$VideoPlayerController33=false;var t=this.getContainerNode(),u=this.isFullscreen();c('CSS').conditionClass(t,"_1hwh",u);if(u){t.style.paddingBottom='0'}else{t.removeAttribute('data-fullscreen');t.style.paddingBottom=this.$VideoPlayerController87}if(!u&&this.$VideoPlayerController24){this.$VideoPlayerController24.unsubscribe();this.$VideoPlayerController24=null}if(this.$VideoPlayerController32!=u){this.logFullscreenChanged(u);var v=c('DOMDimensions').getElementDimensions(t);if(!this.isPlayerVersion('silvercity'))this.setVideoPlayerAPIDimensions(v.width,v.height);this.emit('toggleFullscreen');if(!u){this.addOffsetStylings();c('Arbiter').inform('video_fullscreen_change',{})}else this.removeOffsetStylings();}this.$VideoPlayerController32=u};s.prototype.logFullscreenChanged=function(t){'use strict';var u=t?{player_format:c('VideoPlayerFormats').FULL_SCREEN}:{player_format:!this.$VideoPlayerController59?c('VideoPlayerFormats').INLINE:c('VideoPlayerFormatsMap')[this.$VideoPlayerController59]};if(c('VideoPlayerHTML5Experiments').deprecateEnteredExitedFsEvents){this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED,u)}else if(c('VideoPlayerHTML5Experiments').enteredExitedFsLoggingFix){this.logEvent(t?c('VideoPlayerLoggerEvent').ENTERED_FS:c('VideoPlayerLoggerEvent').EXITED_FS,u)}else this.logEvent(t?c('VideoPlayerLoggerEvent').ENTERED_FS:c('VideoPlayerLoggerEvent').EXITED_FS);};s.prototype.setVideoPlayerAPIDimensions=function(t,u){'use strict';if(this.getVideoAPI().setDimensions)this.getVideoAPI().setDimensions(t,u);};s.prototype.removeOffsetStylings=function(){'use strict';var t=this.$VideoPlayerController89;if(!t||this.$VideoPlayerController88===null)return;if(this.$VideoPlayerController88===c('CoverVideoOffsetType').HORIZONTAL){this.getVideoNode().style.setProperty('left','0');c('CSS').removeClass(this.getVideoNode(),"_blh")}else if(this.$VideoPlayerController88===c('CoverVideoOffsetType').VERTICAL){this.getVideoNode().style.setProperty('top','0');c('CSS').removeClass(this.getVideoNode(),"_bli")}};s.prototype.addOffsetStylings=function(){'use strict';var t=this.$VideoPlayerController89;if(!t||this.$VideoPlayerController88===null)return;if(this.$VideoPlayerController88===c('CoverVideoOffsetType').HORIZONTAL){this.getVideoNode().style.setProperty('left',t+'px');c('CSS').addClass(this.getVideoNode(),"_blh")}else if(this.$VideoPlayerController88===c('CoverVideoOffsetType').VERTICAL){this.getVideoNode().style.setProperty('top',t+'px');c('CSS').addClass(this.getVideoNode(),"_bli")}};s.prototype.isFullscreen=function(){'use strict';return this.$VideoPlayerController33||c('FullScreen').isFullScreen()&&this.$VideoPlayerController14===c('getFullScreenElement')()};s.prototype.toggleFullscreen=function(){'use strict';var t=this.isFullscreen(),u=this.getContainerNode();if(c('FullScreen').toggleFullScreen(u)){if(!t){this.$VideoPlayerController33=true;u.setAttribute('data-fullscreen','true')}c('CSS').addClass(u,"_1hwh");this.$VideoPlayerController24=c('FullScreen').subscribe('changed',this.$VideoPlayerController116.bind(this))}};s.prototype.instreamVideoStart=function(){'use strict';c('CSS').addClass(this.getContainerNode(),"_24pm")};s.prototype.instreamVideoEnd=function(){'use strict';c('CSS').removeClass(this.getContainerNode(),"_24pm")};s.prototype.unmute=function(){'use strict';if(!this.isState('loading')){this.getVideoAPI().unmute();c('VideoPlayerVolumeSettings').saveVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());if(this.$VideoPlayerController67&&this.getVideoAPI().areSubtitlesActive())this.$VideoPlayerController117();}else this.$VideoPlayerController54=true;};s.prototype.isMuted=function(){'use strict';return this.getVideoAPI().isMuted()};s.prototype.mute=function(){'use strict';if(this.$VideoPlayerController67&&!this.getVideoAPI().areSubtitlesActive())this.$VideoPlayerController117();this.getVideoAPI().mute();c('VideoPlayerVolumeSettings').saveVolume(0)};s.prototype.getMediaID=function(){'use strict';return this.getVideoID()};s.prototype.getPlaybackDuration=function(){'use strict';return this.getVideoAPI().getPlaybackDuration()};s.prototype.getVideoID=function(){'use strict';return this.$VideoPlayerController73};s.prototype.getVideoChannelID=function(){'use strict';return this.$VideoPlayerController71};s.prototype.getVideoURL=function(){'use strict';return this.$VideoPlayerController76};s.prototype.$VideoPlayerController106=function(){'use strict';var t=this.getVideoAPI(),u=new (c('SubscriptionsHandler'))();this.$VideoPlayerController6=u;var v={buffered:function(){return this.setBuffering(false)}.bind(this),buffering:function(){return this.setBuffering(true)}.bind(this),streamInterrupted:function(){return this.$VideoPlayerController39.startInterrupt()}.bind(this),streamResumed:function(){return this.$VideoPlayerController39.endInterrupt()}.bind(this),beginPlayback:function(w){return this.$VideoPlayerController107(w)}.bind(this),updateStatus:function(w){return this.$VideoPlayerController110(w)}.bind(this),updateBuffer:function(w){return this.$VideoPlayerController118(w)}.bind(this),logEvent:function(w){return this.$VideoPlayerController112(w.logData)}.bind(this),pausePlayback:function(){return this.$VideoPlayerController113()}.bind(this),seekEnd:function(w){return this.$VideoPlayerController114(w)}.bind(this),clickForTracking:function(){return c('logVideosClickTracking')(this.getVideoNode())}.bind(this),error:function(w){return this.logError(w)}.bind(this),finishPlayback:function(){return this.$VideoPlayerController115()}.bind(this)};u.addSubscriptions.apply(u,Object.keys(v).map(function(w){return t.addListener(w,v[w])}));u.addSubscriptions.apply(u,c('VideoPlayerApiEvents').map(function(w){return c('forwardEvent')(t,this,w)}.bind(this)))};s.prototype.$VideoPlayerController118=function(t){'use strict';var u=c('VideoPlayerExperiments').suspendPageletDisplayBufferThreshold;if(t.duration>=u&&this.$VideoPlayerController81){this.$VideoPlayerController81();this.$VideoPlayerController81=null}};s.prototype.$VideoPlayerController104=function(){'use strict';if(this.$VideoPlayerController6)this.$VideoPlayerController6.release();};s.prototype.seek=function(t){'use strict';this.emit('seekRequested',t);this.getVideoAPI().seek(t)};s.prototype.pause=function(t){'use strict';if(this.isState('loading')){this.$VideoPlayerController53=null}else if(this.isState('playing')){this.getVideoAPI().pause(t)}else if(this.$VideoPlayerController45)this.getVideoAPI().pause(t);this.$VideoPlayerController90(false);this.$VideoPlayerController56=false;this.emit('pauseRequested',t)};s.prototype.stopHeartbeat=function(){'use strict';c('clearInterval')(this.$VideoPlayerController26);this.$VideoPlayerController26=null};s.prototype.startHeartbeat=function(){'use strict';if(this.$VideoPlayerController26||!c('VideoPlayerHTML5Experiments').heartbeatIntervalMS)return;this.$VideoPlayerController26=c('setInterval')(this.emitHeartbeat,c('VideoPlayerHTML5Experiments').heartbeatIntervalMS)};s.prototype.isPlayerVersion=function(t){'use strict';return this.getPlayerVersion()===t||this.$VideoPlayerController86&&this.$VideoPlayerController119(t)===this.getPlayerVersion()};s.prototype.isAutoplayable=function(){'use strict';return this.$VideoPlayerController58};s.prototype.$VideoPlayerController120=function(){'use strict';return c('ViewportTrackingHelper').isVisible(this.getVideoNode(),0)};s.prototype.$VideoPlayerController94=function(){'use strict';if(c('Visibility').isHidden()){c('Visibility').once(c('Visibility').VISIBLE,function(){return this.$VideoPlayerController94()}.bind(this))}else{if(!this.$VideoPlayerController120())c('JSLog').warn('immediateplay on a hidden video player: %s %s %s %s',this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),c('ScriptPath').getScriptPath());this.play(c('VideoPlayerReason').AUTOPLAY)}};s.prototype.isBuffering=function(){'use strict';return this.$VideoPlayerController29};s.prototype.setBuffering=function(t){'use strict';if(t!==this.$VideoPlayerController29){this.$VideoPlayerController29=t;if(this.$VideoPlayerController29){this.$VideoPlayerController39.startBuffering(this.getCurrentTimePosition());if(c('VideoPlayerExperiments').bufferingErrorTimeout){this.$VideoPlayerController121();this.$VideoPlayerController84=setTimeout(this.$VideoPlayerController122,c('VideoPlayerExperiments').bufferingErrorTimeout)}}else{this.$VideoPlayerController39.endBuffering();this.$VideoPlayerController121()}this.emit('bufferingChanged')}};s.prototype.setSmartBufferAdjustmentEnabled=function(t){'use strict';var u=this.getVideoAPI();if('setSmartBufferAdjustmentEnabled' in u)u.setSmartBufferAdjustmentEnabled(t);};s.prototype.setVideoStreamOffset=function(t){'use strict';var u=this.getVideoAPI();if(typeof u.setVideoStreamOffset==='function')u.setVideoStreamOffset(t);};s.prototype.$VideoPlayerController121=function(){'use strict';if(this.$VideoPlayerController84){clearTimeout(this.$VideoPlayerController84);this.$VideoPlayerController84=0}};s.prototype.isLiveVideo=function(){'use strict';return this.$VideoPlayerController34};s.prototype.isInline=function(){'use strict';return !!this.$VideoPlayerController59&&c('VideoPlayerFormatsMap')[this.$VideoPlayerController59]===c('VideoPlayerFormats').INLINE&&!this.isFullscreen()};s.prototype.isFacecastAudio=function(){'use strict';return this.$VideoPlayerController31};s.prototype.isStreamInterrupted=function(){'use strict';var t=this.$VideoPlayerController70;return !!(t&&t.isStreamInterrupted&&t.isStreamInterrupted())};s.prototype.setVolume=function(t){'use strict';c('VideoPlayerVolumeSettings').saveVolume(t);this.getVideoAPI().setVolume(t)};s.prototype.getDOMPosition=function(){'use strict';return c('getElementPosition')(this.getRootNode())};s.prototype.clickVideo=function(){'use strict';this.emit('clickVideo');this.$VideoPlayerController25=true};s.prototype.hasSeenClick=function(){'use strict';return !!this.$VideoPlayerController25};s.prototype.isAd=function(){'use strict';return !!this.$VideoPlayerController2};s.prototype.getAdClientToken=function(){'use strict';return this.$VideoPlayerController2};s.prototype.$VideoPlayerController123=function(){'use strict';var t=null,u=null,v=false,w=null;if(!this.isState('loading')&&!this.isState('fallback')){if(this.$VideoPlayerController15===null)this.$VideoPlayerController15=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();t=this.getVideoAPI().getEstimatedBandwidth();u=this.getVideoAPI().getAvailableVideoQualities().length;v=this.getVideoAPI().getIsAbrEnabled();w=this.getPlaybackDuration()}var x=babelHelpers['extends']({},this.$VideoPlayerController66);this.$VideoPlayerController21.forEach(function(z,aa){x[aa]=z(aa,this)}.bind(this));var y={};if(this.getOption('SphericalVideoSpatialAudioController','hasSpatialAudio'))y.audio_ch_conf=this.getOption('SphericalVideoSpatialAudioController','getSpatialAudioChannelLayout');return babelHelpers['extends']({ad_client_token:this.$VideoPlayerController2,available_qualities:u,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController83,projection:this.$VideoPlayerController49,player_version:this.getPlayerVersion(),flash_version:c('ifRequired')('Flash',function(z){return z.getVersionString()}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController60,player_origin:this.$VideoPlayerController46,player_suborigin:this.$VideoPlayerController47,playback_is_broadcast:this.$VideoPlayerController28,playback_duration:w,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),playback_is_live_streaming:this.$VideoPlayerController34,video_channel_id:this.$VideoPlayerController71,reaction_video_channel_type:this.$VideoPlayerController55,fbcdn_pop:this.$VideoPlayerController43,representation_id:this.$VideoPlayerController15,video_bandwidth:t,is_abr_enabled:v,feed_position:this.getDataInsertionPosition()},n?n.getPlayerLoggingData():{},this.$VideoPlayerController72,this.$VideoPlayerController9,x,y)};s.prototype.$VideoPlayerController101=function(){'use strict';var t=this.getVideoInfo_DEPRECATED();if(!t)return null;var u=t.resourceUrl,v=/scontent-([a-z]+)\./.exec(u);if(!v)return null;return v[1]};s.prototype.getVideoInfo_DEPRECATED=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return null;return this.getVideoAPI().getVideoInfo()};s.prototype.getDebugInfo=function(){'use strict';var t=this.getVideoInfo_DEPRECATED(),u={initializationTime:this.$VideoPlayerController50,initializationTimestamp:this.$VideoPlayerController51,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController39.getCumulativeStallCount(),stallTime:this.$VideoPlayerController39.getCumulativeStallTime(),interruptCount:this.$VideoPlayerController39.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController39.getCumulativeInterruptTime(),state:this.$VideoPlayerController60,canPlayType:c('mapObject')(c('VideoMimeTypes'),c('canVideoPlayType')),loggedError:this.$VideoPlayerController38,lastError:this.$VideoPlayerController36,droppedFrames:!!this.$VideoPlayerController70&&this.$VideoPlayerController70.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController70&&this.$VideoPlayerController70.getTotalFrames(),videoSource:!!this.$VideoPlayerController70&&this.$VideoPlayerController70.getVideoNodeSource()},v={videoID:this.getVideoID()};if(!t)return {player:u,currentVideo:v};return {currentVideo:babelHelpers['extends']({},v,{streamType:t.streamType,isLiveStream:t.isLiveStream,liveManifestUrl:t.liveManifestUrl,isHD:t.isHD,hasHD:t.hasHD,resourceUrl:t.resourceUrl,hasSubtitles:t.hasSubtitles,hasRateLimit:!!t.hasUnlimitedSrc,isRateLimited:t.hasUnlimitedSrc&&!t.useUnlimitedSrc,tagHD:t.tagHD,tagSD:t.tagSD,projection:this.$VideoPlayerController49,streamId:this.$VideoPlayerController15,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfigurationDebug()}),player:u}};s.prototype.getLastError=function(){'use strict';return this.$VideoPlayerController36};s.prototype.getStallCount=function(){'use strict';return this.$VideoPlayerController39.getStallCount()};s.prototype.hasSubtitles=function(){'use strict';return this.getVideoAPI().hasSubtitles()};s.prototype.areSubtitlesActive=function(){'use strict';return this.getVideoAPI().areSubtitlesActive()};s.prototype.areHLSActive=function(){'use strict';return this.getVideoAPI().areHLSActive()};s.prototype.isRTMP_DEPRECATED=function(){'use strict';return this.getVideoAPI().isRTMP()};s.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerController117();this.logEvent(c('VideoPlayerLoggerEvent').CAPTION_CHANGE);this.$VideoPlayerController67=false};s.prototype.$VideoPlayerController117=function(){'use strict';this.getVideoAPI().toggleSubtitles();this.$VideoPlayerController103()};s.prototype.$VideoPlayerController103=function(){'use strict';if(this.hasSubtitles()&&this.areSubtitlesActive()){this.$VideoPlayerController10='on'}else this.$VideoPlayerController10='off';};s.prototype.isHD=function(){'use strict';return this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop()};s.prototype.hasHD=function(){'use strict';return this.getAvailableVideoQualities().length>1};s.prototype.toggleHD=function(){'use strict';if(this.isHD()){this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0])}else this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop());};s.prototype.setPreferredVideoQuality=function(t){'use strict';this.getVideoAPI().setPreferredVideoQuality(t)};s.prototype.unsetPreferredVideoQuality=function(){'use strict';this.getVideoAPI().unsetPreferredVideoQuality()};s.prototype.getPreferredVideoQuality=function(){'use strict';return this.getVideoAPI().getPreferredVideoQuality()};s.prototype.getSelectedVideoQuality=function(){'use strict';return this.getVideoAPI().getSelectedVideoQuality()};s.prototype.getAvailableVideoQualities=function(){'use strict';return this.getVideoAPI().getAvailableVideoQualities()};s.prototype.getVideoProjection=function(){'use strict';return this.getVideoAPI().getVideoProjection()};s.prototype.canAutoSelectVideoQuality=function(){'use strict';return this.getVideoAPI().canAutoSelectVideoQuality()};s.prototype.switchToStreamType=function(t){'use strict';this.getVideoAPI().switchToStreamType(t)};s.prototype.$VideoPlayerController109=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',o).setString('source',this.$VideoPlayerController59).getURI().toString())};s.prototype.$VideoPlayerController108=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',p).setString('source',this.$VideoPlayerController59).getURI().toString())};s.prototype.$VideoPlayerController102=function(t){'use strict';var u=this.getVideoInfo_DEPRECATED();if(u!=null)return Object.assign({resource_url:u.resourceUrl,liveStream:u.isLiveStream,hd:u.isHD},t);return t};s.prototype.$VideoPlayerController124=function(){'use strict';var t=this.getDOMPosition(),u=c('getViewportDimensions')().height,v=null;if(t.y<=0){v=t.y}else if(t.y+t.height<u){v=0}else v=t.y+t.height-u;return v};s.prototype.logEvent=function(event,t){'use strict';if(this.$VideoPlayerController80)return undefined;var u=++this.$VideoPlayerController22,v=Object.assign(this.$VideoPlayerController123(),t),w=this.getOriginalPlayReason();if(w&&event!==c('VideoPlayerLoggerEvent').DISPLAYED)v.video_play_reason=w;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)v.viewport_distance=this.$VideoPlayerController124();if(event===c('VideoPlayerLoggerEvent').MUTED||event===c('VideoPlayerLoggerEvent').UNMUTED||event===c('VideoPlayerLoggerEvent').STARTED_PLAYING||event===c('VideoPlayerLoggerEvent').CAPTION_CHANGE||event===c('VideoPlayerLoggerEvent').UNPAUSED)v.caption_state=this.$VideoPlayerController10;if(this.$VideoPlayerController77&&c('VideoViewabilityKeyEvents').Events.includes(event)){v.current_viewability_percentage=this.$VideoPlayerController78.getViewability();this.$VideoPlayerController78.setLastLoggedViewability(v.current_viewability_percentage)}v.seq_num=u;var x=this.$VideoPlayerController39.logEvent(event,v);this.emit('debug/vpcLogEvent',x);return x};s.prototype.getState=function(){'use strict';return this.$VideoPlayerController60};s.prototype.getStreamingFormat=function(){'use strict';var t=this.getVideoInfo_DEPRECATED()||{};return t.streamType||this.$VideoPlayerController35};s.prototype.setPlaybackRate=function(t){'use strict';if(this.getVideoAPI().setPlaybackRate)this.getVideoAPI().setPlaybackRate(t);};s.prototype.setState=function(t){'use strict';if(this.isState(c('VideoPlayerStates').DESTROYED)||this.isState(c('VideoPlayerStates').FALLBACK)&&!this.isFallbackRecoverable())return;this.$VideoPlayerController60=t;if(this.$VideoPlayerController60==='fallback'){c('CSS').addClass(this.getRootNode(),"_3-n5");this.$VideoPlayerController104()}this.emit('stateChange')};s.prototype.isState=function(t){'use strict';return this.$VideoPlayerController60===t};s.prototype.isIntentionallyViewing=function(){'use strict';return this.isState('playing')&&!this.isMuted()};s.prototype.abortLoading=function(t){'use strict';if(this.isState('loading')||this.isState('fallback'))return;if(c('VideoPlayerExperiments').seekZeroWhenAbortLoadingFinishedVideos&&this.isState('finished'))this.seek(0);if(this.$VideoPlayerController81){this.$VideoPlayerController81();this.$VideoPlayerController81=null}this.getVideoAPI().abortLoading(t||{});this.stopHeartbeat()};s.prototype.preload=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().preload()};s.prototype.getPlayerVersion=function(){'use strict';var t=null;if(this.$VideoPlayerController5.getPlayerVersion){t=this.$VideoPlayerController5.getPlayerVersion()}else t=this.$VideoPlayerController48;return this.$VideoPlayerController86?this.$VideoPlayerController119(t):t};s.prototype.$VideoPlayerController119=function(t){'use strict';switch(t){case c('VideoPlayerVersions').SILVERCITY:return c('VideoPlayerVersions').REACT_SILVERCITY;case c('VideoPlayerVersions').PLEASANTVILLE:return c('VideoPlayerVersions').REACT_PLEASANTVILLE;default:return c('VideoPlayerVersions').REACT;}};s.prototype.registerOption=function(t,u,v,w){'use strict';var x=this.$VideoPlayerController13.get(t);if(!x){x=new (c('Map'))();this.$VideoPlayerController13.set(t,x)}if(x.has(u))throw new Error('An option can only be registered once for each component');x.set(u,{getter:v,setter:w});this.emit('optionsChange')};s.prototype.unregisterOption=function(t,u){'use strict';var v=this.$VideoPlayerController13.get(t);if(!v)throw new Error('The component "'+t+'" has no options registered');if(!v.has(u))throw new Error('The component "'+t+'" has no option "'+u+'" registered');v['delete'](u);if(!v.size)this.$VideoPlayerController13['delete'](t);this.emit('optionsChange')};s.prototype.getComponents=function(){'use strict';return this.$VideoPlayerController13.keys()};s.prototype.getOptions=function(t){'use strict';var u=this.$VideoPlayerController13.get(t);if(u)return u.keys();return c('enumerate')([])};s.prototype.hasOption=function(t,u){'use strict';var v=this.$VideoPlayerController13.get(t);if(!v)return false;if(!v.has(u))return false;return true};s.prototype.getOption=function(t,u){'use strict';var v=this.$VideoPlayerController13.get(t);if(!v)return undefined;var w=v.get(u);if(!w)return undefined;return w.getter()};s.prototype.setOption=function(t,u,v){'use strict';var w=this.$VideoPlayerController13.get(t);if(!w)throw new Error('Component not registered');var x=w.get(u);if(!x)throw new Error('Option not registered');var y=x.setter;if(y)return y(v);throw new Error('Read-only option')};s.prototype.$VideoPlayerController95=function(){'use strict';var t=c('DOMQuery').scry(this.$VideoPlayerController57,"^._5pat");return t.length?t[0]:null};s.prototype.registerDrawer=function(t,u){'use strict';return this.$VideoPlayerController20.register(t,u)};s.prototype.getVideoPath=function(){'use strict';return this.$VideoPlayerController75};s.prototype.setAllowCrossPageTransition=function(t){'use strict';this.$VideoPlayerController85=t};s.prototype.cleanOnLeave=function(){'use strict';this.pause(c('VideoPlayerReason').UNLOADED);this.destroy()};s.prototype.switchToFullVideo=function(){'use strict';this.pause(c('VideoPlayerReason').UNLOADED);this.getVideoAPI().reloadDashManifest().done(function(){this.play();this.emit('switchedToFullVideo');this.emit('playLiveVODHighlights/showUFI')}.bind(this))};s.prototype.switchToLiveVODHighlights=function(){'use strict';this.pause(c('VideoPlayerReason').UNLOADED);this.getVideoAPI().reloadLiveVODHighlightsManifest().done(function(){this.play();this.emit('switchedToLiveVODHighlights');this.emit('playLiveVODHighlights/hideUFI')}.bind(this))};s.prototype.isPlayingVODHighlights=function(){'use strict';return this.getVideoAPI().isPlayingVODHighlights()};s.prototype.isLiveVODHighlightsAvailable=function(){'use strict';return this.getVideoAPI().isLiveVODHighlightsAvailable()};f.exports=s}),null);
__d("VideoViewabilityPercentage",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIEWABLE_UNKNOWN:-1,VIEWABLE_0:0,VIEWABLE_25:25,VIEWABLE_50:50,VIEWABLE_75:75,VIEWABLE_100:100})}),null);
__d('ViewabilityVideoElement',['UITinyViewportAction','getElementPosition','getViewportDimensions'],(function a(b,c,d,e,f,g){var h=42;function i(j){'use strict';this.$ViewabilityVideoElement1=j}i.prototype.feedViewabilityPercentage=function(){'use strict';var j=c('UITinyViewportAction').isTinyHeight();return this.$ViewabilityVideoElement2(!j)};i.prototype.viewabilityPercentage=function(){'use strict';return this.$ViewabilityVideoElement2(false)};i.prototype.$ViewabilityVideoElement2=function(j){'use strict';var k=c('getViewportDimensions')().width,l=c('getViewportDimensions')().height,m=c('getElementPosition')(this.$ViewabilityVideoElement1);if(m.width===0||m.height===0)return 0;var n=m.x,o=m.x+m.width,p=m.y,q=m.y+m.height,r=j?h:0;if(o<=0||n>=k||q<=r||p>=l)return 0;var s=Math.min(o,k)-Math.max(n,0),t=Math.min(q,l)-Math.max(p,r);return s*t*100/(m.width*m.height)};f.exports=i}),null);
__d('VideoViewabilityLogging',['VideoPlayerController','VideoPlayerExperiments','VideoPlayerLoggerEvent','VideoViewabilityPercentage','ViewabilityVideoElement','Map'],(function a(b,c,d,e,f,g){var h=c('VideoPlayerExperiments').viewabilityPollingRate,i=new (c('Map'))([[0,c('VideoViewabilityPercentage').VIEWABLE_0],[25,c('VideoViewabilityPercentage').VIEWABLE_25],[50,c('VideoViewabilityPercentage').VIEWABLE_50],[75,c('VideoViewabilityPercentage').VIEWABLE_75],[100,c('VideoViewabilityPercentage').VIEWABLE_100]]);function j(k,l){'use strict';this.$VideoViewabilityLogging12=function(m){if(!this.$VideoViewabilityLogging14())return;if(m-this.$VideoViewabilityLogging1>h){this.$VideoViewabilityLogging10();this.$VideoViewabilityLogging1=m}this.$VideoViewabilityLogging2=window.requestAnimationFrame(this.$VideoViewabilityLogging12)}.bind(this);this.$VideoViewabilityLogging9=function(){this.$VideoViewabilityLogging13()}.bind(this);this.$VideoViewabilityLogging8=function(){this.setLastLoggedViewability(this.getViewability());this.$VideoViewabilityLogging11()}.bind(this);this.$VideoViewabilityLogging1=0;this.$VideoViewabilityLogging4=k;this.$VideoViewabilityLogging5=new (c('ViewabilityVideoElement'))(l);this.$VideoViewabilityLogging6()}j.prototype.getViewability=function(){'use strict';var k=void 0;if(this.$VideoViewabilityLogging4.isInline()){k=this.$VideoViewabilityLogging5.feedViewabilityPercentage()}else k=this.$VideoViewabilityLogging5.viewabilityPercentage();return this.$VideoViewabilityLogging7(k)};j.prototype.setLastLoggedViewability=function(k){'use strict';this.$VideoViewabilityLogging3=k};j.prototype.$VideoViewabilityLogging6=function(){'use strict';this.$VideoViewabilityLogging4.addListener('beginPlayback',this.$VideoViewabilityLogging8);this.$VideoViewabilityLogging4.addListener('pausePlayback',this.$VideoViewabilityLogging9)};j.prototype.$VideoViewabilityLogging10=function(){'use strict';var k=this.getViewability();if(k!=this.$VideoViewabilityLogging3){this.$VideoViewabilityLogging4.logEvent(c('VideoPlayerLoggerEvent').VIEWABILITY_CHANGED,{current_viewability_percentage:k,last_viewability_percentage:this.$VideoViewabilityLogging3});this.$VideoViewabilityLogging3=k}};j.prototype.$VideoViewabilityLogging11=function(){'use strict';this.$VideoViewabilityLogging2=window.requestAnimationFrame(this.$VideoViewabilityLogging12)};j.prototype.$VideoViewabilityLogging13=function(){'use strict';window.cancelAnimationFrame(this.$VideoViewabilityLogging2)};j.prototype.$VideoViewabilityLogging14=function(){'use strict';if(this.$VideoViewabilityLogging4.getVideoAPI().isPaused()!==undefined)return !this.$VideoViewabilityLogging4.getVideoAPI().isPaused();return this.$VideoViewabilityLogging4.getState()==='playing'};j.prototype.$VideoViewabilityLogging7=function(k){'use strict';var l=c('VideoViewabilityPercentage').VIEWABLE_0;for(var m=i,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p,r=q[0],s=q[1];if(k>=r)l=s;}return l};f.exports=j}),null);
__d('VideoStateDirectory',['EventEmitter','Map','VideoPlayerExperiments'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);this.$VideoStateDirectory1=new (c('Map'))()}j.prototype.setPlaybackState=function(k,l,m){'use strict';var n=this.$VideoStateDirectory1.get(k)||{};n.currentTimePosition=l;n.playbackDuration=m;n.watched=n.currentTimePosition/n.playbackDuration>=c('VideoPlayerExperiments').watchedPercentage/100||!!n.watched;this.$VideoStateDirectory1.set(k,n);this.emit(k,n)};j.prototype.setSaveState=function(k,l){'use strict';var m=this.$VideoStateDirectory1.get(k)||{};m.saved=l;this.emit(k,m)};j.prototype.setSubscriptionState=function(k,l){'use strict';var m=this.$VideoStateDirectory1.get(k)||{};m.subscribed=l;this.emit(k,m)};j.prototype.getState=function(k){'use strict';return this.$VideoStateDirectory1.get(k)};f.exports=new j()}),null);
__d('VideoUpdateStateDirectory',['VideoStateDirectory'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$VideoUpdateStateDirectory2=function(){var i=this.$VideoUpdateStateDirectory1,j=i.getVideoID(),k=i.getCurrentTimePosition(),l=i.getPlaybackDuration();c('VideoStateDirectory').setPlaybackState(j,k,l)}.bind(this)}h.prototype.enable=function(i){this.$VideoUpdateStateDirectory1=i;i.addListener('finishPlayback',this.$VideoUpdateStateDirectory2);i.addListener('pausePlayback',this.$VideoUpdateStateDirectory2)};h.prototype.disable=function(){};f.exports=h}),null);
__d('extractCEA608',['JSResource'],(function a(b,c,d,e,f,g){var h=null;function i(j,k){if(!h)h=c('JSResource')('CEA608Extractor').__setRef('extractCEA608').load().then(function(l){return new l(k)});return h.then(function(l){return l.extract(j)})}f.exports=i}),null);
__d('VideoSegmentInfoHelper',['URI','VideoDashPrefetchCache','XHRRequest','getCrossOriginTransport'],(function a(b,c,d,e,f,g){'use strict';function h(m){var n=new (c('XHRRequest'))(j(m.requestInfo)).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(c('getCrossOriginTransport')),o=/livestream-lookaside\.facebook\.com$/,p=o.test(n.getURI().getDomain());if(p)n.setTransportBuilder(c('getCrossOriginTransport').withCredentials);return n}function i(m){var n=m.requestInfo,o=n.startByte,p=n.endByte;if(o&&p)return p-o;return null}function j(m){var n=m.baseUrl,o=m.startByte,p=m.endByte,q=new (c('URI'))(n);if(o!==null&&o!==undefined&&p!==null&&p!==undefined)q=q.addQueryData({bytestart:o,byteend:p});return q}function k(m){return c('VideoDashPrefetchCache').hasCacheValue(j(m.requestInfo).toString())}function l(m){return m.baseUrl+','+(m.startByte||0)+(','+(m.endByte||0))}f.exports={createRequest:h,estimateRequestSize:i,getRequestUri:j,isPrefetchedRequest:k,getRequestCacheKey:l}}),null);
__d('SegmentsUpdateHelper',['Map','VideoSegmentInfoHelper'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){this.$SegmentsUpdateHelper1=i;this.$SegmentsUpdateHelper2=j}h.prototype.updateSegments=function(i,j){if(!j.length)return;var k=this.$SegmentsUpdateHelper2.get(i)||[],l=k[k.length-1],m=l?l.startTime:-1,n=j.length;while(n>0){var o=j[n-1];if(o.startTime<=m)break;n--}var p=j.slice(n),q=j.slice(0,n);this.$SegmentsUpdateHelper3(k,q);var r=p.map(function(s){return this.$SegmentsUpdateHelper4(s)}.bind(this));r.forEach(function(s){this.$SegmentsUpdateHelper5(s);k.push(s)}.bind(this));this.$SegmentsUpdateHelper2.set(i,k)};h.prototype.$SegmentsUpdateHelper4=function(i){var j=i.startTime,k=i.endTime,l=i.url,m=l.baseUrl,n=l.startByte,o=l.endByte,p={segmentID:0,startTime:j,endTime:k,requestInfo:{baseUrl:m,startByte:n,endByte:o||undefined}};return p};h.prototype.$SegmentsUpdateHelper6=function(i,j){var k=j.startTime,l=j.endTime,m=j.url,n=m.baseUrl,o=m.startByte,p=m.endByte;i.segmentID=0;i.startTime=k;i.endTime=l;var q=i.requestInfo;q.baseUrl=n;q.startByte=o;q.endByte=p||undefined;return i};h.prototype.$SegmentsUpdateHelper3=function(i,j){if(!j.length)return;var k=j.length,l=function v(){var w=j[k-1]||null;k--;return w},m=l(),n=Number.POSITIVE_INFINITY;for(var o=0;o<=i.length&&m!=null;o++){var p=i.length-o,q=i[p-1],r=p>=1?q.startTime:Number.NEGATIVE_INFINITY,s=void 0;if(r<=m.startTime&&m.endTime<=n){if(r===m.startTime){var t=c('VideoSegmentInfoHelper').getRequestCacheKey(q.requestInfo);s=this.$SegmentsUpdateHelper6(q,m);var u=c('VideoSegmentInfoHelper').getRequestCacheKey(s.requestInfo);if(u!==t){this.$SegmentsUpdateHelper1['delete'](t);this.$SegmentsUpdateHelper5(s)}}else{s=this.$SegmentsUpdateHelper4(m);this.$SegmentsUpdateHelper5(s);i.splice(p,0,s)}m=l()}n=r}};h.prototype.$SegmentsUpdateHelper5=function(i){var j=c('VideoSegmentInfoHelper').getRequestCacheKey(i.requestInfo);this.$SegmentsUpdateHelper1.set(j,i)};f.exports=h}),null);
__d('TrackedPromise',['Promise'],(function a(b,c,d,e,f,g){'use strict';var h=window.Promise||c('Promise');c('Promise').resolve();function i(j){this.$TrackedPromise1=true;this.$TrackedPromise2=j.then(function(k){this.$TrackedPromise1=false;return k}.bind(this),function(k){this.$TrackedPromise1=false;return h.reject(k)}.bind(this))}i.prototype.getPromise=function(){return this.$TrackedPromise2};i.prototype.isPending=function(){return this.$TrackedPromise1};f.exports=i}),null);
__d('VideoPriorityCalculator',['VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){'use strict';function h(){return 2}function i(k){var l=k.playhead,m=k.bufferEnd,n=k.isPlaying,o=c('VideoPlayerShakaExperiments').globalSchedulerPriorityThreshold,p=m-l<=o?0:1,q=n?0:1;return h()-p-q}function j(k){var l=k.playhead,m=k.bufferEnd;if(!c('VideoPlayerShakaExperiments').liveBufferCriticalThreshold)return i(k);var n=m-l;if(n<=c('VideoPlayerShakaExperiments').liveBufferCriticalThreshold)return h();return i(k)}f.exports={calculate:i,calculateLive:j,getMaxPriority:h}}),null);
__d('VideoSegmentPromiseBuffer',['Map','Set','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$VideoSegmentPromiseBuffer1=new (c('Map'))()}h.prototype.appendSegmentPromise=function(i,j){this.$VideoSegmentPromiseBuffer1.set(i,j);return this};h.prototype.hasSegmentPromise=function(i){return this.$VideoSegmentPromiseBuffer1.has(i)};h.prototype.getSegmentPromise=function(i){return this.$VideoSegmentPromiseBuffer1.get(i)||null};h.prototype.hasOtherPendingSegments=function(i){var j=new (c('Set'))(i);return Array.from(this.$VideoSegmentPromiseBuffer1.entries()).some(function(k){return k[1].isPending()&&!j.has(k[0])})};h.prototype.isFirstPendingSegment=function(i){var j=this.$VideoSegmentPromiseBuffer1.get(i);if(!j||!j.isPending())return false;var k=void 0;for(var l=this.$VideoSegmentPromiseBuffer1.entries(),m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o;if(p[1].isPending()){k=p[0];break}}return k===i};h.prototype.clearAllSegmentPromises=function(){this.$VideoSegmentPromiseBuffer1.clear();return this};h.prototype.removeSegmentPromisesOlderThan=function(i){if(c('VideoPlayerShakaExperiments').fixingOldPromiseClearance){for(var j=this.$VideoSegmentPromiseBuffer1.keys(),k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m;if(n.startTime<i.startTime)this.$VideoSegmentPromiseBuffer1['delete'](n);}return}if(!this.hasSegmentPromise(i))return;for(var o=this.$VideoSegmentPromiseBuffer1.keys(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s===i)return;this.$VideoSegmentPromiseBuffer1['delete'](s)}};h.prototype.removeSegmentPromise=function(i){this.$VideoSegmentPromiseBuffer1['delete'](i)};f.exports=h}),null);
__d('NetworkRequestPipelineStats',['Set'],(function a(b,c,d,e,f,g){'use strict';var h=5,i=.5,j=30;function k(){this.$NetworkRequestPipelineStats1={};this.$NetworkRequestPipelineStats2={};this.$NetworkRequestPipelineStats3=0;this.$NetworkRequestPipelineStats4=0;this.$NetworkRequestPipelineStats5=0;this.$NetworkRequestPipelineStats6=0;this.$NetworkRequestPipelineStats7=new (c('Set'))()}k.prototype.addEntry=function(l,m){this.$NetworkRequestPipelineStats6=Math.max(this.$NetworkRequestPipelineStats6,l);if(!m)return;this.$NetworkRequestPipelineStats1[l]=m;var n=this.$NetworkRequestPipelineStats1[l-1];if(!this.$NetworkRequestPipelineStats7.has(l-1)&&n)this.$NetworkRequestPipelineStats8(n,m,l);var o=this.$NetworkRequestPipelineStats1[l+1];if(!this.$NetworkRequestPipelineStats7.has(l)&&o)this.$NetworkRequestPipelineStats8(m,o,l+1);};k.prototype.setNetworkIdle=function(){this.$NetworkRequestPipelineStats7.add(this.$NetworkRequestPipelineStats6)};k.prototype.$NetworkRequestPipelineStats8=function(l,m,n){this.$NetworkRequestPipelineStats2[n]=m.startTime+m.timeToFirstByte-(l.startTime+l.timeToLastByte)};k.prototype.getBandwidthAlignments=function(){return this.$NetworkRequestPipelineStats2};k.prototype.getBandwidthUtilization=function(){var l=0,m=0;Object.keys(this.$NetworkRequestPipelineStats2).forEach(function(n){var o=Number.parseInt(n,10),p=this.$NetworkRequestPipelineStats2[o],q=this.$NetworkRequestPipelineStats1[o],r=q.timeToLastByte-q.timeToFirstByte;l+=r;m+=Math.max(0,p)+r}.bind(this));return l/Math.max(1,m)};k.prototype.$NetworkRequestPipelineStats9=function(l){var m=[],n=0;while(true){var o=this.$NetworkRequestPipelineStats1[this.$NetworkRequestPipelineStats6-n];if(!o)break;if(o.timeToLastByte-o.timeToFirstByte>=j)m.push(o);n++}return m};k.prototype.getEstimatedDownloadTime=function(l){if(l){var m=this.$NetworkRequestPipelineStats10();if(!m)return 0;return l/m}return this.$NetworkRequestPipelineStats11(function(n){return n.timeToLastByte-n.timeToFirstByte},{lastN:h,defaultValue:0})};k.prototype.$NetworkRequestPipelineStats10=function(){return this.$NetworkRequestPipelineStats11(function(l){return l.transferSize/(l.timeToLastByte-l.timeToFirstByte||1)},{lastN:h,defaultValue:0})};k.prototype.$NetworkRequestPipelineStats11=function(l,m){var n=m.lastN,o=m.defaultValue,p=this.$NetworkRequestPipelineStats9(n);if(!p.length)return o;return p.reverse().reduce(function(q,r){return i*l(r)+(1-i)*q},l(p[0]))};k.prototype.getEstimatedTimeToFirstByte=function(){return this.$NetworkRequestPipelineStats11(function(l){return l.timeToFirstByte},{lastN:h,defaultValue:5000})};k.prototype.getOptimisticTimeToFirstByte=function(){var l=this.$NetworkRequestPipelineStats9(h);if(!l.length)return 0;var m=Math.min.apply(Math,l.map(function(o){return o.timeToFirstByte})),n=this.$NetworkRequestPipelineStats11(function(o){return o.timeToFirstByte},{lastN:h,defaultValue:5000});return (m+n)/2};f.exports=k}),null);
__d('getXHRRequestHandlerHelper',[],(function a(b,c,d,e,f,g){'use strict';function h(k,l,m,n){var o=l.call(k);m.call(k,function(){o&&o.apply(undefined,arguments);n.apply(undefined,arguments)})}function i(k){this.$XHRRequestHandlerHelper1=k}i.prototype.addResponseHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getResponseHandler,this.$XHRRequestHandlerHelper1.setResponseHandler,k);return this};i.prototype.addAbortHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getAbortHandler,this.$XHRRequestHandlerHelper1.setAbortHandler,k);return this};i.prototype.addErrorHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getErrorHandler,this.$XHRRequestHandlerHelper1.setErrorHandler,k);return this};i.prototype.addNetworkFailureHandler=function(k){h(this.$XHRRequestHandlerHelper1,this.$XHRRequestHandlerHelper1.getNetworkFailureHandler,this.$XHRRequestHandlerHelper1.setNetworkFailureHandler,k);return this};function j(k){return new i(k)}f.exports=j}),null);
__d('NetworkRequestPipeline',['EventEmitter','Map','NetworkRequestPipelineStats','VideoPlayerResourceTimer','VideoPlayerShakaExperiments','getXHRRequestHandlerHelper','performanceNow','setTimeoutAcrossTransitions','setTimeout'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('VideoPlayerShakaExperiments').timeoutsPersistOnPageTransition?c('setTimeoutAcrossTransitions'):c('setTimeout'),k=2,l=1;h=babelHelpers.inherits(m,c('EventEmitter'));i=h&&h.prototype;function m(n,o){i.constructor.call(this);this.$NetworkRequestPipeline1=k;this.$NetworkRequestPipeline2=l;this.$NetworkRequestPipeline3=0;this.$NetworkRequestPipeline4=new (c('NetworkRequestPipelineStats'))();this.$NetworkRequestPipeline5=0;this.$NetworkRequestPipeline6=new (c('Map'))();this.$NetworkRequestPipeline11=null;this.$NetworkRequestPipeline12=null;this.$NetworkRequestPipeline14=function(){if(!this.$NetworkRequestPipeline13){this.$NetworkRequestPipeline13=this.$NetworkRequestPipeline15();this.$NetworkRequestPipeline12=null;this.$NetworkRequestPipeline16()}}.bind(this);this.$NetworkRequestPipeline8=n;var p=o||{},q=p.xhrHandleNetworkFailure,r=p.maxConcurrentRequests,s=p.soothingFactor,t=p.fixFinishRequest;this.$NetworkRequestPipeline9=!!q;this.$NetworkRequestPipeline10=!!t;this.$NetworkRequestPipeline8.setOnItemAdded(this.$NetworkRequestPipeline14);if(r!==undefined)this.$NetworkRequestPipeline1=r;if(s!==undefined)this.$NetworkRequestPipeline2=s;this.$NetworkRequestPipeline14()}m.prototype.$NetworkRequestPipeline17=function(){var n=this.$NetworkRequestPipeline3;this.$NetworkRequestPipeline3++;return n};m.prototype.$NetworkRequestPipeline16=function(){if(this.$NetworkRequestPipeline13&&this.$NetworkRequestPipeline5<this.$NetworkRequestPipeline1){var n=this.$NetworkRequestPipeline18(this.$NetworkRequestPipeline13);if(!n)this.$NetworkRequestPipeline13=null;}};m.prototype.$NetworkRequestPipeline19=function(n){if(n.hasEnded)return false;clearTimeout(n.timeout);n.hasEnded=true;this.$NetworkRequestPipeline13=this.$NetworkRequestPipeline15();this.$NetworkRequestPipeline16();return true};m.prototype.$NetworkRequestPipeline18=function(n){if(n.xhrRequest)return true;var o=c('performanceNow')(),p=this.$NetworkRequestPipeline8.dequeue();if(!p){this.$NetworkRequestPipeline4.setNetworkIdle();return false}var q=p.xhrRequest,r=p.estimatedSize,s=false,t=function(){if(!this.$NetworkRequestPipeline10)return false;if(s)return true;s=true;return false}.bind(this),u=void 0,v=function(x){if(!t()){var y=c('VideoPlayerResourceTimer').getResourceTimingEntry(q.getURI().toString(),o,c('performanceNow')());this.$NetworkRequestPipeline4.addEntry(n.id,y);this.$NetworkRequestPipeline5--;if(!this.$NetworkRequestPipeline19(n))this.$NetworkRequestPipeline16();}u&&u.remove()}.bind(this),w=function(){if(!t()){this.$NetworkRequestPipeline5--;if(!this.$NetworkRequestPipeline19(n))this.$NetworkRequestPipeline16();}u&&u.remove()}.bind(this);if(!s)u=this.addListener('evict',function(x){if(q===x.xhrRequest)w();});c('getXHRRequestHandlerHelper')(q).addResponseHandler(v).addAbortHandler(w).addErrorHandler(w).addNetworkFailureHandler(function(){if(this.$NetworkRequestPipeline9)w();}.bind(this));n.xhrRequest=q;this.$NetworkRequestPipeline5++;n.timeout=j(function(){return this.$NetworkRequestPipeline19(n)}.bind(this),this.$NetworkRequestPipeline20(q,r||undefined));this.$NetworkRequestPipeline11=this.$NetworkRequestPipeline12;this.$NetworkRequestPipeline12=q.getURI().toString();q.send();return true};m.prototype.evictRequest=function(n){this.emit('evict',{xhrRequest:n})};m.prototype.getRecentBlockingRequestUrl=function(){return this.$NetworkRequestPipeline11};m.prototype.$NetworkRequestPipeline15=function(){var n=this.$NetworkRequestPipeline17(),o={id:n,hasEnded:false,xhrRequest:null,timeout:0};return o};m.prototype.$NetworkRequestPipeline20=function(n,o){var p=this.$NetworkRequestPipeline4.getEstimatedDownloadTime(o),q=this.$NetworkRequestPipeline4.getEstimatedTimeToFirstByte(),r=this.$NetworkRequestPipeline4.getOptimisticTimeToFirstByte();return (p+q-r)*this.$NetworkRequestPipeline2};f.exports=m}),null);
__d('PriorityRequestQueue',['invariant','EventEmitter','Map','Set'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('EventEmitter'));j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$PriorityRequestQueue1=new (c('Map'))(),this.$PriorityRequestQueue2=new (c('Map'))(),this.$PriorityRequestQueue3=function(){},m}k.prototype.dequeue=function(){return this.$PriorityRequestQueue4(Infinity)};k.prototype.setOnItemAdded=function(l){this.$PriorityRequestQueue3=l};k.prototype.$PriorityRequestQueue4=function(l){var m=-Infinity;Array.from(this.$PriorityRequestQueue1.keys()).forEach(function(p){if(p<l)m=Math.max(m,p);});if(m===-Infinity)return null;var n=this.$PriorityRequestQueue1.get(m);n||h(0);var o=this.$PriorityRequestQueue5(n);if(o)return o;return this.$PriorityRequestQueue4(m)};k.prototype.$PriorityRequestQueue5=function(l){var m=l.queues,n=l.lastDequeued;if(!m.size)return null;var o=Array.from(m),p=n?o.findIndex(function(u){return u===n}):-1;for(var q=p+1;q<=p+m.size;q++){var r=q%m.size,s=o[r],t=s.dequeue();if(t){l.lastDequeued=s;return t}}return null};k.prototype.setQueue=function(l,m){var n=this.$PriorityRequestQueue2.get(l);if(n===m)return;if(!n)this.$PriorityRequestQueue3('append');this.removeQueue(l);var o=this.$PriorityRequestQueue1.get(m);if(!o)o={lastDequeued:null,queues:new (c('Set'))()};o.queues.add(l);l.setOnItemAdded(function(p){this.$PriorityRequestQueue6(l,p)}.bind(this));this.$PriorityRequestQueue2.set(l,m);this.$PriorityRequestQueue1.set(m,o)};k.prototype.removeQueue=function(l){var m=this.$PriorityRequestQueue7(l);l.setOnItemAdded(function(){});this.$PriorityRequestQueue2['delete'](l);if(m)m.queues['delete'](l);};k.prototype.$PriorityRequestQueue6=function(l,m){this.$PriorityRequestQueue3(m);if(m==='prepend')this.$PriorityRequestQueue7(l);};k.prototype.$PriorityRequestQueue7=function(l){var m=this.$PriorityRequestQueue2.get(l);if(m!==undefined&&m!==null){var n=this.$PriorityRequestQueue1.get(m);n||h(0);var o=n.queues;if(n.lastDequeued===l){var p=Array.from(o),q=p.findIndex(function(r){return r===l});n.lastDequeued=p[q-1]||null}return n}return null};k.prototype.demandReschedule=function(){this.emit('demand_reschedule')};f.exports=k}),null);
__d('VideoPipelineProvider',['Map','NetworkRequestPipeline','PriorityRequestQueue','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Map'))();function i(j){var k=h.get(j);if(!k){var l=new (c('PriorityRequestQueue'))(),m=c('VideoPlayerShakaExperiments').requestPipelineSoothingFactor,n=c('VideoPlayerShakaExperiments').requestPipelineMaxConcurrentRequests;if(j==='audio'){m=c('VideoPlayerShakaExperiments').audioRequestPipelineSoothingFactor;n=c('VideoPlayerShakaExperiments').audioRequestPipelineMaxConcurrentRequests}var o=new (c('NetworkRequestPipeline'))(l,{xhrHandleNetworkFailure:c('VideoPlayerShakaExperiments').xhrHandleNetworkFailure,maxConcurrentRequests:n,soothingFactor:m,fixFinishRequest:c('VideoPlayerShakaExperiments').enableRescheduler});k={requestQueue:l,pipeline:o};h.set(j,k)}return k}f.exports={getPriorityRequestQueueAndPipeline:i}}),null);
__d('VideoSegmentRequestQueue',['Map'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$VideoSegmentRequestQueue1=function(){};this.$VideoSegmentRequestQueue2=new (c('Map'))();this.$VideoSegmentRequestQueue3=new (c('Map'))()}h.prototype.dequeue=function(){var i=this.$VideoSegmentRequestQueue3.entries().next().value;if(i){this.$VideoSegmentRequestQueue3['delete'](i[0]);return i[1]||null}i=this.$VideoSegmentRequestQueue2.entries().next().value;if(!i)return null;this.$VideoSegmentRequestQueue2['delete'](i[0]);return i[1]||null};h.prototype.setOnItemAdded=function(i){this.$VideoSegmentRequestQueue1=i};h.prototype.append=function(i,j,k){this.$VideoSegmentRequestQueue4(i,j,k,this.$VideoSegmentRequestQueue2,'append');return this};h.prototype.clearNormalQueue=function(){this.$VideoSegmentRequestQueue2.clear()};h.prototype.changeToTopPri=function(i){var j=this.$VideoSegmentRequestQueue2.get(i);if(j){this.$VideoSegmentRequestQueue2['delete'](i);this.$VideoSegmentRequestQueue3.set(i,j)}};h.prototype.removeTopPriSegment=function(i){var j=this.$VideoSegmentRequestQueue3.get(i);this.$VideoSegmentRequestQueue3['delete'](i);return j?j.xhrRequest:null};h.prototype.isEmpty=function(){return this.$VideoSegmentRequestQueue2.size===0&&this.$VideoSegmentRequestQueue3.size===0};h.prototype.prependTopPri=function(i,j,k){var l=this.$VideoSegmentRequestQueue3;this.$VideoSegmentRequestQueue3=new (c('Map'))();this.$VideoSegmentRequestQueue5(i,j,k,l,this.$VideoSegmentRequestQueue3)};h.prototype.prepend=function(i,j,k){var l=this.$VideoSegmentRequestQueue2;this.$VideoSegmentRequestQueue2=new (c('Map'))();this.$VideoSegmentRequestQueue5(i,j,k,l,this.$VideoSegmentRequestQueue2)};h.prototype.$VideoSegmentRequestQueue5=function(i,j,k,l,m){this.$VideoSegmentRequestQueue4(i,j,k,m,'prepend');l.forEach(function(n,o){var p=n.xhrRequest,q=n.estimatedSize;this.$VideoSegmentRequestQueue6(o,p,q,m)}.bind(this))};h.prototype.$VideoSegmentRequestQueue4=function(i,j,k,l,m){this.$VideoSegmentRequestQueue6(i,j,k,l);this.$VideoSegmentRequestQueue1(m)};h.prototype.$VideoSegmentRequestQueue6=function(i,j,k,l){var m={xhrRequest:j,estimatedSize:k};l.set(i,m)};f.exports=h}),null);
__d('createVideoResponsePromise',['Promise','VideoPlayerShakaError','VideoPlayerShakaExperiments','getXHRRequestHandlerHelper','performanceNow'],(function a(b,c,d,e,f,g){'use strict';var h=window.Promise||c('Promise');c('Promise').resolve();function i(j){var k=void 0,l=j.getURI().toString(),m=j.send;j.send=function(){k=c('performanceNow')();m.call(j)};var n=new h(function(o,p){c('getXHRRequestHandlerHelper')(j).addResponseHandler(function(q){o({response:q,responseTime:c('performanceNow')()-k})}).addAbortHandler(function(q){if(q==='reschedule')return;var r=c('VideoPlayerShakaError').translateError({errorMsg:'Request aborted.',errorType:'abort',errorCode:0},l,'aborted');p(r)}).addErrorHandler(function(q){var r=c('VideoPlayerShakaError').translateError(q,l,'net');p(r)}).addNetworkFailureHandler(function(q){if(c('VideoPlayerShakaExperiments').xhrHandleNetworkFailure){var r=c('VideoPlayerShakaError').translateError(q,l,'net');p(r)}})});return n}f.exports=i}),null);
__d('VideoSegmentRequestPipeline',['Map','NetworkRequestPipeline','SubscriptionsHandler','VideoPipelineProvider','VideoPlayerResourceTimer','VideoPlayerShakaError','VideoPlayerShakaExperiments','VideoPriorityCalculator','VideoSegmentInfoHelper','VideoSegmentRequestQueue','createVideoResponsePromise','getXHRRequestHandlerHelper','performanceNow'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){this.$VideoSegmentRequestPipeline1=new (c('Map'))();this.$VideoSegmentRequestPipeline2=new (c('Map'))();this.$VideoSegmentRequestPipeline3=null;this.$VideoSegmentRequestPipeline4=null;this.$VideoSegmentRequestPipeline5=null;this.$VideoSegmentRequestPipeline10=new (c('Map'))();this.$VideoSegmentRequestPipeline11=new (c('Map'))();this.$VideoSegmentRequestPipeline12=null;this.$VideoSegmentRequestPipeline14=0;this.$VideoSegmentRequestPipeline15=new (c('SubscriptionsHandler'))();this.$VideoSegmentRequestPipeline18=function(){if(this.$VideoSegmentRequestPipeline17()===c('VideoPriorityCalculator').getMaxPriority())return;if(c('VideoPlayerShakaExperiments').enableRescheduler&&this.$VideoSegmentRequestPipeline10.size>0)this.$VideoSegmentRequestPipeline22();}.bind(this);this.$VideoSegmentRequestPipeline9=new (c('VideoSegmentRequestQueue'))();if(c('VideoPlayerShakaExperiments').enableGlobalScheduler){var m=c('VideoPipelineProvider').getPriorityRequestQueueAndPipeline(i),n=m.requestQueue,o=m.pipeline;this.$VideoSegmentRequestPipeline12=n;this.$VideoSegmentRequestPipeline13=o}else this.$VideoSegmentRequestPipeline13=new (c('NetworkRequestPipeline'))(this.$VideoSegmentRequestPipeline9,{xhrHandleNetworkFailure:c('VideoPlayerShakaExperiments').xhrHandleNetworkFailure,maxConcurrentRequests:c('VideoPlayerShakaExperiments').requestPipelineMaxConcurrentRequests,soothingFactor:c('VideoPlayerShakaExperiments').requestPipelineSoothingFactor,fixFinishRequest:c('VideoPlayerShakaExperiments').enableRescheduler});var p=this.$VideoSegmentRequestPipeline12;if(p){p.setQueue(this.$VideoSegmentRequestPipeline9,this.$VideoSegmentRequestPipeline17());this.$VideoSegmentRequestPipeline15.addSubscriptions(p.addListener('demand_reschedule',this.$VideoSegmentRequestPipeline18))}this.$VideoSegmentRequestPipeline7=i;this.$VideoSegmentRequestPipeline6=j;this.$VideoSegmentRequestPipeline8=k;this.$VideoSegmentRequestPipeline16=l}h.prototype.enqueue=function(i){var j=c('VideoSegmentInfoHelper').createRequest(i),k=c('VideoSegmentInfoHelper').estimateRequestSize(i),l=c('createVideoResponsePromise')(j),m=j.send;j.send=function(){this.$VideoSegmentRequestPipeline10.set(i,j);this.$VideoSegmentRequestPipeline19(i,j);m.call(j)}.bind(this);this.$VideoSegmentRequestPipeline9.append(i,j,k);this.$VideoSegmentRequestPipeline20();return l};h.prototype.lockRequest=function(i){this.$VideoSegmentRequestPipeline9.changeToTopPri(i);this.$VideoSegmentRequestPipeline11.set(i,{lockedTime:c('performanceNow')(),rescheduleCount:0})};h.prototype.cancelUnlockedRequests=function(){this.$VideoSegmentRequestPipeline9.clearNormalQueue();this.$VideoSegmentRequestPipeline10.forEach(function(i,j){if(!this.$VideoSegmentRequestPipeline11.has(j)){i.abort();this.$VideoSegmentRequestPipeline10['delete'](j)}}.bind(this))};h.prototype.abortLockedRequest=function(i){var j=this.$VideoSegmentRequestPipeline9.removeTopPriSegment(i);if(j)j.abort();j=this.$VideoSegmentRequestPipeline10.get(i);if(j){j.abort();this.$VideoSegmentRequestPipeline21(i)}};h.prototype.$VideoSegmentRequestPipeline21=function(i){this.$VideoSegmentRequestPipeline10['delete'](i);this.$VideoSegmentRequestPipeline11['delete'](i)};h.prototype.unload=function(){if(this.$VideoSegmentRequestPipeline12)this.$VideoSegmentRequestPipeline12.removeQueue(this.$VideoSegmentRequestPipeline9);this.$VideoSegmentRequestPipeline15.release()};h.prototype.setPriority=function(i){if(this.$VideoSegmentRequestPipeline17()===i)return;this.$VideoSegmentRequestPipeline14=i;var j=this.$VideoSegmentRequestPipeline12;if(j){j.setQueue(this.$VideoSegmentRequestPipeline9,i);this.$VideoSegmentRequestPipeline20()}};h.prototype.getResourceTimingEntry=function(i){return this.$VideoSegmentRequestPipeline2.get(i)||null};h.prototype.$VideoSegmentRequestPipeline20=function(){var i=this.$VideoSegmentRequestPipeline12;if(i&&!this.$VideoSegmentRequestPipeline9.isEmpty()&&this.$VideoSegmentRequestPipeline17()>=c('VideoPriorityCalculator').getMaxPriority())i.demandReschedule();};h.prototype.$VideoSegmentRequestPipeline22=function(){Array.from(this.$VideoSegmentRequestPipeline10.values()).forEach(function(i){this.$VideoSegmentRequestPipeline13.evictRequest(i)}.bind(this))};h.prototype.$VideoSegmentRequestPipeline17=function(){return this.$VideoSegmentRequestPipeline14};h.prototype.$VideoSegmentRequestPipeline23=function(i){var j=this.$VideoSegmentRequestPipeline11.get(i)||{},k=j.lockedTime,l=j.rescheduleCount;l=(l||0)+1;this.$VideoSegmentRequestPipeline21(i);this.$VideoSegmentRequestPipeline11.set(i,{lockedTime:k,rescheduleCount:l})};h.prototype.$VideoSegmentRequestPipeline19=function(i,j){var k,l=this,m=j.getURI().toString(),n=this.$VideoSegmentRequestPipeline17(),o=void 0,p=void 0,q=this.$VideoSegmentRequestPipeline13.getRecentBlockingRequestUrl(),r=false;if(q&&q!==this.$VideoSegmentRequestPipeline4)r=true;if(c('VideoPlayerShakaExperiments').fixingSchedulerXhrRequestLeaks){p=this.$VideoSegmentRequestPipeline4;this.$VideoSegmentRequestPipeline4=m}else{o=this.$VideoSegmentRequestPipeline3;this.$VideoSegmentRequestPipeline3=j}if(i)(function(){var s=l.$VideoSegmentRequestPipeline24(m,n,r),t=c('performanceNow')(),u=false,v=function w(){if(!c('VideoPlayerShakaExperiments').enableRescheduler)return false;if(u)return true;u=true;return false};c('getXHRRequestHandlerHelper')(j).addResponseHandler(function(w){if(!v()){var x=c('performanceNow')(),y=c('VideoPlayerResourceTimer').getResourceTimingEntry(m,t,x),z=w.byteLength;if(this.$VideoSegmentRequestPipeline8){var aa=y?this.$VideoSegmentRequestPipeline25(y,j,o,p):x-t;this.$VideoSegmentRequestPipeline8.sample(aa,z,this.$VideoSegmentRequestPipeline7==='video',{timeToLastByte:aa},this.$VideoSegmentRequestPipeline16)}if(s)this.$VideoSegmentRequestPipeline26(i,s,w.byteLength,y,t);this.$VideoSegmentRequestPipeline21(i)}}.bind(l)).addAbortHandler(function(w){if(!v()){var x=c('VideoPlayerShakaError').translateError({errorMsg:'Request aborted.',errorType:'abort',errorCode:0},m,'aborted');if(w==='reschedule'){this.$VideoSegmentRequestPipeline23(i)}else this.$VideoSegmentRequestPipeline21(i);if(s)s.setError(x).log();}}.bind(l)).addErrorHandler(function(w){if(!v()){var x=c('VideoPlayerShakaError').translateError(w,m,'net');if(s)s.setError(x).log();this.$VideoSegmentRequestPipeline21(i)}}.bind(l)).addNetworkFailureHandler(function(w){if(!v())if(c('VideoPlayerShakaExperiments').xhrHandleNetworkFailure){var x=c('VideoPlayerShakaError').translateError(w,m,'net');if(s)s.setError(x).log();this.$VideoSegmentRequestPipeline21(i)}}.bind(l))})();};h.prototype.$VideoSegmentRequestPipeline24=function(i,j,k){var l=null;if(this.$VideoSegmentRequestPipeline6){l=this.$VideoSegmentRequestPipeline6.getOperationLogger('request').setResource(i).start();l.setPriority(j).setType(this.$VideoSegmentRequestPipeline7||null).setWasDelayed(k).setInitiator('pipeline')}return l};h.prototype.$VideoSegmentRequestPipeline26=function(i,j,k,l,m){var n=this.$VideoSegmentRequestPipeline11.get(i)||{},o=n.lockedTime,p=n.rescheduleCount,q=0;if(o)q=m-o;if(!p)p=0;j.setLength(k);if(l){var r=l.timeToFirstByte,s=l.timeToLastByte,t=l.timeToRequestStart;j.setTimeToFirstByte(Math.round(r)).setTimeToLastByte(Math.round(s)).setTimeToRequestStart(Math.round(t)).setTimeToRequestSent(Math.round(q)).setRescheduleCount(Math.round(p))}j.log()};h.prototype.$VideoSegmentRequestPipeline25=function(i,j,k,l){var m=null;if(k){m=this.$VideoSegmentRequestPipeline1.get(k);if(c('VideoPlayerShakaExperiments').fixingSchedulerXhrRequestLeaks){this.$VideoSegmentRequestPipeline1['delete'](k)}else this.$VideoSegmentRequestPipeline1['delete'](m);}if(l){m=this.$VideoSegmentRequestPipeline2.get(l);this.$VideoSegmentRequestPipeline2['delete'](l)}if(c('VideoPlayerShakaExperiments').fixingSchedulerXhrRequestLeaks){this.$VideoSegmentRequestPipeline2.set(j.getURI().toString(),i)}else this.$VideoSegmentRequestPipeline1.set(j,i);if(m){var n=m.startTime+m.timeToLastByte,o=i.startTime+i.timeToLastByte,p=Math.min(o-n,i.timeToLastByte);return Math.max(i.timeToLastByte-i.timeToFirstByte,p)}return i.timeToLastByte};f.exports=h}),null);
__d('SegmentRequestManager',['invariant','BinarySearch','Map','SegmentsUpdateHelper','TrackedPromise','VideoPriorityCalculator','VideoSegmentInfoHelper','VideoSegmentPromiseBuffer','VideoSegmentRequestPipeline'],(function a(b,c,d,e,f,g,h){'use strict';var i=.1,j=3;function k(l,m,n,o,p){this.$SegmentRequestManager1=new (c('Map'))();this.$SegmentRequestManager2=new (c('Map'))();this.$SegmentRequestManager3=0;this.$SegmentRequestManager4=null;this.$SegmentRequestManager6=[];this.$SegmentRequestManager7=new (c('VideoSegmentPromiseBuffer'))();this.$SegmentRequestManager8=false;this.$SegmentRequestManager10=0;this.$SegmentRequestManager5=new (c('VideoSegmentRequestPipeline'))(l,n,o,p);this.$SegmentRequestManager11=m||c('VideoPriorityCalculator').calculate}k.prototype.updateSegmentsByShakaReferences=function(l,m){new (c('SegmentsUpdateHelper'))(this.$SegmentRequestManager2,this.$SegmentRequestManager1).updateSegments(l,m)};k.prototype.updateSegments=function(l,m){var n=this.getSegments(l);m.forEach(function(o){var p=c('VideoSegmentInfoHelper').getRequestCacheKey(o.requestInfo);if(!this.$SegmentRequestManager2.has(p)){this.$SegmentRequestManager2.set(p,o);this.$SegmentRequestManager12(n,o)}}.bind(this));this.$SegmentRequestManager1.set(l,n)};k.prototype.getSegments=function(l){var m=this.$SegmentRequestManager1.get(l);return m||[]};k.prototype.hasSegment=function(l){var m=c('VideoSegmentInfoHelper').getRequestCacheKey(l.requestInfo);return this.$SegmentRequestManager2.has(m)};k.prototype.updatePriorityWithNewPlayhead=function(l){if(this.$SegmentRequestManager9)this.$SegmentRequestManager9.playhead=l;this.$SegmentRequestManager13();return this};k.prototype.updatePriorityWithNewPlayingState=function(l){if(this.$SegmentRequestManager9)this.$SegmentRequestManager9.isPlaying=l;this.$SegmentRequestManager13();return this};k.prototype.updatePriorityWithNewAdjustment=function(l){if(l===this.$SegmentRequestManager10)return this;l<=0||h(0);this.$SegmentRequestManager10=l;this.$SegmentRequestManager13();return this};k.prototype.updatePlayerState=function(l,m){var n=this.$SegmentRequestManager1.get(l);this.$SegmentRequestManager9=m;if(!n)return this;var o=this.$SegmentRequestManager4;this.$SegmentRequestManager4=l;if(this.$SegmentRequestManager8)return this;this.$SegmentRequestManager13();var p=this.$SegmentRequestManager14(m,n);if(o!==l){this.$SegmentRequestManager15();this.$SegmentRequestManager16(p);return this}var q=[];if(this.$SegmentRequestManager7.hasOtherPendingSegments(p)){this.$SegmentRequestManager15();q=p}else{q=p.filter(function(r){return !this.$SegmentRequestManager7.hasSegmentPromise(r)}.bind(this));this.$SegmentRequestManager7.removeSegmentPromisesOlderThan(p[0])}this.$SegmentRequestManager16(q);return this};k.prototype.getPromise=function(l){var m=c('VideoSegmentInfoHelper').getRequestCacheKey(l),n=this.$SegmentRequestManager2.get(m);if(!n)throw new Error('the given request info is not found it segments cache ');var o=this.$SegmentRequestManager7.getSegmentPromise(n),p=void 0;if(o&&(!o.isPending()||this.$SegmentRequestManager7.isFirstPendingSegment(n))){p=o.getPromise()}else{this.$SegmentRequestManager15();p=this.$SegmentRequestManager5.enqueue(n);o=new (c('TrackedPromise'))(p);this.$SegmentRequestManager7.appendSegmentPromise(n,o)}this.$SegmentRequestManager5.lockRequest(n);return p};k.prototype.getResourceTimingEntry=function(l){return this.$SegmentRequestManager5.getResourceTimingEntry(l)};k.prototype.$SegmentRequestManager12=function(l,m){var n=Number.POSITIVE_INFINITY;for(var o=0;o<=l.length;o++){var p=l.length-o,q=p>=1?l[p-1].startTime:Number.NEGATIVE_INFINITY;if(q<=m.startTime&&m.startTime<n){p===l.length?l.push(m):l.splice(p,0,m);return}n=q}};k.prototype.$SegmentRequestManager13=function(){if(!this.$SegmentRequestManager9)return;var l=this.$SegmentRequestManager11(this.$SegmentRequestManager9);l+=this.$SegmentRequestManager10;this.$SegmentRequestManager5.setPriority(l)};k.prototype.$SegmentRequestManager15=function(){this.$SegmentRequestManager5.cancelUnlockedRequests();this.$SegmentRequestManager7.clearAllSegmentPromises()};k.prototype.$SegmentRequestManager16=function(l){for(var m=l,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(c('VideoSegmentInfoHelper').isPrefetchedRequest(q))return;var r=this.$SegmentRequestManager5.enqueue(q);this.$SegmentRequestManager7.appendSegmentPromise(q,new (c('TrackedPromise'))(r))}};k.prototype.abortRequest=function(l){var m=c('VideoSegmentInfoHelper').getRequestCacheKey(l),n=this.$SegmentRequestManager2.get(m);if(n){this.$SegmentRequestManager5.abortLockedRequest(n);this.$SegmentRequestManager7.removeSegmentPromise(n)}};k.prototype.disable=function(){if(this.$SegmentRequestManager8)return;this.$SegmentRequestManager5.cancelUnlockedRequests();this.$SegmentRequestManager5.unload();this.$SegmentRequestManager8=true};k.prototype.enable=function(){this.$SegmentRequestManager8=false};k.prototype.isDisabled=function(){return this.$SegmentRequestManager8};k.prototype.$SegmentRequestManager14=function(l,m){var n=l.playhead,o=l.bufferEnd,p=l.bufferingGoal,q=Math.max(o,n),r=[],s=this.$SegmentRequestManager17(q,m);for(var t=Math.max(s,0);t<m.length;t++){var u=m[t];if(u.startTime>n+p)break;r.push(u)}return r};k.prototype.$SegmentRequestManager17=function(l,m){return c('BinarySearch').leastUpperBound(function(n){var o=this.$SegmentRequestManager18(m[n].startTime),p=this.$SegmentRequestManager18(m[n].endTime);l=this.$SegmentRequestManager18(l);if(o<=l&&p>l)return 0;return o-l}.bind(this),0,0,m.length,function(n,o){return n-o})};k.prototype.$SegmentRequestManager18=function(l){return +l.toFixed(j)||0};f.exports=k}),null);
__d('VideoPlayerLocalBandwidthEstimator',['guid','Banzai','VideoPlayerAbrEvaluation','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$VideoPlayerLocalBandwidthEstimator2=i;this.$VideoPlayerLocalBandwidthEstimator1=j;this.$VideoPlayerLocalBandwidthEstimator3=[];this.$VideoPlayerLocalBandwidthEstimator4=null;this.$VideoPlayerLocalBandwidthEstimator5=c('guid')()}h.prototype.setRepresentationID=function(i){'use strict';this.$VideoPlayerLocalBandwidthEstimator4=i};h.prototype.sample=function(i,j,k,l,m){'use strict';if(k&&this.$VideoPlayerLocalBandwidthEstimator4)this.$VideoPlayerLocalBandwidthEstimator8(i,j,this.$VideoPlayerLocalBandwidthEstimator4,this.$VideoPlayerLocalBandwidthEstimator2.getVideoTracks());this.$VideoPlayerLocalBandwidthEstimator1.sample(i,j,k,l,m)};h.prototype.supportsCaching=function(){'use strict';return this.$VideoPlayerLocalBandwidthEstimator1.supportsCaching()};h.prototype.getBandwidth=function(){'use strict';return this.$VideoPlayerLocalBandwidthEstimator1.getBandwidth()};h.prototype.setResolutionConstraint=function(i,j){'use strict';this.$VideoPlayerLocalBandwidthEstimator6=i;this.$VideoPlayerLocalBandwidthEstimator7=j};h.prototype.$VideoPlayerLocalBandwidthEstimator8=function(i,j,k,l){'use strict';var m=8000*j/i,n=l.filter(function(u){return u.width<=this.$VideoPlayerLocalBandwidthEstimator6||u.height<=this.$VideoPlayerLocalBandwidthEstimator7}.bind(this)),o=this.$VideoPlayerLocalBandwidthEstimator9(m,l),p=this.$VideoPlayerLocalBandwidthEstimator9(m,n),q=l.find(function(u){return u.streamInfoID===k});if(q){if(c('VideoPlayerShakaExperiments').videosAbrDebuggerStorage)c('Banzai').post('video_player_abr',{id:this.$VideoPlayerLocalBandwidthEstimator5,bandwidth:m,chosenBandwidth:q.bandwidth});var r=q.id,s=this.$VideoPlayerLocalBandwidthEstimator10(o,r),t=this.$VideoPlayerLocalBandwidthEstimator10(p,r);if(s!==t)if(s===c('VideoPlayerAbrEvaluation').CONSERVATIVE&&t===c('VideoPlayerAbrEvaluation').IDEAL)s=c('VideoPlayerAbrEvaluation').CONSERVATIVE_RESOLUTION_CONSTRAINED;this.$VideoPlayerLocalBandwidthEstimator3.push(s)}};h.prototype.$VideoPlayerLocalBandwidthEstimator9=function(i,j){'use strict';var k=0;for(var l=0;l<j.length;l++){if(i<=j[l].bandwidth)break;k=j[l].id}return k};h.prototype.$VideoPlayerLocalBandwidthEstimator10=function(i,j){'use strict';return i===j?c('VideoPlayerAbrEvaluation').IDEAL:i>j?c('VideoPlayerAbrEvaluation').CONSERVATIVE:c('VideoPlayerAbrEvaluation').AGGRESSIVE};h.prototype.flushABREvaluationSet=function(){'use strict';var i=this.$VideoPlayerLocalBandwidthEstimator3;this.$VideoPlayerLocalBandwidthEstimator3=[];return i};f.exports=h}),null);
__d('ExtendableVideoPlayerShakaPerformanceTypedLogger',['VideoPlayerShakaPerformanceTypedLogger'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('VideoPlayerShakaPerformanceTypedLogger'));i=h&&h.prototype;j.prototype.setState=function(k){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=k;return i.setState.call(this,k)};j.prototype.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};j.prototype.setSequentialID=function(k){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=k;i.setSequentialID.call(this,k);return this};j.prototype.setParentLogger=function(k){this.setParentID(k.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('VideoPlayerArtilleryOperationMarker',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){this.$VideoPlayerArtilleryOperationMarker2=i;this.$VideoPlayerArtilleryOperationMarker3=j;this.$VideoPlayerArtilleryOperationMarker4=k;this.$VideoPlayerArtilleryOperationMarker5=l;this.$VideoPlayerArtilleryOperationMarker6=false}h.prototype.markOperationStart=function(){return this.$VideoPlayerArtilleryOperationMarker7('Starting')};h.prototype.markOperationEnd=function(){return this.$VideoPlayerArtilleryOperationMarker7('Ending')};h.prototype.$VideoPlayerArtilleryOperationMarker7=function(i){var j=this.$VideoPlayerArtilleryOperationMarker4();if(j)j.inform(i+' '+this.$VideoPlayerArtilleryOperationMarker2+' #'+this.$VideoPlayerArtilleryOperationMarker3,{pointGroup:this.$VideoPlayerArtilleryOperationMarker5.getGroupName(this.$VideoPlayerArtilleryOperationMarker2,this.$VideoPlayerArtilleryOperationMarker1),isPointOfInterest:true,type:null}).addStringAnnotation('resource',this.$VideoPlayerArtilleryOperationMarker1||'').addStringAnnotation('wasPrefetchCacheHit',this.$VideoPlayerArtilleryOperationMarker6.toString());return this};h.prototype.setResource=function(i){this.$VideoPlayerArtilleryOperationMarker1=i;return this};h.prototype.setWasPrefetchCacheHit=function(i){this.$VideoPlayerArtilleryOperationMarker6=i;return this};f.exports=h}),null);
__d('VideoPlayerArtilleryPointGrouper',['Map'],(function a(b,c,d,e,f,g){function h(){'use strict';this.$VideoPlayerArtilleryPointGrouper1=new (c('Map'))();this.$VideoPlayerArtilleryPointGrouper2=new (c('Map'))()}h.prototype.getGroupName=function(i,j){'use strict';if(!j){switch(i){case 'start_streams':i='source_attach';break;}return i}var k=this.$VideoPlayerArtilleryPointGrouper1.get(j);if(k)return k;var l=void 0;if(j.indexOf('-init.m4v')!==-1){l='-init.m4v'}else if(j.indexOf('-init.m4a')!==-1){l='-init.m4a'}else if(j.indexOf('.mpd')!==-1){return 'source_load'}else if(j.indexOf('.m4v')!==-1){l='.m4v'}else if(j.indexOf('.m4a')!==-1){l='.m4a'}else l='unknown';var m=this.$VideoPlayerArtilleryPointGrouper2.get(l)+1||1;this.$VideoPlayerArtilleryPointGrouper2.set(l,m);k=l+' #'+m;this.$VideoPlayerArtilleryPointGrouper1.set(j,k);return k};f.exports=h}),null);
__d('VideoPlayerArtilleryTrace',['TimeSliceInteraction','UserAgentData','VideoPlayerArtilleryOperationMarker','VideoPlayerArtilleryPointGrouper'],(function a(b,c,d,e,f,g){'use strict';var h=30000,i=3000;function j(k,l){this.$VideoPlayerArtilleryTrace13=function(){var m=this.$VideoPlayerArtilleryTrace2;if(m){var n=m.stallTrace,o=m.hasStalls,p=m.stallTraceTimeout;o?n.finish():n.disable();clearTimeout(p)}this.$VideoPlayerArtilleryTrace2=null}.bind(this);this.$VideoPlayerArtilleryTrace17=function(){return this.$VideoPlayerArtilleryTrace1}.bind(this);this.$VideoPlayerArtilleryTrace18=function(){var m=this.$VideoPlayerArtilleryTrace2;return m?m.stallTrace:null}.bind(this);this.$VideoPlayerArtilleryTrace4=l.videoID;this.$VideoPlayerArtilleryTrace5=l.video;this.$VideoPlayerArtilleryTrace6=k;this.$VideoPlayerArtilleryTrace7=l.isLive;this.$VideoPlayerArtilleryTrace9=l.playerOrigin;this.$VideoPlayerArtilleryTrace10=l.playerSuborigin;this.$VideoPlayerArtilleryTrace8=0;this.$VideoPlayerArtilleryTrace11=new (c('VideoPlayerArtilleryPointGrouper'))()}j.prototype.updateBufferAhead=function(k){var l=this.$VideoPlayerArtilleryTrace2;if(!l&&k<=i){this.$VideoPlayerArtilleryTrace2={stallTrace:this.$VideoPlayerArtilleryTrace12(c('TimeSliceInteraction').create('video_stall')),hasStalls:false,stallTraceTimeout:setTimeout(this.$VideoPlayerArtilleryTrace13,h)}}else if(k>i)this.$VideoPlayerArtilleryTrace13();};j.prototype.enterState=function(k){switch(k){case 'loading':this.$VideoPlayerArtilleryTrace14();break;case 'playing':this.$VideoPlayerArtilleryTrace15();break;default:this.$VideoPlayerArtilleryTrace16(k);break;}return this};j.prototype.$VideoPlayerArtilleryTrace16=function(k){var l=this.$VideoPlayerArtilleryTrace1;if(l)l.inform('State: '+k);};j.prototype.getMarkers=function(k){var l=[],m=(++this.$VideoPlayerArtilleryTrace8).toString();if(this.$VideoPlayerArtilleryTrace1)l.push(new (c('VideoPlayerArtilleryOperationMarker'))(k,m,this.$VideoPlayerArtilleryTrace17,this.$VideoPlayerArtilleryTrace11));var n=this.$VideoPlayerArtilleryTrace2;if(n){if(k==='buffering')n.hasStalls=true;l.push(new (c('VideoPlayerArtilleryOperationMarker'))(k,m,this.$VideoPlayerArtilleryTrace18,this.$VideoPlayerArtilleryTrace11))}return l};j.prototype.$VideoPlayerArtilleryTrace14=function(){var k=this.$VideoPlayerArtilleryTrace12(c('TimeSliceInteraction').create('video_psr'));this.$VideoPlayerArtilleryTrace1=k;this.$VideoPlayerArtilleryTrace16('loading')};j.prototype.$VideoPlayerArtilleryTrace15=function(){this.$VideoPlayerArtilleryTrace16('playing');var k=this.$VideoPlayerArtilleryTrace1;if(k){k.finish();this.$VideoPlayerArtilleryTrace1=null}};j.prototype.$VideoPlayerArtilleryTrace12=function(k){k.trace().addStringAnnotation('videoID',this.$VideoPlayerArtilleryTrace4).addStringAnnotation('sessionID',this.$VideoPlayerArtilleryTrace6).addStringAnnotation('browserName',c('UserAgentData').browserName).addStringAnnotation('browserVersion',c('UserAgentData').browserVersion).addStringAnnotation('isLive',this.$VideoPlayerArtilleryTrace7.toString()).addStringAnnotation('playerOrigin',this.$VideoPlayerArtilleryTrace9||'').addStringAnnotation('playerSuborigin',this.$VideoPlayerArtilleryTrace10||'');return k};f.exports=j}),null);
__d('VideoPlayerShakaPerformanceLogger',['ExtendableVideoPlayerShakaPerformanceTypedLogger','ScriptPath','VideoPlayerArtilleryTrace','VideoPlayerShakaPerformanceLoggerConfig'],(function a(b,c,d,e,f,g){'use strict';h.isEnabled=function(){return c('VideoPlayerShakaPerformanceLoggerConfig').isSampled};function h(i){this.$VideoPlayerShakaPerformanceLogger2=i.videoID;this.$VideoPlayerShakaPerformanceLogger4=i.video;this.$VideoPlayerShakaPerformanceLogger1=i.uniqueID;this.$VideoPlayerShakaPerformanceLogger3=0;this.$VideoPlayerShakaPerformanceLogger5=i.representationId;this.$VideoPlayerShakaPerformanceLogger9=i.isLive;this.$VideoPlayerShakaPerformanceLogger8=null;this.$VideoPlayerShakaPerformanceLogger10=i.accessToken;this.$VideoPlayerShakaPerformanceLogger12=i.playerOrigin;this.$VideoPlayerShakaPerformanceLogger13=i.playerSuborigin;this.$VideoPlayerShakaPerformanceLogger11=new (c('VideoPlayerArtilleryTrace'))(this.$VideoPlayerShakaPerformanceLogger1,i)}h.prototype.$VideoPlayerShakaPerformanceLogger14=function(i){var j=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(j.length>0){var k=j.length-1;i=i.setLastBufferedStart(Math.round(j.start(k)*1000)).setLastBufferedEnd(Math.round(j.end(k)*1000));this.$VideoPlayerShakaPerformanceLogger11.updateBufferAhead((j.end(k)-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1000)}var l=[];for(var m=0;m<j.length-1;m++){var n=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(m)*1000),o=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(m)*1000);l.push([n,o])}if(l&&l.length)i=i.setAdditionalBufferedRanges(JSON.stringify(l));return i};h.prototype.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1000):null};h.prototype.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};h.prototype.getEventLogger=function(event){var i=Date.now(),j=new (c('ExtendableVideoPlayerShakaPerformanceTypedLogger'))(),k=this.$VideoPlayerShakaPerformanceLogger4.currentTime;this.$VideoPlayerShakaPerformanceLogger14(j).setEvent(event).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger12).setScriptPath(c('ScriptPath').getScriptPath()).setRepresentationID(this.$VideoPlayerShakaPerformanceLogger5).setPlayhead(Math.round(k*1000)).setIsLive(this.$VideoPlayerShakaPerformanceLogger9).setSession(this.$VideoPlayerShakaPerformanceLogger1).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger6).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger7).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult('success').setAccessToken(this.$VideoPlayerShakaPerformanceLogger10).setClientTimeBegin(i).setClientTimeEnd(i);var l=j.setState;j.setState=function(n){if(n!==this.$VideoPlayerShakaPerformanceLogger6&&n==='playing'){this.$VideoPlayerShakaPerformanceLogger7=Date.now()}else if(n!=='playing')this.$VideoPlayerShakaPerformanceLogger7=null;this.$VideoPlayerShakaPerformanceLogger6=n;this.$VideoPlayerShakaPerformanceLogger11.enterState(n);return l.call(j,n)}.bind(this);j.updateState=function(n){if(j.getState()==this.$VideoPlayerShakaPerformanceLogger6){this.$VideoPlayerShakaPerformanceLogger11.enterState(n);return j.setState(n)}return j}.bind(this);var m=j.setError;j.setError=function(n){if(typeof n==='object'){if(n.type==='aborted'||n.type==='delay'){this.setResult('aborted')}else{this.setResult('failed');m.call(this,n.type)}this.setCode(n.status)}else m.call(this,n);return this};return j};h.prototype.getArtilleryMarkers=function(i){return this.$VideoPlayerShakaPerformanceLogger11.getMarkers(i)};h.prototype.getOperationLogger=function(i){var j=this.getEventLogger(i),k=this.getArtilleryMarkers(i),l=j.setResource;j.setResource=function(n){k.forEach(function(o){return o.setResource(n)});return l.call(j,n)};var m=j.log;j.log=function(){this.setClientTimeEnd(Date.now());k.forEach(function(n){return n.markOperationEnd()});return m.call(this)};j.start=function(){k.forEach(function(n){return n.markOperationStart()});return j};j.setWasPrefetchCacheHit=function(n){k.forEach(function(o){return o.setWasPrefetchCacheHit(n)});return j};j.setLiveheadPosition=function(n){this.$VideoPlayerShakaPerformanceLogger8=n;j.setLiveheadDelta(this.getLiveheadDelta());return j}.bind(this);return j};h.prototype.setRepresentationID=function(i){this.$VideoPlayerShakaPerformanceLogger5=i};f.exports=h}),null);
__d('ViewportPriorityAdjuster',['Event','SubscriptionsHandler','getElementPosition','getViewportDimensions','throttle'],(function a(b,c,d,e,f,g){'use strict';var h=500,i=800;function j(k){this.$ViewportPriorityAdjuster1=function(){};this.$ViewportPriorityAdjuster2=new (c('SubscriptionsHandler'))();this.$ViewportPriorityAdjuster3=k;this.$ViewportPriorityAdjuster2.addSubscriptions(c('Event').listen(window,'scroll',c('throttle')(function(){return this.$ViewportPriorityAdjuster4(k)}.bind(this),h)))}j.prototype.$ViewportPriorityAdjuster5=function(k){if(!k.paused)return 0;var l=c('getViewportDimensions')(),m=c('getElementPosition')(k),n=m.y,o=m.height,p=l.height;if(!n&&!o)return -2;if(n+o<0)return -2;if(n>=0&&n+o<=p+i||n<=0&&n+o>=0)return 0;return -1};j.prototype.$ViewportPriorityAdjuster4=function(k){this.$ViewportPriorityAdjuster1(this.$ViewportPriorityAdjuster5(k))};j.prototype.setOnPriorityChanged=function(k){this.$ViewportPriorityAdjuster1=k};j.prototype.getPriorityAdjustment=function(){return this.$ViewportPriorityAdjuster5(this.$ViewportPriorityAdjuster3)};j.prototype.cleanup=function(){this.$ViewportPriorityAdjuster1=function(){};this.$ViewportPriorityAdjuster2.release()};f.exports=j}),null);
__d('logLongAkamaiRequest',['CurrentUser','JSLog'],(function a(b,c,d,e,f,g){var h=false,i=2,j=[];function k(l){if(c('CurrentUser').isEmployee()&&!h){j=j.filter(function(m){var n=m.time;return Date.now()-n<1000*60*2});j.push({data:l,time:Date.now()});if(j.length>=i){h=true;c('JSLog').warn('Long latency video request to akamai: %s',j.map(function(m){var n=m.data;return n}).join(' ; '))}}}f.exports=k}),null);
__d("VideoPlayerStreamSwitchReasons",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BANDWIDTH:"bandwidth",FORCED:"forced",LOW_BUFFER_AVAILABILITY:"low_buffer_availability",PREFER_QUALITY_CLASS:"prefer_quality_class",USER:"user"})}),null);
__d('CustomAbrManager',['EventListener','SubscriptionsHandler','Shaka','VideoPlayerLoggerSource','VideoPlayerStreamSwitchReasons','VideoPlayerUtils','VideoQualityClasses','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){var h=c('Shaka').player.VideoTrack;function i(j){'use strict';this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;this.$CustomAbrManager3=new (c('SubscriptionsHandler'))();this.$CustomAbrManager4=Number.POSITIVE_INFINITY;this.$CustomAbrManager5=-1;this.$CustomAbrManager6=true;this.$CustomAbrManager7=false;this.$CustomAbrManager8=j.maxWidth;this.$CustomAbrManager9=j.maxHeight;this.$CustomAbrManager10=j.minPlayQuality?j.minPlayQuality:null;this.$CustomAbrManager11=j.maxPlayQuality?j.maxPlayQuality:null;this.$CustomAbrManager12=j.initiallyForcedRepresentations;this.$CustomAbrManager13=j.video;this.$CustomAbrManager24=null;this.$CustomAbrManager21=null;this.$CustomAbrManager23=null;this.$CustomAbrManager22=j.abrLogger;this.$CustomAbrManager25=j.getSource;this.$CustomAbrManager26=null;if(j.enableAdaptation){this.$CustomAbrManager14=j.bandwidthDowngradeTarget;this.$CustomAbrManager15=j.bandwidthUpgradeTarget;this.$CustomAbrManager16=j.useNewBandwidthBandLogic;this.$CustomAbrManager17=j.hvqUpgradeAggressiveness;this.$CustomAbrManager18=j.hvqInlineUpgradeAggressiveness;this.$CustomAbrManager19=j.preHvqUpgradeAggressiveness;this.$CustomAbrManager20=j.preHvqInlineUpgradeAggressiveness}}i.prototype.destroy=function(){'use strict';this.$CustomAbrManager3.release();this.$CustomAbrManager3.engage();this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;this.$CustomAbrManager6=false};i.prototype.setResolutionConstraint=function(j,k){'use strict';this.$CustomAbrManager8=j;this.$CustomAbrManager9=k;this.$CustomAbrManager27({clearBufferIfUpgrading:c('VideoPlayerShakaExperiments').clearBufferOnConstraintChange,clearBufferOffset:c('VideoPlayerShakaExperiments').clearBufferOnConstraintChange?c('VideoPlayerShakaExperiments').clearBufferOnConstraintChangeOffset:0})};i.prototype.initialize=function(j,k){'use strict';if(this.$CustomAbrManager1||this.$CustomAbrManager2)return;this.$CustomAbrManager1=j;this.$CustomAbrManager2=k};i.prototype.start=function(){var j;'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2||this.$CustomAbrManager7)return;this.$CustomAbrManager4=Date.now()+i.FIRST_SWITCH_INTERVAL;if(i.FIRST_SWITCH_INTERVAL===0)this.$CustomAbrManager5=i.FIRST_SWITCH_SEGMENT_INTERVAL;var k=[c('EventListener').listen(this.$CustomAbrManager2,'adaptation',this.$CustomAbrManager28.bind(this)),c('EventListener').listen(this.$CustomAbrManager2,'trackschanged',this.$CustomAbrManager29.bind(this))];if(c('VideoPlayerShakaExperiments').triggerAbrWithTimer){this.$CustomAbrManager30(i.FIRST_SWITCH_INTERVAL)}else k.push(c('EventListener').listen(this.$CustomAbrManager1,'bandwidth',this.$CustomAbrManager31.bind(this)));(j=this.$CustomAbrManager3).addSubscriptions.apply(j,k);this.$CustomAbrManager7=true};i.prototype.$CustomAbrManager29=function(){'use strict';this.$CustomAbrManager27()};i.prototype.setPreferredVideoTrack=function(j){'use strict';this.$CustomAbrManager24=j;this.$CustomAbrManager27({clearBufferIfUpgrading:true,clearBufferOffset:0})};i.prototype.unsetPreferredVideoTrack=function(){'use strict';this.$CustomAbrManager24=null;this.$CustomAbrManager27()};i.prototype.enable=function(j){'use strict';this.$CustomAbrManager6=j};i.prototype.getInitialVideoTrackId=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2)return null;var j=this.$CustomAbrManager32();return j?j.id:null};i.prototype.getInitialSwitchReason=function(){'use strict';return this.$CustomAbrManager23};i.prototype.getInitialAudioTrackId=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2)return null;var j=this.$CustomAbrManager33();return j?j.id:null};i.prototype.selectVideoTrack=function(j,k,l,m){'use strict';if(!this.$CustomAbrManager7)return;this.$CustomAbrManager2.selectVideoTrack(j.id,k,l,m)};i.$CustomAbrManager34=function(j){'use strict';for(var k=0;k<j.length;++k)if(j[k].active)return j[k];return null};i.prototype.$CustomAbrManager30=function(j){'use strict';if(!this.$CustomAbrManager6)return;if(this.$CustomAbrManager26)clearTimeout(this.$CustomAbrManager26);this.$CustomAbrManager26=setTimeout(function(){return this.$CustomAbrManager27()}.bind(this),j)};i.prototype.$CustomAbrManager31=function(){'use strict';if(this.$CustomAbrManager5<0){if(Date.now()<this.$CustomAbrManager4)return;}else{var j=this.$CustomAbrManager2?this.$CustomAbrManager2.getFetchedVideoSegmentsCount():0;if(this.$CustomAbrManager5>j)return;this.$CustomAbrManager5=-1}this.$CustomAbrManager27()};i.prototype.$CustomAbrManager27=function(){var j=arguments.length<=0||arguments[0]===undefined?{clearBufferIfUpgrading:false,clearBufferOffset:0}:arguments[0];'use strict';if(!this.$CustomAbrManager6)return;var k=j.clearBufferIfUpgrading,l=j.clearBufferOffset,m=this.$CustomAbrManager32();if(m){if(m.active){if(c('VideoPlayerShakaExperiments').triggerAbrWithTimer){this.$CustomAbrManager30(i.MIN_EVAL_INTERVAL)}else this.$CustomAbrManager4=Date.now()+i.MIN_EVAL_INTERVAL;return}var n=false;if(k){var o=i.$CustomAbrManager34(this.$CustomAbrManager2.getVideoTracks());n=o?h.compare(o,m)<0:false}this.selectVideoTrack(m,n,l,this.$CustomAbrManager21)}if(!c('VideoPlayerShakaExperiments').triggerAbrWithTimer)this.$CustomAbrManager4=Number.POSITIVE_INFINITY;};i.prototype.$CustomAbrManager28=function(event){'use strict';if(c('VideoPlayerShakaExperiments').triggerAbrWithTimer){this.$CustomAbrManager30(i.MIN_SWITCH_INTERVAL)}else if(this.$CustomAbrManager4==Number.POSITIVE_INFINITY)this.$CustomAbrManager4=Date.now()+i.MIN_SWITCH_INTERVAL;};i.prototype.$CustomAbrManager35=function(j,k){'use strict';if(this.$CustomAbrManager22)this.$CustomAbrManager22.setEvent('track_selection').setReason(j).setRepresentationID(k.streamInfoID).log();};i.prototype.$CustomAbrManager32=function(){var j,k=this,l;'use strict';var m=this.$CustomAbrManager2.getVideoTracks();if(m.length==0)return null;if(!this.$CustomAbrManager7)for(var n=0;n<m.length;n++)if(this.$CustomAbrManager12&&this.$CustomAbrManager12.includes(m[n].streamInfoID)){this.$CustomAbrManager21=c('VideoPlayerStreamSwitchReasons').FORCED;this.$CustomAbrManager23=c('VideoPlayerStreamSwitchReasons').FORCED;this.$CustomAbrManager35(this.$CustomAbrManager21,m[n]);return m[n]}if(this.$CustomAbrManager24){var j=function(){var ia=k.$CustomAbrManager24.id,ja=m.find(function(ka){return ka.id===ia});if(ja){k.$CustomAbrManager21=c('VideoPlayerStreamSwitchReasons').USER;k.$CustomAbrManager35(k.$CustomAbrManager21,ja);return {v:ja}}}();if(typeof j==="object")return j.v;}m.sort(h.compare);if(this.$CustomAbrManager10!==null||this.$CustomAbrManager11!==null){var l=function(){var ia=k.$CustomAbrManager10!==null?c('VideoQualityClasses').indexOf(k.$CustomAbrManager10):0,ja=k.$CustomAbrManager11!==null?c('VideoQualityClasses').indexOf(k.$CustomAbrManager11):c('VideoQualityClasses').length-1;if(ia<=ja){var ka=m.filter(function(ma){return c('VideoQualityClasses').indexOf(ma.fbQualityClass)>=ia&&c('VideoQualityClasses').indexOf(ma.fbQualityClass)<=ja});k.$CustomAbrManager21=c('VideoPlayerStreamSwitchReasons').PREFER_QUALITY_CLASS;if(!ka.length){k.$CustomAbrManager35(k.$CustomAbrManager21,m[m.length-1]);return {v:m[m.length-1]}}var la=c('VideoQualityClasses').indexOf('sd');if(m.length==2&&ka.length==2&&ja<=la){k.$CustomAbrManager35(k.$CustomAbrManager21,m[0]);return {v:m[0]}}m=ka}}();if(typeof l==="object")return l.v;}var o=m[0],p=this.$CustomAbrManager9,q=this.$CustomAbrManager8,r=m;m=m.filter(function(ia){return ia.width<=q||ia.height<=p});var s=i.$CustomAbrManager34(this.$CustomAbrManager2.getAudioTracks()),t=s?s.bandwidth:0,u=i.$CustomAbrManager34(r),v=r.indexOf(u),w=c('VideoPlayerUtils').getBufferedAheadOf(this.$CustomAbrManager13);if(w<c('VideoPlayerShakaExperiments').forceLowestRepresentationThreshold){var x=0;if(v>-1)x=Math.floor(v*c('VideoPlayerShakaExperiments').forceLowerRepresentationStepRatio);if(x>=m.length)x=m.length-1;this.$CustomAbrManager21=c('VideoPlayerStreamSwitchReasons').LOW_BUFFER_AVAILABILITY;o=m[x];this.$CustomAbrManager35(this.$CustomAbrManager21,o);return o}else{var y=this.$CustomAbrManager1.getBandwidth(),z=0;for(var aa=0;aa<m.length;aa++){var ba=m[aa],ca=aa+1<m.length?m[aa+1]:{bandwidth:Number.POSITIVE_INFINITY};if(!ba.bandwidth)continue;var da=this.$CustomAbrManager36(ba,ca,w,this.$CustomAbrManager25&&this.$CustomAbrManager25()),ea=this.$CustomAbrManager16?z:(ba.bandwidth+t)/this.$CustomAbrManager14,fa=(ca.bandwidth+t)/da;z=fa;var ga=c('VideoPlayerShakaExperiments').useBufferDowngradeThreshold,ha=c('VideoPlayerShakaExperiments').bufferDowngradeThreshold;if(ga&&w>ha&&aa<=v){o=u?u:ba;continue}if(y>=ea&&y<=fa){o=ba;if(o.active)break;}}this.$CustomAbrManager21=c('VideoPlayerStreamSwitchReasons').BANDWIDTH}this.$CustomAbrManager35(this.$CustomAbrManager21,o);return o};i.prototype.$CustomAbrManager36=function(j,k,l,m){'use strict';var n=1;if(!j.isInlineHVQ&&k.isInlineHVQ){n=this.$CustomAbrManager20}else if(j.isInlineHVQ&&m===c('VideoPlayerLoggerSource').INLINE){n=this.$CustomAbrManager18}else if(j.isHVQ)n=this.$CustomAbrManager17;var o=c('VideoPlayerShakaExperiments').bufferTarget,p=o>-1;if(p){var q=l>o,r=q?c('VideoPlayerShakaExperiments').bufferTargetOverflowUpgradeAggressiveness:c('VideoPlayerShakaExperiments').bufferTargetUnderflowUpgradeAggressiveness;n*=r}return this.$CustomAbrManager15*n};i.prototype.$CustomAbrManager33=function(){'use strict';var j=this.$CustomAbrManager2.getAudioTracks();if(j.length==0)return null;if(!this.$CustomAbrManager7)for(var k=0;k<j.length;k++)if(this.$CustomAbrManager12&&this.$CustomAbrManager12.includes(j[k].streamInfoID))return j[k];return null};i.FIRST_SWITCH_INTERVAL=c('VideoPlayerShakaExperiments').firstSwitchInterval;i.FIRST_SWITCH_SEGMENT_INTERVAL=c('VideoPlayerShakaExperiments').firstSwitchSegmentInterval;i.MIN_SWITCH_INTERVAL=c('VideoPlayerShakaExperiments').minSwitchInterval;i.MIN_EVAL_INTERVAL=c('VideoPlayerShakaExperiments').minEvalInterval;f.exports=i}),null);
__d('VideoPlayerAbrLogger',['VideoPlayerAbrTypedLogger','VideoPlayerShakaBandwidthEstimator','VideoPlayerUtils','VideoPlayerShakaExperiments','VideoPlayerAbrLoggerConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('VideoPlayerAbrTypedLogger'));i=h&&h.prototype;function j(k){i.constructor.call(this);i.setSession.call(this,k.uniqueID);i.setVideoID.call(this,k.videoID);this.$VideoPlayerAbrLogger4()}j.prototype.setVideoElement=function(k){this.$VideoPlayerAbrLogger3=k;return this};j.prototype.setBytes=function(k){this.$VideoPlayerAbrLogger1.bytes=k;return this};j.prototype.setDelayMs=function(k){this.$VideoPlayerAbrLogger1.delayMs=k;return this};j.prototype.setEvent=function(event){this.$VideoPlayerAbrLogger1.event=event;return this};j.prototype.setUnsampledReason=function(k){this.$VideoPlayerAbrLogger1.unsampledReason=k;return this};j.prototype.setReason=function(k){this.$VideoPlayerAbrLogger1.reason=k;return this};j.prototype.setRepresentationID=function(k){this.$VideoPlayerAbrLogger2=k;return this};j.prototype.setClientTimeBegin=function(k){this.$VideoPlayerAbrLogger1.clientTimeBegin=k;return this};j.prototype.setClientTimeEnd=function(k){this.$VideoPlayerAbrLogger1.clientTimeEnd=k;return this};j.prototype.$VideoPlayerAbrLogger4=function(){this.$VideoPlayerAbrLogger1={bytes:null,delayMs:null,event:null,unsampledReason:null,reason:null,clientTimeBegin:null,clientTimeEnd:null}};j.prototype.$VideoPlayerAbrLogger5=function(){if(this.$VideoPlayerAbrLogger1.event==null)return;i.setBytes.call(this,this.$VideoPlayerAbrLogger1.bytes);i.setDelayMs.call(this,this.$VideoPlayerAbrLogger1.delayMs);i.setEvent.call(this,this.$VideoPlayerAbrLogger1.event);i.setUnsampledReason.call(this,this.$VideoPlayerAbrLogger1.unsampledReason);i.setReason.call(this,this.$VideoPlayerAbrLogger1.reason);var k=this.$VideoPlayerAbrLogger1.clientTimeBegin,l=this.$VideoPlayerAbrLogger1.clientTimeEnd;if(k==null){k=Date.now();l=k}else if(l==null)l=k;i.setClientTimeBegin.call(this,k);i.setClientTimeEnd.call(this,l)};j.prototype.log=function(){if(c('VideoPlayerShakaExperiments').enableClientSideAbrLoggerSampling&&!c('VideoPlayerAbrLoggerConfig').isSampled)return;this.$VideoPlayerAbrLogger5();i.setBandwidthEstimate.call(this,parseInt(c('VideoPlayerShakaBandwidthEstimator').getBandwidth(),10));i.setRepresentationID.call(this,this.$VideoPlayerAbrLogger2);if(this.$VideoPlayerAbrLogger3){i.setPlayhead.call(this,Math.round(this.$VideoPlayerAbrLogger3.currentTime*1000));i.setBufferedAhead.call(this,Math.round(c('VideoPlayerUtils').getBufferedAheadOf(this.$VideoPlayerAbrLogger3)))}i.log.call(this);this.$VideoPlayerAbrLogger4()};f.exports=j}),null);
__d('PerformanceResourceBuffer',['BanzaiODS','EventEmitter'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=b.__isResourceTimingBufferFull;delete b.__isResourceTimingBufferFull;performance.onresourcetimingbufferfull=function(){j=true;if(k)k.emit('full');};var k=void 0;h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;function l(){i.constructor.call(this)}l.prototype.isBufferFull=function(){return j};k=new l();if(k.isBufferFull()){c('BanzaiODS').bumpEntityKey('performance','resourcetimingbufferfull')}else k.addListener('full',function(){return c('BanzaiODS').bumpEntityKey('performance','resourcetimingbufferfull')});f.exports=k}),null);
__d('VideoPlayerLiveStreamState',['RTISubscriptionManager','EventEmitter'],(function a(b,c,d,e,f,g){'use strict';var h,i,j={interrupt:'streamInterruptAt',ended:'endedAt'};h=babelHelpers.inherits(k,c('EventEmitter'));i=h&&h.prototype;function k(l){i.constructor.call(this);this.$VideoPlayerLiveStreamState1=[];for(var m in j)this.$VideoPlayerLiveStreamState1.push(c('RTISubscriptionManager').subscribe('video_broadcast/'+m+'_'+l,this.$VideoPlayerLiveStreamState2.bind(this,j[m])));}k.prototype.unsubscribe=function(){for(var l=this.$VideoPlayerLiveStreamState1,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o;p.unsubscribe()}};k.prototype.$VideoPlayerLiveStreamState2=function(l,m){var n=JSON.parse(m.payload||'{}')||{},o=n.time_position;if(typeof o==='number'){o/=1000;this.emit(l,o)}};f.exports=k}),null);
__d('VideoPlayerHTML5Shaka',['invariant','Promise','CustomAbrManager','EventEmitter','EventListener','Event','TaggedTimeRanges','URI','VideoDashPrefetchCache','VideoPlayerAbrLogger','VideoPlayerLiveStreamState','VideoPlayerMetaData','VideoPlayerShakaBandwidthEstimator','VideoPlayerShakaExperiments','VideoPlayerExperiments','VideoPlayerShakaPerformanceLogger','clearInterval','dispatchEvent','dispatchCustomEvent','dangerouslyOverrideMediaElementEndedProperty','guid','setInterval','Shaka','PerformanceResourceBuffer'],(function a(b,c,d,e,f,g,h){var i,j,k=c('Shaka').player,l=k.Player,m=k.DashVideoSource,n=k.VideoTrack,o=c('Shaka').dash.mpd.parseMpd,p=c('Shaka').util.FailoverUri,q=window.devicePixelRatio||1,r=c('VideoPlayerShakaBandwidthEstimator').getEstimator();c('PerformanceResourceBuffer');p.setPrefetchCacheValueGetter(c('VideoDashPrefetchCache').getCacheValue);function s(u,event){var v=c('EventListener').capture(u.parentNode,event,function(w){if(w.target!=u)return;v.remove();c('Event').kill(w)})}i=babelHelpers.inherits(t,c('EventEmitter'));j=i&&i.prototype;function t(u,v,w){var x=w.videoID,y=w.width,z=w.height,aa=w.manifest,ba=w.manifestUrl,ca=w.isLive,da=w.minPlayQuality,ea=w.maxPlayQuality,fa=w.accessToken,ga=w.startTimestamp,ha=w.playerOrigin,ia=w.playerSuborigin,ja=w.isSpherical,ka=w.getSource;'use strict';j.constructor.call(this);this.$VideoPlayerHTML5Shaka1=da;this.$VideoPlayerHTML5Shaka2=ea;this.$VideoPlayerHTML5Shaka3=false;this.$VideoPlayerHTML5Shaka4=null;this.$VideoPlayerHTML5Shaka5=1;this.$VideoPlayerHTML5Shaka6=false;this.$VideoPlayerHTML5Shaka7=ca;this.$VideoPlayerHTML5Shaka8=ca;this.$VideoPlayerHTML5Shaka9=false;this.$VideoPlayerHTML5Shaka10=ja;this.$VideoPlayerHTML5Shaka11=y;this.$VideoPlayerHTML5Shaka12=z;this.$VideoPlayerHTML5Shaka13=false;this.$VideoPlayerHTML5Shaka14=v;this.$VideoPlayerHTML5Shaka15=null;this.$VideoPlayerHTML5Shaka16=ka;var la=this.$VideoPlayerHTML5Shaka15;this.$VideoPlayerHTML5Shaka17=x;var ma=c('guid')();this.$VideoPlayerHTML5Shaka18=c('VideoPlayerShakaPerformanceLogger').isEnabled()?new (c('VideoPlayerShakaPerformanceLogger'))({videoID:x,video:u,representationId:la,isLive:ca,accessToken:fa,playerOrigin:ha,playerSuborigin:ia,uniqueID:ma}):null;this.$VideoPlayerHTML5Shaka19=new (c('VideoPlayerAbrLogger'))({videoID:x,uniqueID:ma}).setRepresentationID(la).setVideoElement(u);if(!c('VideoPlayerShakaExperiments').improveRebufferLogging)this.$VideoPlayerHTML5Shaka20=true;c('EventListener').listen(u,'playing',this.$VideoPlayerHTML5Shaka21.bind(this));c('EventListener').listen(u,'timeupdate',function(ra){this.$VideoPlayerHTML5Shaka22(ra.target.currentTime)}.bind(this));c('EventListener').listen(u,'pause',this.$VideoPlayerHTML5Shaka23.bind(this));c('EventListener').listen(u,'play',function(){this.$VideoPlayerHTML5Shaka9=true}.bind(this));this.$VideoPlayerHTML5Shaka24=Date.now();if(c('VideoPlayerShakaExperiments').refreshVODManifest)this.$VideoPlayerHTML5Shaka25();this.$VideoPlayerHTML5Shaka26=null;this.$VideoPlayerHTML5Shaka27=null;this.$VideoPlayerHTML5Shaka28=null;this.$VideoPlayerHTML5Shaka29=new l(u,this.$VideoPlayerHTML5Shaka18,this.$VideoPlayerHTML5Shaka19);this.$VideoPlayerHTML5Shaka29.addEventListener('bufferingStart',function(){return this.$VideoPlayerHTML5Shaka30()}.bind(this));this.$VideoPlayerHTML5Shaka29.addEventListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Shaka31()}.bind(this));this.$VideoPlayerHTML5Shaka29.addEventListener('error',function(ra){return this.$VideoPlayerHTML5Shaka32(ra)}.bind(this));this.$VideoPlayerHTML5Shaka29.addEventListener('adaptation',this.$VideoPlayerHTML5Shaka33.bind(this));this.$VideoPlayerHTML5Shaka29.addEventListener('trackschanged',this.$VideoPlayerHTML5Shaka34.bind(this));this.$VideoPlayerHTML5Shaka29.addEventListener('debug/shakaEvent',function(ra){return this.emit('debug/shakaEvent',ra.detail)}.bind(this));this.$VideoPlayerHTML5Shaka29.addEventListener('manifestwrapped',this.$VideoPlayerHTML5Shaka35.bind(this));this.$VideoPlayerHTML5Shaka29.addEventListener('cea608-captions',function(ra){this.emit('cea608CaptionsParsed',ra.detail.captions)}.bind(this));this.$VideoPlayerHTML5Shaka29.addEventListener('manifestIsUpdating',this.$VideoPlayerHTML5Shaka36.bind(this));var na=false,oa=null,pa=null;this.$VideoPlayerHTML5Shaka37=c('VideoPlayerShakaExperiments').liveSendPushHeaders;this.$VideoPlayerHTML5Shaka38=ba;if(aa){this.$VideoPlayerHTML5Shaka39=o(aa,ba)}else{this.$VideoPlayerHTML5Shaka39=ba;na=ba&&ba.indexOf('dash-abr')!==-1}if(na){this.$VideoPlayerHTML5Shaka37=c('VideoPlayerShakaExperiments').liveAbrSendPushHeaders;if(this.$VideoPlayerHTML5Shaka37){oa=c('VideoPlayerShakaExperiments').liveAbrInitialPushRepresentation;pa=c('VideoPlayerShakaExperiments').liveAbrAudioPushRepresentation;this.$VideoPlayerHTML5Shaka14=[c('VideoPlayerShakaExperiments').liveAbrInitialPushRepresentation]}if(c('VideoPlayerShakaExperiments').liveAbrAlwaysForceRepresentation)this.$VideoPlayerHTML5Shaka14=[c('VideoPlayerShakaExperiments').liveAbrInitialPushRepresentation];}this.$VideoPlayerHTML5Shaka40=u;this.$VideoPlayerHTML5Shaka41=this.$VideoPlayerHTML5Shaka42();this.$VideoPlayerHTML5Shaka43=this.$VideoPlayerHTML5Shaka44();var qa=this.getLocalEstimator();if(qa)qa.setResolutionConstraint(this.$VideoPlayerHTML5Shaka45(),this.$VideoPlayerHTML5Shaka46());this.$VideoPlayerHTML5Shaka29.configure({enableAdaptation:this.getIsAbrEnabled(),appendPlayingQueryParam:c('VideoPlayerShakaExperiments').addCdnDebugQueryParameters,endBufferingOnPlaying:c('VideoPlayerShakaExperiments').endBufferingOnPlaying,usePlaybackRateForBuffering:c('VideoPlayerShakaExperiments').improveRebufferLogging,streamBufferSize:c('VideoPlayerShakaExperiments').useStreamBufferSizeOverride?0:this.$VideoPlayerHTML5Shaka47(),initialStreamBufferSize:t.isAutoplayBandwidthRestrained(ca)||c('VideoPlayerShakaExperiments').useStreamBufferSizeOverride?0:this.$VideoPlayerHTML5Shaka48(),smartBufferAdjustmentParams:c('VideoPlayerShakaExperiments').smartBufferAdjustmentParams,dynamicStreamBufferSize:ca?c('VideoPlayerShakaExperiments').liveDynamicStreamBufferSize:null,includeStreamBufferSizeInStartOffset:true,minMpdRefreshInterval:c('VideoPlayerShakaExperiments').minMpdRefreshInterval,disableCacheBustingEvenThoughItMayAffectBandwidthEstimation:true,liveStreamEndTimeout:c('VideoPlayerShakaExperiments').liveStreamEndTimeout/1000,enableLiveInterruptionDetection:true,liveInterruptionConsecutiveUpdatesWithoutChange:c('VideoPlayerShakaExperiments').liveInterruptionConsecutiveUpdatesWithoutChange,liveInterruptionConsecutiveUpdatesWithChange:c('VideoPlayerShakaExperiments').liveInterruptionConsecutiveUpdatesWithChange,liveMaxSegmentsToPush:c('VideoPlayerShakaExperiments').liveMaxSegmentsToPush,liveSendPushHeaders:t.isAutoplayBandwidthRestrained(ca)?false:this.$VideoPlayerHTML5Shaka49(),liveMaxManifestFetchesWithPush:c('VideoPlayerShakaExperiments').liveMaxManifestFetchesWithPush,resolveVideoTimeUpdateOnFragmentedTimeRanges:c('VideoPlayerShakaExperiments').resolveVideoTimeUpdateOnFragmentedTimeRanges,enableManifestDebug:c('VideoPlayerShakaExperiments').enableVideoDebug,reappendInitSegmentAfterAbort:c('VideoPlayerShakaExperiments').reappendInitSegmentAfterAbort,useInlineInitSegment:c('VideoPlayerShakaExperiments').useInlineInitSegment,currentTimeDuringReadyStateZeroThrows:c('VideoPlayerShakaExperiments').currentTimeDuringReadyStateZeroThrows,liveInitialPushRepresentation:oa,liveAudioPushRepresentation:pa,jumpToLiveThreshold:c('VideoPlayerShakaExperiments').jumpToLiveThreshold,liveDataFetchMaxRetries:c('VideoPlayerShakaExperiments').liveDataFetchMaxRetries,liveSourceBufferClearMaxRetries:c('VideoPlayerShakaExperiments').liveSourceBufferClearMaxRetries,useLongCacheForManifest:c('VideoPlayerShakaExperiments').useLongCacheForManifest,jumpToEarliestPositionInCurrentBlock:c('VideoPlayerShakaExperiments').jumpToEarliestPositionInCurrentBlock,ignoreMinBufferTime:c('VideoPlayerShakaExperiments').ignoreMinBufferTime,playheadFragmentedGapDiffAllowance:c('VideoPlayerShakaExperiments').playheadFragmentedGapDiffAllowance,fixBufferingGoalDetermination:c('VideoPlayerShakaExperiments').fixBufferingGoalDetermination,skipEmptySegments:c('VideoPlayerShakaExperiments').skipEmptySegments,useMicroTaskTimeouts:true,enableRequestPipelining:this.$VideoPlayerHTML5Shaka8?c('VideoPlayerShakaExperiments').enableRequestPipeliningForLive:c('VideoPlayerShakaExperiments').enableRequestPipeliningForVod});if(ca){this.$VideoPlayerHTML5Shaka50=new (c('VideoPlayerLiveStreamState'))(x);this.$VideoPlayerHTML5Shaka50.addListener('streamInterruptAt',this.$VideoPlayerHTML5Shaka51.bind(this));['streamInterruptAt','commercialBreakAt','endedAt'].forEach(function(ra){this.$VideoPlayerHTML5Shaka50.addListener(ra,function(event){this.emit('debug/shakaEvent',{type:ra,event:event})}.bind(this))}.bind(this))}if(ga)this.$VideoPlayerHTML5Shaka29.setPlaybackStartTime(ga);this.$VideoPlayerHTML5Shaka29.load(this.$VideoPlayerHTML5Shaka43)['catch'](function(ra){if(this.$VideoPlayerHTML5Shaka3&&c('VideoPlayerShakaExperiments').ignoreErrorsAfterUnload)return;throw ra}.bind(this))}t.prototype.hasSubtitles=function(){'use strict';return this.$VideoPlayerHTML5Shaka43.hasInlinedCea608Subtitles()&&c('VideoPlayerShakaExperiments').enableCea608Parsing};t.prototype.enableSubtitles=function(u){'use strict';this.$VideoPlayerHTML5Shaka43.setEnableCea608Parsing(u&&c('VideoPlayerShakaExperiments').enableCea608Parsing)};t.prototype.getDebug=function(){'use strict';return {AbrManager:this.$VideoPlayerHTML5Shaka41,VideoSource:this.$VideoPlayerHTML5Shaka43,ShakaPlayer:this.$VideoPlayerHTML5Shaka29}};t.getEstimatedBandwidth=function(){'use strict';return r.getBandwidth()};t.isAutoplayBandwidthRestrained=function(u){'use strict';var v=c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained(u);return v};t.prototype.$VideoPlayerHTML5Shaka22=function(u){'use strict';var v=this.$VideoPlayerHTML5Shaka52.get(u);if(!v)return;var w=v.id,x=v.reason,y=v.performanceLogger;if(this.$VideoPlayerHTML5Shaka15!==w){var z=this.$VideoPlayerHTML5Shaka15;this.$VideoPlayerHTML5Shaka15=w;if(y)y.setStreamSwitchReason(x).log();this.emit('representation_ended',{representationID:z,nextRepresentationID:w,streamSwitchReason:x})}};t.prototype.getStreamInfoIDForTimePosition=function(u){'use strict';var v=this.$VideoPlayerHTML5Shaka52.get(u),w=null;if(v)w=v.id;return w};t.prototype.$VideoPlayerHTML5Shaka53=function(u,v){'use strict';if(u.fbQualityLabel){return u.fbQualityLabel}else if(n.compare(u,v[0])==0){return 'SD'}else if(n.compare(u,v[v.length-1])==0){return 'HD'}else return null;};t.prototype.getAvailableVideoQualities=function(){'use strict';if(this.$VideoPlayerHTML5Shaka3)return this.$VideoPlayerHTML5Shaka26;var u=this.$VideoPlayerHTML5Shaka43.getVideoTracks();u.sort(n.compare);return u.every(function(v){return v.fbQualityLabel!==null})?u.map(function(v){return v.fbQualityLabel}):u.length>1?['SD','HD']:['SD']};t.prototype.getVideoProjection=function(){'use strict';return this.$VideoPlayerHTML5Shaka43.getVideoProjection()};t.prototype.getIsAbrEnabled=function(){'use strict';return true};t.prototype.getSelectedVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Shaka3)return this.$VideoPlayerHTML5Shaka27;var u=this.$VideoPlayerHTML5Shaka43.getVideoTracks();u.sort(n.compare);var v=u.find(function(w){return w.active});return v?this.$VideoPlayerHTML5Shaka53(v,u):null};t.prototype.canAutoSelectVideoQuality=function(){'use strict';return true};t.prototype.setPreloadDisabled=function(u){'use strict';if(c('VideoPlayerShakaExperiments').blockAutoplayAllowPreloadSettingsChange)this.$VideoPlayerHTML5Shaka29.configure({initialStreamBufferSize:u?0:this.$VideoPlayerHTML5Shaka48(),liveSendPushHeaders:u?false:this.$VideoPlayerHTML5Shaka49()});};t.prototype.restoreStreamBufferSize=function(){'use strict';if(!c('VideoPlayerShakaExperiments').useStreamBufferSizeOverride)return;this.$VideoPlayerHTML5Shaka29.configure({initialStreamBufferSize:this.$VideoPlayerHTML5Shaka48(),streamBufferSize:this.$VideoPlayerHTML5Shaka47()})};t.prototype.$VideoPlayerHTML5Shaka48=function(){'use strict';return this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveInitialStreamBufferSize:c('VideoPlayerShakaExperiments').initialStreamBufferSize};t.prototype.$VideoPlayerHTML5Shaka47=function(){'use strict';return this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveStreamBufferSize:c('VideoPlayerShakaExperiments').streamBufferSize};t.prototype.$VideoPlayerHTML5Shaka49=function(){'use strict';return this.$VideoPlayerHTML5Shaka37};t.prototype.setPreferredVideoQuality=function(u){'use strict';var v=this.$VideoPlayerHTML5Shaka43.getVideoTracks();v.sort(n.compare);var w=v.find(function(x){return u==this.$VideoPlayerHTML5Shaka53(x,v)}.bind(this));if(w){this.$VideoPlayerHTML5Shaka28=u;this.$VideoPlayerHTML5Shaka41.setPreferredVideoTrack(w)}};t.prototype.unsetPreferredVideoQuality=function(){'use strict';this.$VideoPlayerHTML5Shaka28=null;this.$VideoPlayerHTML5Shaka41.unsetPreferredVideoTrack()};t.prototype.pause=function(){'use strict';if(this.$VideoPlayerHTML5Shaka54&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Shaka55=true;this.$VideoPlayerHTML5Shaka56=true;c('dispatchEvent')(this.$VideoPlayerHTML5Shaka40,'pause');this.$VideoPlayerHTML5Shaka29.setResumeAfterBuffering(false)}else this.$VideoPlayerHTML5Shaka40.pause();};t.prototype.play=function(){'use strict';this.$VideoPlayerHTML5Shaka9=true;if(this.$VideoPlayerHTML5Shaka18&&(this.$VideoPlayerHTML5Shaka40.paused||this.$VideoPlayerHTML5Shaka40.ended))this.$VideoPlayerHTML5Shaka57=this.$VideoPlayerHTML5Shaka18.getOperationLogger('play').setState('pending_play').start();if(this.$VideoPlayerHTML5Shaka54&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Shaka55=false;this.$VideoPlayerHTML5Shaka56=true;c('dispatchEvent')(this.$VideoPlayerHTML5Shaka40,'play');c('dispatchEvent')(this.$VideoPlayerHTML5Shaka40,'waiting');this.$VideoPlayerHTML5Shaka29.setResumeAfterBuffering(true);return c('Promise').resolve()}else return this.$VideoPlayerHTML5Shaka40.play();};t.prototype.$VideoPlayerHTML5Shaka58=function(){'use strict';var u=this.$VideoPlayerHTML5Shaka4;if(u){var v=this.$VideoPlayerHTML5Shaka40.currentTime,w=4,x=v>u-w,y=v>u;if(y){this.emit('debug/shakaEvent',{type:'streamResumedAt',event:this.$VideoPlayerHTML5Shaka4});this.$VideoPlayerHTML5Shaka4=null}else if(this.$VideoPlayerHTML5Shaka54)this.$VideoPlayerHTML5Shaka6=x;}return this.$VideoPlayerHTML5Shaka6};t.prototype.$VideoPlayerHTML5Shaka30=function(){'use strict';if(!c('VideoPlayerShakaExperiments').improveRebufferLogging){s(this.$VideoPlayerHTML5Shaka40,'pause');this.$VideoPlayerHTML5Shaka55=false;this.$VideoPlayerHTML5Shaka56=false}this.$VideoPlayerHTML5Shaka54=true;if(this.$VideoPlayerHTML5Shaka58()){if(!c('VideoPlayerShakaExperiments').fixIsLiveInterruptedBacktest){if(this.$VideoPlayerHTML5Shaka18&&!this.$VideoPlayerHTML5Shaka59)this.$VideoPlayerHTML5Shaka59=this.$VideoPlayerHTML5Shaka18.getOperationLogger('stream_interrupted').start();this.$VideoPlayerHTML5Shaka43.setIsLiveInterrupted(true)}this.emit('streamInterrupted')}else{this.$VideoPlayerHTML5Shaka29.setResumeAfterBuffering(true);this.emit('bufferingStart')}};t.prototype.$VideoPlayerHTML5Shaka31=function(){var u,v=this;'use strict';if(!c('VideoPlayerShakaExperiments').improveRebufferLogging){if(!this.$VideoPlayerHTML5Shaka55)s(this.$VideoPlayerHTML5Shaka40,'play');if(!this.$VideoPlayerHTML5Shaka56)(function(){var w=c('EventListener').capture(v.$VideoPlayerHTML5Shaka40.parentNode,'playing',function(x){if(x.target!=this.$VideoPlayerHTML5Shaka40)return;w.remove();if(this.$VideoPlayerHTML5Shaka20){this.$VideoPlayerHTML5Shaka20=false;return}c('Event').kill(x)}.bind(v))})();}this.$VideoPlayerHTML5Shaka54=false;if(this.$VideoPlayerHTML5Shaka59){this.$VideoPlayerHTML5Shaka59.log();this.$VideoPlayerHTML5Shaka59=null}this.$VideoPlayerHTML5Shaka43.setIsLiveInterrupted(false);if(this.$VideoPlayerHTML5Shaka6){this.$VideoPlayerHTML5Shaka60()}else this.emit('bufferingEnd');};t.prototype.$VideoPlayerHTML5Shaka32=function(u){'use strict';var v=u.detail||{},w=v.type||'undefined',x=v.status||null,y=v.url||null;this.$VideoPlayerHTML5Shaka61();if(this.$VideoPlayerHTML5Shaka7&&Object.values(c('VideoPlayerShakaExperiments').blockPlayRequestHTTPStatusList).indexOf(x)!=-1){if(this.$VideoPlayerHTML5Shaka9){c('dispatchEvent')(this.$VideoPlayerHTML5Shaka40,'playing');this.$VideoPlayerHTML5Shaka9=false}return this.$VideoPlayerHTML5Shaka62()}this.emit('error',{error:'SHAKA_'+w.toUpperCase(),message:v.message,httpStatus:x,url:y});return undefined};t.prototype.unload=function(){'use strict';this.$VideoPlayerHTML5Shaka27=this.getSelectedVideoQuality();this.$VideoPlayerHTML5Shaka26=this.getAvailableVideoQualities();if(!this.$VideoPlayerHTML5Shaka43){this.$VideoPlayerHTML5Shaka7=false}else if(this.$VideoPlayerHTML5Shaka43.isLive()!==null)this.$VideoPlayerHTML5Shaka7=this.$VideoPlayerHTML5Shaka43.isLive();this.$VideoPlayerHTML5Shaka3=true;c('clearInterval')(this.$VideoPlayerHTML5Shaka63);this.$VideoPlayerHTML5Shaka29.unload()['catch'](function(u){if(c('VideoPlayerShakaExperiments').ignoreErrorsAfterUnload)return;throw u})};t.prototype.$VideoPlayerHTML5Shaka42=function(){'use strict';var u={enableAdaptation:this.getIsAbrEnabled(),minPlayQuality:this.$VideoPlayerHTML5Shaka1,maxPlayQuality:this.$VideoPlayerHTML5Shaka2,maxWidth:this.$VideoPlayerHTML5Shaka45(),maxHeight:this.$VideoPlayerHTML5Shaka46(),initiallyForcedRepresentations:this.$VideoPlayerHTML5Shaka14,bandwidthDowngradeTarget:this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveBandwidthDowngradeTarget:c('VideoPlayerShakaExperiments').bandwidthDowngradeTarget,bandwidthUpgradeTarget:this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveBandwidthUpgradeTarget:c('VideoPlayerShakaExperiments').bandwidthUpgradeTarget,useNewBandwidthBandLogic:c('VideoPlayerShakaExperiments').useNewBandwidthBandLogic,hvqUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveHvqUpgradeAggressiveness:c('VideoPlayerShakaExperiments').hvqUpgradeAggressiveness,hvqInlineUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveHvqInlineUpgradeAggressiveness:c('VideoPlayerShakaExperiments').hvqInlineUpgradeAggressiveness,preHvqUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').livePreHvqUpgradeAggressiveness:c('VideoPlayerShakaExperiments').preHvqUpgradeAggressiveness,preHvqInlineUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').livePreHvqInlineUpgradeAggressiveness:c('VideoPlayerShakaExperiments').preHvqInlineUpgradeAggressiveness,video:this.$VideoPlayerHTML5Shaka40,abrLogger:this.$VideoPlayerHTML5Shaka19,getSource:this.$VideoPlayerHTML5Shaka16};return new (c('CustomAbrManager'))(u)};t.prototype.$VideoPlayerHTML5Shaka44=function(){'use strict';this.$VideoPlayerHTML5Shaka41||h(0);this.$VideoPlayerHTML5Shaka39||h(0);var u=new m(this.$VideoPlayerHTML5Shaka39,null,r,this.$VideoPlayerHTML5Shaka41);this.$VideoPlayerHTML5Shaka52=new (c('TaggedTimeRanges'))(function(v,w){return v.id===w.id&&v.reason===w.reason});u.setTaggedTimeRangesEntryAdder(function(v,w,x){this.$VideoPlayerHTML5Shaka52.add(v,w,x)}.bind(this));return u};t.prototype.$VideoPlayerHTML5Shaka64=function(u){'use strict';this.$VideoPlayerHTML5Shaka41=this.$VideoPlayerHTML5Shaka42();this.$VideoPlayerHTML5Shaka43=this.$VideoPlayerHTML5Shaka44();if(this.$VideoPlayerHTML5Shaka58()){this.$VideoPlayerHTML5Shaka5=this.$VideoPlayerHTML5Shaka29.getPlaybackRate();this.$VideoPlayerHTML5Shaka40.playbackRate=0;this.emit('streamInterrupted')}this.$VideoPlayerHTML5Shaka29.setPlaybackStartTime(u);this.$VideoPlayerHTML5Shaka3=false;return this.$VideoPlayerHTML5Shaka29.load(this.$VideoPlayerHTML5Shaka43).then(function(){if(this.$VideoPlayerHTML5Shaka7!=this.$VideoPlayerHTML5Shaka43.isLive())return this.$VideoPlayerHTML5Shaka62();if(this.$VideoPlayerHTML5Shaka28)this.setPreferredVideoQuality(this.$VideoPlayerHTML5Shaka28);this.$VideoPlayerHTML5Shaka27=null;this.$VideoPlayerHTML5Shaka65=null;return undefined}.bind(this))};t.prototype.$VideoPlayerHTML5Shaka66=function(u){'use strict';if(this.$VideoPlayerHTML5Shaka3&&c('VideoPlayerShakaExperiments').ignoreErrorsAfterUnload)return;throw u};t.prototype.reload=function(u){'use strict';if(!this.$VideoPlayerHTML5Shaka3)return;if(c('VideoPlayerShakaExperiments').refreshVODManifest){this.$VideoPlayerHTML5Shaka25().then(function(){return this.$VideoPlayerHTML5Shaka64(u)}.bind(this))['catch'](function(v){return this.$VideoPlayerHTML5Shaka66(v)}.bind(this))}else this.$VideoPlayerHTML5Shaka64(u)['catch'](function(v){return this.$VideoPlayerHTML5Shaka66()}.bind(this));};t.prototype.setPlaybackRate=function(u){'use strict';this.$VideoPlayerHTML5Shaka5=u;if(!this.$VideoPlayerHTML5Shaka58())this.$VideoPlayerHTML5Shaka29.setPlaybackRate(u);};t.prototype.setSmartBufferAdjustmentEnabled=function(u){'use strict';this.$VideoPlayerHTML5Shaka29.configure({smartBufferAdjustmentEnabled:u})};t.prototype.setVideoStreamOffset=function(u){'use strict';this.$VideoPlayerHTML5Shaka29.setVideoStreamOffset(u)};t.prototype.$VideoPlayerHTML5Shaka62=function(){'use strict';c('dispatchEvent')(this.$VideoPlayerHTML5Shaka40,'seeked');c('dispatchEvent')(this.$VideoPlayerHTML5Shaka40,'playing');if(c('VideoPlayerExperiments').abortLoadingDecisioningLogic){c('dispatchCustomEvent')(this.$VideoPlayerHTML5Shaka40,'pause',c('dangerouslyOverrideMediaElementEndedProperty')());c('dispatchEvent')(this.$VideoPlayerHTML5Shaka40,'ended')}else if(c('VideoPlayerShakaExperiments').endLivePlaybackWithPause){c('dispatchEvent')(this.$VideoPlayerHTML5Shaka40,'pause')}else c('dispatchEvent')(this.$VideoPlayerHTML5Shaka40,'ended');this.emit('streamResumed');this.$VideoPlayerHTML5Shaka50.unsubscribe();this.unload()};t.prototype.getLongestInitResponseTime=function(){'use strict';return this.$VideoPlayerHTML5Shaka43.getLongestInitResponseTime()};t.prototype.getLocalEstimator=function(){'use strict';return this.$VideoPlayerHTML5Shaka43.getLocalEstimator()};t.$VideoPlayerHTML5Shaka67=function(){'use strict';return c('VideoPlayerShakaExperiments').resolutionConstraintFactor*q};t.prototype.$VideoPlayerHTML5Shaka45=function(){'use strict';if(this.$VideoPlayerHTML5Shaka10||!c('VideoPlayerShakaExperiments').useResolutionConstraints)return Infinity;return this.$VideoPlayerHTML5Shaka11*t.$VideoPlayerHTML5Shaka67()};t.prototype.$VideoPlayerHTML5Shaka46=function(){'use strict';if(this.$VideoPlayerHTML5Shaka10||!c('VideoPlayerShakaExperiments').useResolutionConstraints)return Infinity;return this.$VideoPlayerHTML5Shaka12*t.$VideoPlayerHTML5Shaka67()};t.prototype.setDimensions=function(u,v){'use strict';this.$VideoPlayerHTML5Shaka11=u;this.$VideoPlayerHTML5Shaka12=v;var w=this.$VideoPlayerHTML5Shaka45(),x=this.$VideoPlayerHTML5Shaka46();this.$VideoPlayerHTML5Shaka41.setResolutionConstraint(w,x);var y=this.getLocalEstimator();if(y)y.setResolutionConstraint(w,x);};t.isSupported=function(){'use strict';return l.isBrowserSupported()};t.prototype.$VideoPlayerHTML5Shaka34=function(){'use strict';this.emit('tracksChanged')};t.prototype.$VideoPlayerHTML5Shaka33=function(event){'use strict';if(event.contentType==='video'){if(this.$VideoPlayerHTML5Shaka18)this.$VideoPlayerHTML5Shaka18.setRepresentationID(event.id);if(this.$VideoPlayerHTML5Shaka19)this.$VideoPlayerHTML5Shaka19.setRepresentationID(event.id);this.emit('adaptation',{reason:event.reason})}};t.prototype.$VideoPlayerHTML5Shaka51=function(u){'use strict';if(c('VideoPlayerShakaExperiments').fixIsLiveInterruptedBacktest){if(this.$VideoPlayerHTML5Shaka18&&!this.$VideoPlayerHTML5Shaka59)this.$VideoPlayerHTML5Shaka59=this.$VideoPlayerHTML5Shaka18.getOperationLogger('stream_interrupted').start();this.$VideoPlayerHTML5Shaka43.setIsLiveInterrupted(true)}this.$VideoPlayerHTML5Shaka4=u};t.prototype.$VideoPlayerHTML5Shaka36=function(){'use strict';if(this.$VideoPlayerHTML5Shaka58())this.$VideoPlayerHTML5Shaka60();};t.prototype.$VideoPlayerHTML5Shaka60=function(){'use strict';this.$VideoPlayerHTML5Shaka4=null;this.$VideoPlayerHTML5Shaka6=false;this.$VideoPlayerHTML5Shaka43.forceResyncVideoBuffer();this.$VideoPlayerHTML5Shaka29.setPlaybackRate(this.$VideoPlayerHTML5Shaka5);this.emit('streamResumed')};t.prototype.$VideoPlayerHTML5Shaka35=function(){'use strict';var u=this.$VideoPlayerHTML5Shaka18?this.$VideoPlayerHTML5Shaka18.getOperationLogger('manifest_wrapped').setResource(this.$VideoPlayerHTML5Shaka38).start():null,v=!this.$VideoPlayerHTML5Shaka40.paused;this.unload();this.reload().then(function(){if(this.$VideoPlayerHTML5Shaka6)this.$VideoPlayerHTML5Shaka60();if(v)this.play();if(u)u.log();}.bind(this))['catch'](function(w){if(u)u.setError(w).log();})};t.prototype.$VideoPlayerHTML5Shaka21=function(){'use strict';this.$VideoPlayerHTML5Shaka9=false;if(this.$VideoPlayerHTML5Shaka20)this.$VideoPlayerHTML5Shaka20=false;if(this.$VideoPlayerHTML5Shaka57){this.$VideoPlayerHTML5Shaka57.log();this.$VideoPlayerHTML5Shaka57=null}};t.prototype.$VideoPlayerHTML5Shaka23=function(){'use strict';if(this.$VideoPlayerHTML5Shaka9)this.$VideoPlayerHTML5Shaka9=false;if(this.$VideoPlayerHTML5Shaka57){this.$VideoPlayerHTML5Shaka57.setResult('aborted').log();this.$VideoPlayerHTML5Shaka57=null}};t.prototype.$VideoPlayerHTML5Shaka68=function(){'use strict';if(this.$VideoPlayerHTML5Shaka8)return c('Promise').resolve();if(this.$VideoPlayerHTML5Shaka24+1000*60*60<Date.now())return c('VideoPlayerMetaData').genVideoData(this.$VideoPlayerHTML5Shaka17).then(function(u){return this.$VideoPlayerHTML5Shaka69(this.$VideoPlayerHTML5Shaka13?u.getHighlightsManifest():u.getDashManifest())}.bind(this));return c('Promise').resolve()};t.prototype.$VideoPlayerHTML5Shaka69=function(u){'use strict';if(!this.$VideoPlayerHTML5Shaka43)return;this.$VideoPlayerHTML5Shaka39=o(u);if(!this.$VideoPlayerHTML5Shaka3){this.$VideoPlayerHTML5Shaka24=Date.now();this.$VideoPlayerHTML5Shaka43.updateManifest(this.$VideoPlayerHTML5Shaka39)}};t.prototype.$VideoPlayerHTML5Shaka25=function(){'use strict';this.$VideoPlayerHTML5Shaka61();this.$VideoPlayerHTML5Shaka63=c('setInterval')(function(){return this.$VideoPlayerHTML5Shaka68()}.bind(this),1000*60);return this.$VideoPlayerHTML5Shaka68()['catch'](function(){return c('Promise').resolve()})};t.prototype.refreshDashManifest=function(){'use strict';this.unload();var u=c('VideoPlayerMetaData').genVideoData(this.$VideoPlayerHTML5Shaka17);return u.then(function(v){this.$VideoPlayerHTML5Shaka69(v.getDashManifest());this.$VideoPlayerHTML5Shaka13=false}.bind(this))};t.prototype.refreshLiveVODHighlightsManifest=function(){'use strict';this.unload();var u=c('VideoPlayerMetaData').genVideoData(this.$VideoPlayerHTML5Shaka17);return u.then(function(v){this.$VideoPlayerHTML5Shaka69(v.getHighlightsManifest());this.$VideoPlayerHTML5Shaka13=true}.bind(this))};t.prototype.$VideoPlayerHTML5Shaka61=function(){'use strict';c('clearInterval')(this.$VideoPlayerHTML5Shaka63)};t.prototype.isPlayingLiveVODHighlights=function(){'use strict';return this.$VideoPlayerHTML5Shaka13};f.exports=t}),null);
__d('VideoWithLoopingPlayback',['setImmediate','VideoPlayerLoggerSource','VideoPlayerReason'],(function a(b,c,d,e,f,g){function h(i){var j=arguments.length<=1||arguments[1]===undefined?-1:arguments[1];'use strict';this.$VideoWithLoopingPlayback5=function(){var k=this.$VideoWithLoopingPlayback1.getOption('FeedAutoplay','isVisibleForAutoplay'),l=this.$VideoWithLoopingPlayback1.getOption('WatchAndScroll','isActive'),m=this.$VideoWithLoopingPlayback1.getIsInChannel(),n=this.$VideoWithLoopingPlayback1.getSource()===c('VideoPlayerLoggerSource').TAHOE;if((k||k===undefined)&&!l&&!m&&!n&&(!this.$VideoWithLoopingPlayback4||this.$VideoWithLoopingPlayback3<this.$VideoWithLoopingPlayback4)){c('setImmediate')(function(){return this.$VideoWithLoopingPlayback1.play(c('VideoPlayerReason').LOOP)}.bind(this));this.$VideoWithLoopingPlayback3++;if(this.$VideoWithLoopingPlayback4&&this.$VideoWithLoopingPlayback3===this.$VideoWithLoopingPlayback4-1)this.$VideoWithLoopingPlayback1.setOption('Looping','isLooping',false);}}.bind(this);this.$VideoWithLoopingPlayback1=i;this.$VideoWithLoopingPlayback2=true;this.$VideoWithLoopingPlayback3=1;this.$VideoWithLoopingPlayback4=j>-1?j:null;this.$VideoWithLoopingPlayback1.addListener('finishPlayback',this.$VideoWithLoopingPlayback5);this.$VideoWithLoopingPlayback1.registerOption('Looping','isLooping',function(){return this.$VideoWithLoopingPlayback2}.bind(this),function(k){return this.$VideoWithLoopingPlayback6(k)}.bind(this))}h.prototype.isLooping=function(){'use strict';return this.$VideoWithLoopingPlayback2};h.prototype.getLoopCount=function(){'use strict';return this.$VideoWithLoopingPlayback3};h.prototype.getMaxLoopCount=function(){'use strict';return this.$VideoWithLoopingPlayback4};h.prototype.setMaxLoopCount=function(i){'use strict';this.$VideoWithLoopingPlayback4=i>-1?i:null};h.prototype.$VideoWithLoopingPlayback6=function(i){'use strict';this.$VideoWithLoopingPlayback2=i};f.exports=h}),null);
__d('shouldWNSRenderToRHC',['ge'],(function a(b,c,d,e,f,g){'use strict';function h(){return !!c('ge')('fbRHCVideoWNS-container')}f.exports=h}),null);
__d('Tahoe',[],(function a(b,c,d,e,f,g){var h=null,i={get:function j(){return h},set:function j(k){h=k}};f.exports=i}),null);
__d("AdBreakInsertionDisabledReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BRANDED_CONTENT:"branded_content",BROADCAST:"broadcast",HAS_LIVE_AD_BREAKS:"has_live_ad_breaks",NO_PERMISSION:"no_permission",NOT_ONBOARDED:"not_onboarded",NOT_ORGANIC_UPLOAD:"not_organic_upload",VIDEO_TOO_SHORT:"video_too_short"})}),null);
__d('VideoInstreamUtils',['fbt','AdBreakInsertionDisabledReason','DateConsts','Set','VideoInstreamAdsConstants'],(function a(b,c,d,e,f,g,h){var i={convertFormattedTimeToSeconds:function j(k){var l=0,m=k.split('.');if(m.length>2)return null;if(m.length===2){if(m[1].length===0)return null;var n=m[1];while(n.length<3)n+='0';var o=Number(n);if(isNaN(o)||o<0||o>=c('DateConsts').MS_PER_SEC)return null;l+=o/c('DateConsts').MS_PER_SEC}var p=m[0].split(':');if(p.length>3)return null;for(var q=0;q<p.length;q++){if(p[q].length===0)return null;var r=Number(p[q]);if(isNaN(r)||r<0||r>=60)return null;l+=r*Math.pow(60,p.length-q-1)}return l},convertTimestampToFormattedString:function j(k){k=Math.round(k*c('DateConsts').MS_PER_SEC)/c('DateConsts').MS_PER_SEC;var l=Math.floor(k/c('DateConsts').SEC_PER_HOUR),m=k-l*c('DateConsts').SEC_PER_HOUR,n=Math.floor(m/c('DateConsts').SEC_PER_MIN),o=Math.floor(m-n*c('DateConsts').SEC_PER_MIN),p=Math.round(m*c('DateConsts').MS_PER_SEC),q=('0'+l).slice(-2),r=('0'+n).slice(-2),s=('0'+o).slice(-2),t=('00'+p).slice(-3),u='';if(l>0)u+=q+':';return u+=r+':'+s+'.'+t},getMaxPossibleAdBreaks:function j(k){var l=Math.ceil(k)*c('DateConsts').MS_PER_SEC;if(l<c('VideoInstreamAdsConstants').AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;var m=(l-c('VideoInstreamAdsConstants').AD_INSERTION_END_TIME_OFFSET_MS-c('VideoInstreamAdsConstants').AD_INSERTION_START_TIME_OFFSET_MS)/c('VideoInstreamAdsConstants').AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(m)+1)},getEligibleTimeSegments:function j(k,l){if(i.getMaxPossibleAdBreaks(l)===0)return [];var m=c('VideoInstreamAdsConstants').AD_INSERTION_START_TIME_OFFSET_MS/c('DateConsts').MS_PER_SEC,n=l-c('VideoInstreamAdsConstants').AD_INSERTION_END_TIME_OFFSET_MS/c('DateConsts').MS_PER_SEC,o=c('VideoInstreamAdsConstants').AD_INSERTION_INTERVAL_MS/c('DateConsts').MS_PER_SEC;if(k.length===0)return [{start:m,end:n}];var p=[];k.forEach(function(q,r){if(r===0){var s=q.timeOffset-o;if(s>=m)p.push({start:m,end:s});}if(r-1>=0){var t=k[r-1].timeOffset+o,u=q.timeOffset-o;if(t<=u)p.push({start:t,end:u});}if(r===k.length-1){var v=q.timeOffset+o;if(v<=n)p.push({start:v,end:n});}});return p},isInEligibleTimeSegments:function j(k,l,m){if(k===null||k===undefined)return false;var n=i.getEligibleTimeSegments(m,l);for(var o=0;o<n.length;o++)if(k>=n[o].start&&k<=n[o].end)return true;return false},getAdBreakTabState:function j(k,l,m){var n=new (c('Set'))(k);if(i.getMaxPossibleAdBreaks(m)===0)n.add(c('AdBreakInsertionDisabledReason').VIDEO_TOO_SHORT);if(l)n.add(c('AdBreakInsertionDisabledReason').BRANDED_CONTENT);return this._getAdBreakTabStateFromDisabledReasons(n)},_getAdBreakTabStateFromDisabledReasons:function j(k){if(k.size===0){return {disabled:false,errorMessageHeader:null,errorMessageContent:null}}else if(k.has(c('AdBreakInsertionDisabledReason').VIDEO_TOO_SHORT)){return {disabled:true,errorMessageHeader:h._({"*":"Videos Must Be {insertion interval} Seconds or Longer"},[h.param('insertion interval',c('VideoInstreamAdsConstants').AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:h._("Your video is too short to include ad breaks.")}}else if(k.has(c('AdBreakInsertionDisabledReason').NOT_ORGANIC_UPLOAD)){return {disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:h._("Ad breaks can only be placed in original videos, not crossposted or reshared videos.")}}else if(k.has(c('AdBreakInsertionDisabledReason').BRANDED_CONTENT))return {disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:h._("Ad breaks can't be used in this video because it contains tagged business partners.")};return {disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:null}}};f.exports=i}),null);
__d("VideoPlayerFallbackEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENTER:"VideoPlayerFallbackEvents\/enter",RECOVER:"VideoPlayerFallbackEvents\/recover"})}),null);
__d("VideoStereoFormat",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"})}),null);
__d("VideoWebDriverIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_VIDEO:"feed_video",FULLSCREEN_CONTROL:"fullscreen_control",MUTE_UNMUTE_CONTROL:"mute_unmute_control",PLAY_PAUSE_CONTROL:"play_pause_control",WNS_CONTROL:"wns_control",REPLAY_CONTROL:"replay_control"})}),null);