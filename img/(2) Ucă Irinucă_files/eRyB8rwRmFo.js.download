if (self.CavalryLogger) { CavalryLogger.start_js(["38shu"]); }

__d("VideoChannelLoggerEventTargets",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLOSE:"close",WASH:"wash",PREVIOUS_ARROW:"previous_arrow",PREVIOUS_ARROW_KEY:"previous_arrow_key",NEXT_ARROW:"next_arrow",NEXT_ARROW_KEY:"next_arrow_key",UP_NEXT:"up_next",THUMBNAIL:"thumbnail",SHOW_SIDE_PANE:"show_side_pane",HIDE_SIDE_PANE:"hide_side_pane",SHARE:"share",WATCH_AND_SCROLL:"watch_and_scroll",WWW_CHANNEL_PIVOT:"www_channel_pivot",BACK:"back",WNS:"wns",STORY_HEADER:"story_header",SECONDARY_ACTION:"secondary_action",FULLSCREEN:"fullscreen",STORY_DESCRIPTION:"story_description",ACTION_LINK:"action_link",UFI_COUNTS:"ufi_counts",LIKE:"like",COMMENT:"comment",STORY:"story"})}),null);
__d("XChannelToWatchAndScrollNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel-to-wns\/nux\/",{})}),null);
__d("XChannelToWatchAndScrollNuxDismissController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel-to-wns\/nux\/dismiss\/",{})}),null);
__d('VideoChannelWatchAndScrollIcon.react',['cx','fbt','AsyncRequest','Image.react','React','XUIAmbientNUX.react','XChannelToWatchAndScrollNuxController','XChannelToWatchAndScrollNuxDismissController'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={nuxShown:false},this.$VideoChannelWatchAndScrollIcon1=null,this.$VideoChannelWatchAndScrollIcon2=function(event){var s=c('XChannelToWatchAndScrollNuxDismissController').getURIBuilder().getURI(),t=new (c('AsyncRequest'))().setURI(s);t.send();this.props.onClick(event)}.bind(this),this.renderLayers=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.icon}.bind(this),onCloseButtonClick:function(){return this.setState({nuxShown:false})}.bind(this),position:'left',shown:this.state.nuxShown,width:'auto',key:'wns'},i._("You can now enter Watch and Scroll to continue browsing!"))}.bind(this),o}m.prototype.componentDidMount=function(){'use strict';var n=c('XChannelToWatchAndScrollNuxController').getURIBuilder().getURI();this.$VideoChannelWatchAndScrollIcon1=new (c('AsyncRequest'))().setURI(n).setHandler(function(o){if(!o)return;if(o.payload)this.setState({nuxShown:o.payload.shouldShow});}.bind(this));this.$VideoChannelWatchAndScrollIcon1.send()};m.prototype.componentWillUnmount=function(){'use strict';this.$VideoChannelWatchAndScrollIcon1&&this.$VideoChannelWatchAndScrollIcon1.abandon()};m.prototype.render=function(){'use strict';return c('React').createElement('span',null,c('React').createElement('a',{href:'#',className:"_27p2",onClick:this.$VideoChannelWatchAndScrollIcon2,ref:'icon'},c('React').createElement(c('Image.react'),{alt:i._("Enter Watch and Scroll"),height:14,src:'/images/video/player/embedded_controls/icons/wns.png',width:14})),this.renderLayers())};m.propTypes={onClick:l.func.isRequired};f.exports=m}),null);
__d("VideoHomeEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SESSION_PREFETCH:"session_prefetch",SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",SUBSCRIBE_SOME:"subscribe_some",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",MARK_VISIT_WITH_BADGE:"mark_visit_with_badge",MARK_VISIT_WATCHLIST:"mark_visit_watchlist",SECTION_PAGINATION_ERROR:"section_pagination_error",AFTER_PARTY_REACT:"after_party_react",VIDEO_DELETED:"video_deleted",VIDEO_STATUS_CHANGED:"video_status_changed",NAVIGATION:"navigation",OPEN_DIVEBAR:"open_divebar",CONTENT:"content",PULL_TO_REFRESH:"pull_to_refresh",HANDLING_APNS:"handling_apns",AUDIO_STATE:"audio_state",BADGE_FETCHED:"badge_fetched",METADATA_FETCHED:"metadata_fetched",DATA_PREFETCH:"data_prefetch",UNIT_PREFETCH:"unit_prefetch",BADGE_COUNT_FETCH:"badge_count_fetch",GRAPHQL_BADGE_UPDATE_SUBSCRIPTION:"graphql_badge_update_subscription",BADGE_COUNT_FETCH_ON_BADGE_PUSH:"badge_count_fetch_on_badge_push",EMPTY_UNIT:"empty_unit",EMPTY_PAGINATION:"empty_pagination",INVALID_UNIT:"invalid_unit",NO_ITEMS_WITH_HAS_NEXT_PAGE:"no_items_with_has_next_page",SKIPPED_NOT_LIVE_IMPRESSION:"skipped_not_live_impression",COLLAPSED_IMPRESSION:"collapsed_impression",COLLAPSED_NO_VIDEO:"collapsed_no_video",SKIPPED_MF_LIVE_MISMATCH_IMPRESSION:"skipped_mf_live_mismatch_impression",COLLAPSED_WAS_LIVE_LIMIT_IMPRESSION:"collapsed_was_live_limit_impression",IMPRESSION:"impression",VPV:"vpv",VPVD:"vpvd",VPV_DURATION:"vpv_duration",CLICK:"click",SWIPE:"swipe",SESSION_SUMMARY:"session_summary",WATCH_SUMMARY:"watch_summary",DUPLICATE:"duplicate",BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded",END_SCREEN_DISPLAYED:"end_screen_displayed",END_OF_DATA:"end_of_data",END_OF_SECTION:"end_of_section",MARK_DATA_DIRTY:"mark_data_dirty",TAB:"tab",TOPIC_SELECTED:"topic_selected",LOAD_LOADING_CARD_VIEW:"load_loading_card_view",LOAD_ITEMS_LOADING_CARD_VIEW:"load_items_loading_card_view",TTI:"tti",TTI_REALDATA:"tti_realdata",E2E:"e2e",LOAD_SECTION:"load_section",LOAD_ITEMS:"load_items",REACTION_FETCH_UNITS:"reaction_fetch_units",REACTION_UNIT_ID_MEMCACHE_HIT:"reaction_unit_id_memcache_hit",REACTION_UNIT_ID_MEMCACHE_MISS:"reaction_unit_id_memcache_miss",VIDEO_JEWEL_IMPRESSION:"video_jewel_impression",SCROLL_PERF:"scroll_perf",SCROLL_PERF_HSCROLL:"scroll_perf_hscroll",APPENDED_HSCROLL_STORIES:"appended_hscroll_stories",LOAD_UNIT_ATTEMPT:"load_unit_attempt",UNIT_STORY_EXCEPTION:"unit_story_exception",BADGE_SENT:"badge_sent",VIDEO_TAB_SELECTED:"video_tab_selected",BADGE_UPDATE:"badge_update",SOCIAL_GLYPH_IMPRESSION:"social_glyph_impression",RHC_IMPRESSION:"rhc_impression"})}),null);
__d("VideoHomeExitPointTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BACK:"back",URL:"url",BACKGROUND:"background",CHANNEL:"channel",TAB:"tab",DIVEBAR:"divebar",MESSENGER:"messenger",FACECAST:"facecast",LIVE_FULLSCREEN:"live_fullscreen",FULLSCREEN:"fullscreen",SEARCH:"search",UNKNOWN:"unknown"})}),null);
__d("VideoHomeLoggerFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BROADCAST_STATUS:"broadcast_status",BROADCAST_STATUS_EXPLICIT:"broadcast_status_explicit",CHANNEL_ID:"channel_id",REACTION_CHANNEL_ID:"reaction_channel_id",CHANNEL_POSITION:"channel_position",CLICK_TARGET:"click_target",CONNECTION_TYPE:"connection_type",CREATOR_STATUS:"creator_status",DATA_SOURCE:"data_source",DEVICE_YEAR_CLASS:"device_year_class",EVENT:"event",EVENT_TARGET:"event_target",EVENT_TARGET_ID:"event_target_id",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FETCH_COUNT:"fetch_count",FETCH_CURSOR:"fetch_cursor",WITH_FETCH_CURSOR:"with_fetch_cursor",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",IS_LIVE_STREAMING:"is_live_streaming",IS_BROADCAST:"is_broadcast",IS_DIALTONE:"is_dialtone",INITIAL_REQUEST:"initial_request",LOADING_DATA_TYPE:"loading_data_type",REACTION_TYPE:"reaction_type",REQUEST_STATUS:"request_status",PERF_TIME_MS:"perf_time_ms",POSITION_IN_CHANNEL:"position_in_channel",SESSION_DURATION:"session_duration",UNIT_POSITION:"unit_position",POSITION_IN_UNIT:"position_in_unit",SESSION_ID:"session_id",VIDEO_ID:"video",VIDEO_CHANNEL_TYPE:"video_channel_type",REACTION_VIDEO_CHANNEL_TYPE:"reaction_video_channel_type",SECTION_VIDEO_CHANNEL_TYPE:"section_video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",TRACKING_DATA:"tracking_data",TAB_OPTION:"tab_option",REACTION_REQUEST_TYPE:"reaction_request_type",REACTION_UNIT_TYPE:"reaction_unit_type",REACTION_UNIT_NAME:"reaction_unit_name",TTI_TYPE:"tti_type",TIME_SINCE_START:"time_since_start",TIME_SINCE_PREFETCH:"time_since_prefetch",DURATION:"duration",LIVE_NOW_COUNT:"live_now_count",CLIENT_EVENT_TIME:"client_event_time",LAST_VISIT_TIME:"last_visit_time",EVENT_TARGET_INFO:"event_target_info",DUPLICATE_STORY_ID:"duplicate_story_id",DATA_PREFETCH_STATUS:"data_prefetch_status",APNS_PAYLOAD:"apns_payload",AUDIO_MUTED:"audio_muted",AUDIO_EXTERNAL:"audio_external",LAUNCHED_BY_USER:"launched_by_user",VIDEO_WATCHED_COUNT:"video_watched_count",VIDEO_SEARCH_EXPERIENCE:"video_search_experience",INITIAL_VPV_TIMESTAMP_MS:"initial_vpv_timestamp_ms",CURRENT_TIMESTAMP_MS:"current_timestamp_ms",WATCH_TIME_S:"watch_time_s",WATCH_TIME_WITH_SOUND_ON_S:"watch_time_with_sound_on_s",WATCH_TIME_ON_FULL_SCREEN_S:"watch_time_on_full_screen_s",WATCH_TIME_ON_TV_S:"watch_time_on_tv_s",WATCH_TIME_IN_CHANNELS_S:"watch_time_in_channels_s",WATCH_TIME_IN_WATCH_AND_SCROLL_S:"watch_time_in_watch_and_scroll_s",WATCH_TIME_INLINE_S:"watch_time_inline_s",WILL_TRIGGER_RELOAD:"will_trigger_reload",SHOULD_SHOW_PILL:"should_show_pill",CAN_SHOW_PILL:"can_show_pill",CURRENT_SCROLL_OFFSET:"current_scroll_offset",TIME_INTERVAL_SINCE_LAST_DOWNLOAD:"time_interval_since_last_download",DATA_DIRTY_REASON:"data_dirty_reason",TIME_SINCE_APP_OPEN:"time_since_app_open",IS_COLD_START:"is_cold_start",IS_FIRST_SESSION_START:"is_first_session_start",IS_FIRST_TTI:"is_first_tti",ERROR_USER_INFO:"error_user_info",PERF_LOGGER_DOWNLOAD_BANDWIDTH:"perf_logger_download_bandwidth",PERF_LOGGER_STATUS:"perf_logger_status",SCROLL_PERF_DURATION:"scroll_perf_duration",SCROLL_PERF_SMALL_DROP:"scroll_perf_small_drop",SCROLL_PERF_LARGE_DROP:"scroll_perf_large_drop",UNSEEN_NOTIFICATIONS_COUNT:"unseen_notifications_count",PREFETCH_ENABLED:"prefetch_enabled",TAB_SELECTED:"tab_selected",TAB_SELECTION_TYPE:"tab_selection_type",TOPIC_SELECTED:"topic_selected",BADGE_COUNT:"badge_count",OLD_BADGE_COUNT:"old_badge_count",NEW_BADGE_COUNT:"new_badge_count",FETCH_REASON:"fetch_reason",UPDATE_REASON:"update_reason",BADGE_CHECK_INTERVAL:"badge_check_interval",DATA_STALE_INTERVAL:"data_stale_interval",PREFETCH_UNIT_COUNT:"prefetch_unit_count",CLICK_POINT:"click_point",DEST_MODULE:"dest_module",DEST_MODULE_CLASS:"dest_module_class",MODULE_CLASS:"module_class",SOURCE_MODULE:"source_module",NUMBER_OF_SECTION:"number_of_section",NUMBER_OF_COMPONENTS:"number_of_components",ELIGIBLE_FOR_HSCROLL_COUNT:"eligible_for_hscroll_count",RENDERED_IN_HSCROLL_COUNT:"rendered_in_hscroll_count",ASYNCHRONOUSLY_LOADED_HSCROLL_CONTENT:"asynchronously_loaded_hscroll_content",FIRST_N:"first_n",EXCEPTION:"exception",EXCEPTION_TRACE:"exception_trace",REQUESTED_UNIT_IDS:"requested_unit_ids",GENERATED_UNIT_IDS:"generated_unit_ids",IS_VH_SHOWS_ENABLED:"is_vh_shows_enabled",IS_VH_SHOWS_ENABLED_CLIENT:"is_vh_shows_enabled_client"})}),null);
__d("VideoHomeEventTargets",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BOOKMARK:"bookmark",CHANNEL:"channel",STORY:"story",VIDEO:"video",BUTTON:"button",SPINNER:"spinner",NUX:"nux",NONE:"none"})}),null);
__d('VideoHomeViewportTracking',['csx','DOM','VideoHomeEvents','VideoHomeEventTargets','VideoHomeLoggerFields','ViewportTracking','viewportTrackingBuilder'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(n){return {getDataFromConfig:function o(p,q){q.log=p.log},getAllStories:function o(){var p=c('DOM').scry(n.container,"._5bll");return p.filter(function(q){return q.getAttribute('data-home-vpv')})},getStoryID:function o(p){var q=JSON.parse(p.getAttribute('data-home-vpv'));return q&&q.storyID},getDataToLog:function o(p){return JSON.parse(p.getAttribute('data-home-vpv'))}}}i=babelHelpers.inherits(l,c('ViewportTracking'));j=i&&i.prototype;l.prototype.sendDataToLog=function(n,o){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').VPV;p[c('VideoHomeLoggerFields').SESSION_ID]=o.sessionID;p[c('VideoHomeLoggerFields').DATA_SOURCE]=o.dataSource;p[c('VideoHomeLoggerFields').CHANNEL_ID]=o.channelID;p[c('VideoHomeLoggerFields').EVENT_TARGET]=c('VideoHomeEventTargets').STORY;p[c('VideoHomeLoggerFields').EVENT_TARGET_ID]=o.storyID;p[c('VideoHomeLoggerFields').CHANNEL_POSITION]=o.channelPosition;p[c('VideoHomeLoggerFields').POSITION_IN_CHANNEL]=o.positionInChannel;p[c('VideoHomeLoggerFields').TRACKING_DATA]=o.trackingData;this.log&&this.log(p)};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this)};function l(){i.apply(this,arguments)}var m=c('viewportTrackingBuilder')(function(n){var o=new l(k(n));o.init(n);return o});f.exports=m}),null);
__d('VideoHomeLogger',['Arbiter','Banzai','BanzaiLogger','BigPipe','Run','StreamViewportTracking','VideoHomeExitPointTypes','VideoHomeEvents','VideoHomeLoggerFields','VideoHomeViewportTracking','ViewportTrackingConfig'],(function a(b,c,d,e,f,g){var h=void 0,i=void 0,j=void 0,k=0,l={init:function m(n){j=n.session_id;k=Date.now();var o=c('StreamViewportTracking').factory(c('ViewportTrackingConfig'),n.container);i=o;var p=c('VideoHomeViewportTracking').factory({log:l.log,container:n.container,record_delay:0});h=p;c('Arbiter').subscribe(c('BigPipe').Events.init,function(r,s){var t=s.arbiter;if(t){t.subscribe(c('BigPipe').Events.tti,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').TTI;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v)});t.subscribe(c('BigPipe').Events.loaded,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').E2E;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v)})}});function q(){if(j!==n.session_id)return;var r={};r[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_END;r[c('VideoHomeLoggerFields').SESSION_ID]=j;r[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').UNKNOWN;l.log(r);o.updateTimeTrackingData(true);p.updateTimeTrackingData(true);j=null;i=null;h=null}c('Run').onLeave(q);c('Banzai').subscribe(c('Banzai').SHUTDOWN,q)},updateViewportTracking:function m(){if(i){i.fireTimer();i.updateTimeTrackingData(false,'scroll')}if(h){h.fireTimer();h.updateTimeTrackingData(false,'scroll')}},_pause:function m(n,o){if(j){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_PAUSE;p[c('VideoHomeLoggerFields').SESSION_ID]=j;p[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;l.log(p)}},_resume:function m(n,o){if(j){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_RESUME;p[c('VideoHomeLoggerFields').SESSION_ID]=j;p[c('VideoHomeLoggerFields').ENTRY_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;l.log(p)}},getPlayerLoggingData:function m(){if(!j)return {};return {video_home_session_id:j}},log:function m(n){if(j&&k){var o=Date.now()-k;n[c('VideoHomeLoggerFields').TIME_SINCE_START]=o+.001}c('BanzaiLogger').log('VideoHomeLoggerConfig',n)}};c('Arbiter').subscribe('LogEnterChannel',l._pause);c('Arbiter').subscribe('LogExitChannel',l._resume);f.exports=l}),null);
__d("VideoHomeRequestStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"})}),null);
__d("XVideoHomeAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/home\/async\/{id}\/",{id:{type:"String",required:true},session_id:{type:"String",required:true},data_source:{type:"String",required:true},channel_position:{type:"Int",required:true},cursor:{type:"String"},count:{type:"Int",defaultValue:4}})}),null);
__d('VideoHomeCarousel',['collectDataAttributes','AsyncRequest','DOM','VideoHomeLogger','VideoHomeEvents','VideoHomeRequestStatus','VideoHomeLoggerFields','XVideoHomeAsyncController'],(function a(b,c,d,e,f,g){var h={},i={};function j(k,l,m,n,o,p,q){'use strict';this.$VideoHomeCarousel1=k;this.$VideoHomeCarousel2=l;this.$VideoHomeCarousel3=m;this.$VideoHomeCarousel4=n;this.$VideoHomeCarousel5=o;this.$VideoHomeCarousel6=p;this.$VideoHomeCarousel7=q;this.$VideoHomeCarousel8=null;this.$VideoHomeCarousel9=5;if(!this.$VideoHomeCarousel6)this.$VideoHomeCarousel1.endCarousel();this.$VideoHomeCarousel1.subscribe('needsitems',this.$VideoHomeCarousel10.bind(this))}j.register=function(k,l,m,n,o,p,q,r,s){'use strict';var t=l.map(function(u){return c('collectDataAttributes')(u.children[0],['ft'])});h[o]=new j(k,m,n,o,p,q,r);i[o]={videoIDs:s,feedTrackingData:t,cursorInfo:{cursor:r,hasNextPage:q}}};j.getChannelInfoMap=function(){'use strict';return i};j.load=function(k,l,m,n,o){'use strict';var p=l.map(function(s){return c('collectDataAttributes')(s.children[0],['ft'])}),q=i[k];q.videoIDs=q.videoIDs.concat(o);q.feedTrackingData=q.feedTrackingData.concat(p);q.cursorInfo.cursor=n;q.cursorInfo.hasNextPage=m;var r=h[k];r.$VideoHomeCarousel6=m;r.$VideoHomeCarousel7=n;r.$VideoHomeCarousel8=null;if(l&&l.length){l=l.map(function(s){return c('DOM').create('li',{},s)});r.$VideoHomeCarousel1.addItems(l)}if(!m)r.$VideoHomeCarousel1.endCarousel();};j.prototype.$VideoHomeCarousel10=function(){'use strict';if(!this.$VideoHomeCarousel6||this.$VideoHomeCarousel8!==null)return;var k=this.$VideoHomeCarousel3,l=this.$VideoHomeCarousel4,m=c('XVideoHomeAsyncController').getURIBuilder().setString('session_id',this.$VideoHomeCarousel2).setString('data_source',k).setInt('channel_position',this.$VideoHomeCarousel5).setString('id',l);if(this.$VideoHomeCarousel7)m.setString('cursor',this.$VideoHomeCarousel7);var n=m.getURI(),o=Date.now();function p(r){var s={};s[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').LOAD_ITEMS;s[c('VideoHomeLoggerFields').REQUEST_STATUS]=r;s[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-o;s[c('VideoHomeLoggerFields').DATA_SOURCE]=k;s[c('VideoHomeLoggerFields').CHANNEL_ID]=l;c('VideoHomeLogger').log(s)}var q=new (c('AsyncRequest'))().setURI(n).setHandler(function(){p(c('VideoHomeRequestStatus').SUCCEEDED)}).setAbortHandler(function(){p(c('VideoHomeRequestStatus').ABORTED)}).setErrorHandler(function(){p(c('VideoHomeRequestStatus').FAILED);if(q!==this.$VideoHomeCarousel8)return;if(this.$VideoHomeCarousel9>0){this.$VideoHomeCarousel8.abort();this.$VideoHomeCarousel8=null;this.$VideoHomeCarousel10();this.$VideoHomeCarousel9--}else this.$VideoHomeCarousel1.endCarousel();}.bind(this));this.$VideoHomeCarousel8=q;q.send()};f.exports=j}),null);
__d('VideoProgressPreviewBar.react',['cx','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.$VideoProgressPreviewBar2=function(){this.setState({hidden:true});this.$VideoProgressPreviewBar1.release()}.bind(this);this.state={progressPercent:l.initialProgressPercent,hidden:true};this.$VideoProgressPreviewBar1=new (c('SubscriptionsHandler'))();this.props.videoController.registerOption('VideoProgressPreviewComponent','available',function(){return true});this.props.videoController.registerOption('VideoProgressPreviewComponent','destroyed',function(){throw new Error('Option Destroy for VideoProgressPreviewComponent is non readable')},function(){return this.$VideoProgressPreviewBar2()}.bind(this));this.$VideoProgressPreviewBar1.addSubscriptions(l.videoController.addListener('updateStatus',function(m){var n=l.videoController.getPlaybackDuration();this.setState({progressPercent:m.position/n})}.bind(this)),l.videoController.addListener('beginPlayback',function(){this.setState({hidden:false});var m=l.videoController.getOption('VideoControls','areControlsVisible');this.$VideoProgressPreviewBar3(m)}.bind(this)),l.videoController.addListener('finishPlayback',this.$VideoProgressPreviewBar2),l.videoController.addListener('VideoControls/visibilityUpdate',function(m){var n=m.areControlsVisible;return this.$VideoProgressPreviewBar3(n)}.bind(this)),{unsubscribe:function(){this.props.videoController.unregisterOption('VideoProgressPreviewComponent','available');this.props.videoController.unregisterOption('VideoProgressPreviewComponent','destroyed')}.bind(this)})}k.prototype.componentWillUnmount=function(){this.$VideoProgressPreviewBar1.release()};k.prototype.render=function(){if(this.state.hidden)return c('React').createElement('div',null);var l=this.props.width+'px',m=this.props.height+'px',n=this.props.width*this.state.progressPercent,o=c('React').createElement('div',{style:{width:l,height:m}},c('React').createElement('div',{style:{width:l,height:m},className:"_5zl4"}),c('React').createElement('div',{style:{height:m,width:n},className:"_5zl5"}));return o};k.prototype.$VideoProgressPreviewBar3=function(l){if(!l){if(!this.props.hideAfterInitialInteraction)this.setState({hidden:false});return}this.setState({hidden:true});if(this.props.hideAfterInitialInteraction)this.$VideoProgressPreviewBar2();};k.destroyComponentIfAvailable=function(l){var m=l.hasOption('VideoProgressPreviewComponent','destroyed');if(m)l.setOption('VideoProgressPreviewComponent','destroyed',true);};k.defaultProps={initialProgressPercent:0};f.exports=k}),null);
__d('VideoStripThumbnailPlaceholder.react',['cx','React','XUICarouselItem.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.thumbnailWidth,n=this.props.thumbnailHeight,o={height:n+'px',width:m+'px'},p="_4n83"+(this.props.pageLead?' '+"_3ger":''),q=c('React').createElement('span',{className:p,style:o},c('React').createElement('div',{className:"_4n84"}));return c('React').createElement(c('XUICarouselItem.react'),{selected:false},q)};function l(){'use strict';i.apply(this,arguments)}l.propTypes={pageLead:k.bool,thumbnailWidth:k.number.isRequired,thumbnailHeight:k.number.isRequired};f.exports=l}),null);
__d('VideoStripThumbnailCarousel.react',['csx','cx','fbt','invariant','ix','CSS','DOM','DOMContainer.react','Image.react','React','VideoChannelViewVariables','VideoStripThumbnailPlaceholder.react','XUICarousel.react','XUICarouselAnimator','XUICarouselArrow.react','XUICarouselItem.react','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n,o=c('React').PropTypes,p=85,q=8,r=60,s=8,t=c('VideoChannelViewVariables').thumbnailRedesign,u=c('VideoChannelViewVariables').channelPivots,v=t?82:0,w=t?12:0,x=16,y=t?-4:16;m=babelHelpers.inherits(z,c('React').Component);n=m&&m.prototype;function z(aa,ba){'use strict';n.constructor.call(this,aa,ba);this.$VideoStripThumbnailCarousel1=0;this.$VideoStripThumbnailCarousel2=0;this.$VideoStripThumbnailCarousel3=0;this.$VideoStripThumbnailCarousel4=0;this.state={pageNumber:0}}z.prototype.shouldComponentUpdate=function(aa,ba){'use strict';return c('shallowCompare')(this,aa,ba)};z.prototype.componentWillUpdate=function(aa,ba){'use strict';if(!u&&this.props.index!==aa.index){var ca=Math.floor(aa.index/this.$VideoStripThumbnailCarousel3);if(ca!==ba.pageNumber)this.setState({pageNumber:ca});}};z.prototype.componentWillReceiveProps=function(aa){'use strict';if(u&&aa.pageNumber!==this.state.pageNumber)this.setState({pageNumber:aa.pageNumber});};z.prototype.$VideoStripThumbnailCarousel5=function(){'use strict';var aa=z.calculateThumbDimensions(this.props.dialogWidth,this.props.extraThumbnailHeight);this.$VideoStripThumbnailCarousel1=aa.width;this.$VideoStripThumbnailCarousel2=aa.height;this.$VideoStripThumbnailCarousel3=aa.thumbnailsPerPage;this.$VideoStripThumbnailCarousel4=this.$VideoStripThumbnailCarousel6(this.$VideoStripThumbnailCarousel1)};z.calculateThumbDimensions=function(aa,ba){'use strict';var ca=p+ba,da=ca*1.7778,ea=aa-y,fa=Math.floor(ea/(da+q)),ga=ea-fa*q,ha=Math.ceil(ga/(fa+.5)),ia=ha*.5625;return {width:ha,height:ia,thumbnailsPerPage:fa}};z.getVideoStripHeight=function(aa,ba){'use strict';var ca=z.calculateThumbDimensions(aa,ba);return ca.height+s+x+v-w};z.prototype.$VideoStripThumbnailCarousel6=function(aa){'use strict';var ba=this.props.dialogWidth;if(!this.props.hasNext){var ca=this.props.thumbnails.length+this.props.pendingPreviousThumbnails;ba=Math.min(ba,ca*(aa+q))}return ba};z.prototype.$VideoStripThumbnailCarousel7=function(aa,ba,ca,da,ea){'use strict';if(da===this.props.dialogWidth&&ea===0&&this.props.pendingPreviousThumbnails===0){c('CSS').addClass(aa,t?"_533":"_3ger")}else c('CSS').removeClass(aa,t?"_533":"_3ger");var fa=c('DOM').find(aa,"._38a3");c('DOM').setAttributes(aa,{style:{width:ba+'px'}});c('DOM').setAttributes(fa,{style:{width:ba+'px',height:ca+'px'}});return c('React').createElement(c('XUICarouselItem.react'),{key:ea},c('React').createElement(c('DOMContainer.react'),null,aa))};z.prototype.$VideoStripThumbnailCarousel8=function(aa){'use strict';if(this.state.pageNumber<=0){aa.stopPropagation();return}var ba=this.state.pageNumber-1;this.setState({pageNumber:ba});if(u&&this.props.updatePageNumber)this.props.updatePageNumber(ba);aa.stopPropagation()};z.prototype.$VideoStripThumbnailCarousel9=function(aa,ba){'use strict';var ca=this.state.pageNumber+1;if(ba)ca=this.state.pageNumber;this.setState({pageNumber:ca});if(u&&this.props.updatePageNumber)this.props.updatePageNumber(ca);aa.stopPropagation()};z.prototype.$VideoStripThumbnailCarousel10=function(aa){'use strict';var ba=-((r+v)/2),ca={marginTop:ba+'px'},da=l("101565"),ea=l("101566");if(t){da=l("101719");ea=l("101720")}return [c('React').createElement('div',{className:"_1ed1",onClick:function(fa){return this.$VideoStripThumbnailCarousel8(fa)}.bind(this),role:'presentation',style:ca},c('React').createElement(c('XUICarouselArrow.react'),{disabled:this.state.pageNumber===0},c('React').createElement(c('Image.react'),{alt:j._("Prev"),src:da}))),c('React').createElement('div',{className:"_1ed1",onClick:function(fa){return this.$VideoStripThumbnailCarousel9(fa,aa)}.bind(this),role:'presentation',style:ca},c('React').createElement(c('XUICarouselArrow.react'),{disabled:aa},c('React').createElement(c('Image.react'),{alt:j._("Next"),src:ea})))]};z.prototype.render=function(){'use strict';this.$VideoStripThumbnailCarousel5();var aa=new (c('XUICarouselAnimator'))({type:'horizontal'}),ba=null,ca=this.$VideoStripThumbnailCarousel3*this.state.pageNumber,da=ca+this.$VideoStripThumbnailCarousel3,ea=Math.min(da,this.props.thumbnails.length-1);if(this.$VideoStripThumbnailCarousel4===this.props.dialogWidth){var fa=da>this.props.thumbnails.length;ba=this.$VideoStripThumbnailCarousel10(fa)}var ga=this.props.thumbnails,ha=[];for(var ia=0;ia<this.props.pendingPreviousThumbnails;ia++)ha.push(c('React').createElement(c('VideoStripThumbnailPlaceholder.react'),{pageLead:ia===0,thumbnailWidth:this.$VideoStripThumbnailCarousel1,thumbnailHeight:this.$VideoStripThumbnailCarousel2,key:ia-this.props.pendingPreviousThumbnails}));for(ia=ca;ia<=da;ia++)if(ia<=ea){ha.push(this.$VideoStripThumbnailCarousel7(ga[ia],this.$VideoStripThumbnailCarousel1,this.$VideoStripThumbnailCarousel2,this.$VideoStripThumbnailCarousel4,ia-ca))}else if(this.props.hasNext)ha.push(c('React').createElement(c('VideoStripThumbnailPlaceholder.react'),{thumbnailWidth:this.$VideoStripThumbnailCarousel1,thumbnailHeight:this.$VideoStripThumbnailCarousel2,key:ia-ca}));if(ea<da&&this.props.hasNext){this.props.loadNextItems()}else this.props.onAllItemsLoaded();var ja=this.$VideoStripThumbnailCarousel2+s+v;return c('React').createElement(c('XUICarousel.react'),{animator:aa,arrows:ba,initialAutoplay:false,initialIndex:0,onItemClick:function ka(){return null},resizeViewport:'disabled',viewportHeight:ja,viewportWidth:this.$VideoStripThumbnailCarousel4,wrapAround:this.state.pageNumber!==0},ha)};z.propTypes={dialogWidth:o.number.isRequired,extraThumbnailHeight:o.number.isRequired,hasNext:o.bool.isRequired,index:o.number.isRequired,loadNextItems:o.func.isRequired,pendingPreviousThumbnails:o.number.isRequired,thumbnails:o.arrayOf(o.object).isRequired,pageNumber:o.number,updatePageNumber:o.func};f.exports=z}),null);
__d("XVideoChannelViewReactionsTrayAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/reactions\/",{video_id:{type:"FBID",required:true}})}),null);
__d('VideoChannelController',['ix','csx','cx','fbt','Arbiter','AsyncRequest','CSS','DialogX','DOM','DOMDimensions','Event','Image.react','LayerDestroyOnHide','LayerHideOnEscape','LayerHideOnTransition','Map','PageTransitionPriorities','PageTransitions','React','ReactDOM','StreamingReactionsTray','StreamingReactionsTrayEvents','StreamViewportTracking','Style','SubscriptionsHandler','URI','VideoAutoplayControllerX','VideoChainingCaller','VideoChannel','VideoChannelExperiments','VideoChannelLogger','VideoChannelLoggerEvents','VideoChannelLoggerEventTargets','VideoChannelLoggerFields','VideoChannelStoryFetcher','VideoChannelViewVariables','VideoChannelWatchAndScrollIcon.react','VideoHomeCarousel','VideoPlayerLoggerSource','VideoPlayerReason','VideoProgressPreviewBar.react','VideoStripThumbnailCarousel.react','VideoWatchAndScrollController','ViewportTrackingConfig','XUISpinner.react','XVideoChannelViewReactionsTrayAsyncController','collectDataAttributes','fbglyph','ge','getElementPosition','getVendorPrefixedName','getViewportDimensions','throttle'],(function a(b,c,d,e,f,g,h,i,j,k){var l=c('VideoChannelViewVariables').dynamicAspectRatios,m=c('VideoChannelViewVariables').channelRedesign,n=l&&!m?720:560,o=1060,p=.1,q=1080,r=c('VideoChannelViewVariables').wnsFromChannel,s=c('VideoChannelViewVariables').channelPageTransitions,t=300,u=48+56+44,v=480,w=48+48,x=300,y=2160,z=3840,aa=600,ba=c('VideoChannelViewVariables').channelPivots,ca=[c('VideoPlayerLoggerSource').CHANNEL,c('VideoPlayerLoggerSource').INLINE,c('VideoPlayerLoggerSource').PERMALINK];function da(ea,fa,ga,ha,ia,ja){'use strict';this.$VideoChannelController27=new (c('Map'))();this.$VideoChannelController1=ea;this.$VideoChannelController2=fa;this.$VideoChannelController3=ga;this.$VideoChannelController35=ja;this.$VideoChannelController4=[];this.$VideoChannelController13=new (c('SubscriptionsHandler'))();this.$VideoChannelController24=false;this.$VideoChannelController39=false;if(ha&&l){var ka=ha.getVideoNode(),la=ha.getRootNode(),ma=ka.getAttribute('data-original-aspect-ratio');this.$VideoChannelController11=c('DOMDimensions').getElementDimensions(la);if(!ma)ma=this.getOriginalAspectRatio();this.$VideoChannelController40(parseFloat(ma));ha.removeOffsetStylings();ha.setDimensions(this.$VideoChannelController20,this.$VideoChannelController19)}else this.$VideoChannelController40();this.$VideoChannelController25=true;this.$VideoChannelController5=false;this.$VideoChannelController6=null;this.$VideoChannelController41();this.$VideoChannelController29=!!ia&&ia.isFromWNS;this.$VideoChannelController28=!!ia&&ia.isFromVideoViewCarousel;this.$VideoChannelController30=[];this.$VideoChannelController31=[];this.$VideoChannelController32=0;this.$VideoChannelController36=c('URI').getRequestURI();if(this.isPageTransitionEligible()){this.$VideoChannelController37=this.$VideoChannelController42.bind(this);c('PageTransitions').registerHandler(this.$VideoChannelController37,c('PageTransitionPriorities').DEFAULT+5)}this.$VideoChannelController34=c('StreamViewportTracking').factory(c('ViewportTrackingConfig'),this.$VideoChannelController8);if(!this.$VideoChannelController29)c('VideoChannelLogger').startSession(ga,ea,fa);var na=null;if(ha){this.$VideoChannelController24=true;this.$VideoChannelController5=ha.isAd();this.$VideoChannelController6=ha.getAdClientToken();this.$VideoChannelController38=ha.getSource();ha.updateSource(c('VideoPlayerLoggerSource').CHANNEL);this.$VideoChannelController43(ga,ha);var oa=ha.getRootNode();na=c('collectDataAttributes')(oa,['ft']);if(!l)this.$VideoChannelController11=c('DOMDimensions').getElementDimensions(oa);var pa=c('getElementPosition')(oa);if(!this.$VideoChannelController29)this.$VideoChannelController44(ha);this.$VideoChannelController45(pa,ha);ha.emit('VideoChannelController/enterChannel',{});c('VideoAutoplayControllerX').setShouldAutoplay(false);ha.play(c('VideoPlayerReason').USER);ha.unmute();ha.addListener('toggleFullscreen',function(sa){this.$VideoChannelController39=sa.isFullscreen()}.bind(this,ha));this.$VideoChannelController4.push(ha);c('VideoProgressPreviewBar.react').destroyComponentIfAvailable(ha)}else this.$VideoChannelController46();if(ia&&this.$VideoChannelController29){this.$VideoChannelController31=ia.videoPlayerControllers;this.$VideoChannelController32=ia.channelVideoIndex;this.$VideoChannelController30=ia.channelInteractionsToRegister;this.$VideoChannelController33=ia.rootVideoPlayerController;if(this.$VideoChannelController33)this.$VideoChannelController33.updateSource(c('VideoPlayerLoggerSource').CHANNEL);if(this.$VideoChannelController33)this.$VideoChannelController5=this.$VideoChannelController33.isAd();if(ia.storyFetcher)this.$VideoChannelController26=ia.storyFetcher;}if(ia&&this.$VideoChannelController28){var qa=ia.originalVideoIds,ra=ia.shouldFetchMoreVideos;this.$VideoChannelController26=new (c('VideoChannelStoryFetcher'))(this.$VideoChannelController3,this.$VideoChannelController1,fa,this.$VideoChannelController6,null,qa,ra)}if(!this.$VideoChannelController26)this.$VideoChannelController26=new (c('VideoChannelStoryFetcher'))(this.$VideoChannelController3,this.$VideoChannelController1,fa,this.$VideoChannelController6,c('VideoHomeCarousel').getChannelInfoMap()[this.$VideoChannelController1]);if(ba)this.$VideoChannelController27.set(this.$VideoChannelController1,this.$VideoChannelController26);this.$VideoChannelController13.addSubscriptions(c('Event').listen(window,'resize',c('throttle')(this.$VideoChannelController47.bind(this),200)));this.$VideoChannelController26.fetchFirstStory(this.$VideoChannelController24,na,this.$VideoChannelController32>0);c('Arbiter').inform('VideoChannelView/opened',{controller:ha})}da.prototype.$VideoChannelController43=function(ea,fa){'use strict';var ga=ca.indexOf(this.$VideoChannelController38)===-1;if(!ga)return;var ha=c('ge')('fbVideoStreamingReactionsTray');if(!ha)return;var ia=c('XVideoChannelViewReactionsTrayAsyncController').getURIBuilder().setFBID('video_id',ea);new (c('AsyncRequest'))().setURI(ia.getURI()).setAllowCrossPageTransition(true).setMethod('GET').setReadOnly(true).setHandler(function(ja){var ka=ja.payload;if(!ka)return;new (c('StreamingReactionsTray'))(ha,fa,c('VideoPlayerLoggerSource').CHANNEL,ka.feedbackID,ka.broadcastID,ka.profilePicUri,ka.actorProfilePics,true,true)}).send()};da.prototype.isPageTransitionEligible=function(){'use strict';return this.$VideoChannelController2!==c('VideoChainingCaller').LIVE_MAP&&s};da.prototype.$VideoChannelController42=function(ea){'use strict';if(ea.getPath()!=this.$VideoChannelController36.getPath())return false;this.close();c('PageTransitions').transitionComplete();return true};da.prototype.getWnsChannelVideoIndex=function(){'use strict';return this.$VideoChannelController32};da.prototype.getViewportTracker=function(){'use strict';return this.$VideoChannelController34};da.prototype.isOpen=function(){'use strict';return this.$VideoChannelController25};da.prototype.getOriginalAspectRatio=function(){'use strict';return this.$VideoChannelController11.width/this.$VideoChannelController11.height};da.prototype.$VideoChannelController47=function(event){'use strict';this.$VideoChannelController40();c('Arbiter').inform(c('StreamingReactionsTrayEvents').ResizeChannelViewWindow,{videoWidth:this.$VideoChannelController20,videoHeight:this.$VideoChannelController19})};da.prototype.$VideoChannelController40=function(){var ea=arguments.length<=0||arguments[0]===undefined?16/9:arguments[0];'use strict';if(this.$VideoChannelController39)return;var fa=c('getViewportDimensions').withoutScrollbars();if(!this.$VideoChannelController14||this.$VideoChannelController14.width!==fa.width||this.$VideoChannelController14.height!==fa.height){this.$VideoChannelController14=fa;this.$VideoChannelController15=Math.max(n,fa.height);this.$VideoChannelController16=Math.max(o,fa.width);var ga=p*(Math.min(q,this.$VideoChannelController15)-n);if(this.isFromAd())ga=0;var ha=t+ga*2,ia=c('VideoStripThumbnailCarousel.react').getVideoStripHeight(this.$VideoChannelController16,ga);if(m)ha=u+ia;var ja=Math.min(y,this.$VideoChannelController15-ha),ka=this.$VideoChannelController16-(m?w:v)-(this.$VideoChannelController12&&this.$VideoChannelController12.isInDetailsMode()&&m?x:0),la=Math.min(z,ka);this.$VideoChannelController17=la;this.$VideoChannelController18=ja;if(m){this.setVideoDimensions(la,ja,ga)}else{var ma=Math.min(ja,la*(1/ea)),na=Math.min(la,ja*ea);this.setVideoDimensions(na,Math.floor(ma),ga)}if(this.$VideoChannelController12)this.$VideoChannelController12.onWindowResize();}};da.prototype.registerVideoController=function(ea){'use strict';if(this.$VideoChannelController4.includes(ea))return;ea.addListener('toggleFullscreen',function(){return this.$VideoChannelController39=ea.isFullscreen()}.bind(this));this.$VideoChannelController4.push(ea);ea.removeOffsetStylings();ea.setDimensions(this.$VideoChannelController20,this.$VideoChannelController19)};da.prototype.setVideoDimensions=function(ea,fa,ga){'use strict';this.$VideoChannelController20=ea;this.$VideoChannelController19=fa;this.$VideoChannelController21=ga;this.$VideoChannelController4.forEach(function(ha){ha.removeOffsetStylings();ha.setDimensions(this.$VideoChannelController20,this.$VideoChannelController19)}.bind(this))};da.prototype.findVideoControllerForStory=function(ea){'use strict';if(this.isCameFromVideoViewCarousel())return this.$VideoChannelController4[0];return this.$VideoChannelController4.find(function(fa){if(ea.contains(fa.getRootNode()))return true;return false})};da.prototype.getVideoControllers=function(){'use strict';return this.$VideoChannelController4};da.prototype.getAvailableHeight=function(){'use strict';return this.$VideoChannelController48()-this.$VideoChannelController49()};da.prototype.$VideoChannelController48=function(){'use strict';return this.$VideoChannelController15};da.prototype.$VideoChannelController49=function(){'use strict';if(this.isFromAd())return 0;return c('VideoStripThumbnailCarousel.react').getVideoStripHeight(this.$VideoChannelController50(),this.getExtraThumbnailHeight())};da.prototype.getAvailableWidth=function(){'use strict';return this.$VideoChannelController50()};da.prototype.$VideoChannelController50=function(){'use strict';return this.$VideoChannelController16};da.prototype.getVideoHeight=function(){'use strict';return this.$VideoChannelController19};da.prototype.getVideoWidth=function(){'use strict';return this.$VideoChannelController20};da.prototype.getAvailableVideoWidth=function(){'use strict';return this.$VideoChannelController17};da.prototype.getAvailableVideoHeight=function(){'use strict';return this.$VideoChannelController18};da.prototype.getExtraThumbnailHeight=function(){'use strict';return this.$VideoChannelController21};da.prototype.getOriginalVideoPlayerController=function(){'use strict';if(this.$VideoChannelController24)return this.$VideoChannelController4[0];return null};da.prototype.getWNSRootVideoPlayerController=function(){'use strict';return this.$VideoChannelController33};da.prototype.getDialog=function(){'use strict';return this.$VideoChannelController7};da.prototype.getDialogContent=function(){'use strict';return this.$VideoChannelController8};da.prototype.getInteraction=function(){'use strict';return this.$VideoChannelController12};da.prototype.setInteraction=function(ea){'use strict';this.$VideoChannelController12=ea};da.prototype.registerWNSVideoControllers=function(){'use strict';var ea=this.$VideoChannelController12;if(!ea)return;var fa=this.$VideoChannelController31;if(fa&&fa.length){fa.forEach(function(ga){ea.registerVideoController(ga)});this.$VideoChannelController31=[]}};da.prototype.registerChannelInteractionsFromWNS=function(){'use strict';var ea=this.$VideoChannelController12;if(!ea)return;this.$VideoChannelController30.forEach(function(fa){fa()});this.$VideoChannelController30=[]};da.prototype.getStoryFetcher=function(){'use strict';return this.$VideoChannelController26};da.prototype.getStoryFetcherMap=function(){'use strict';return this.$VideoChannelController27};da.prototype.isCameFromVideoViewCarousel=function(){'use strict';return this.$VideoChannelController28};da.prototype.fetchStoriesForChannel=function(ea,fa,ga){'use strict';var ha=this.$VideoChannelController27.get(ea);if(ha)ha.fetchStories(true,fa,ga);};da.prototype.fetchStories=function(ea,fa,ga){'use strict';this.$VideoChannelController26.fetchStories(ea,fa,ga)};da.prototype.hideLoadingState=function(){'use strict';if(this.$VideoChannelController22){c('DOM').remove(this.$VideoChannelController22);this.$VideoChannelController22=null}if(this.$VideoChannelController23){c('DOM').remove(this.$VideoChannelController23);this.$VideoChannelController23=null}};da.prototype.$VideoChannelController46=function(){'use strict';this.$VideoChannelController22=c('DOM').create('div',{className:"_5tl5"});c('ReactDOM').render(c('React').createElement(c('XUISpinner.react'),{size:'large'}),this.$VideoChannelController22);c('DOM').appendContent(document.body,this.$VideoChannelController22);var ea=(this.getAvailableHeight()-this.getVideoHeight())/2,fa=(this.$VideoChannelController50()-this.getVideoWidth())/2;c('Style').set(this.$VideoChannelController22,'height',this.getVideoHeight()+'px');c('Style').set(this.$VideoChannelController22,'width',this.getVideoWidth()+'px');c('Style').set(this.$VideoChannelController22,'left',fa+'px');c('Style').set(this.$VideoChannelController22,'top',ea+'px')};da.prototype.$VideoChannelController44=function(ea){'use strict';var fa=ea.getRootNode();this.$VideoChannelController9=c('DOM').create('div',{className:"_344x"});this.$VideoChannelController9.style.height=this.$VideoChannelController11.height+'px';this.$VideoChannelController9.style.width=this.$VideoChannelController11.width+'px';c('DOM').insertAfter(fa,this.$VideoChannelController9)};da.prototype.$VideoChannelController41=function(){'use strict';var ea={fixedTopPosition:0,width:o,xui:true,addedBehaviors:[c('LayerDestroyOnHide'),c('LayerHideOnEscape'),c('LayerHideOnTransition')]},fa=c('DOM').create('div');c('ReactDOM').render(c('React').createElement('span',null,c('React').createElement('a',{className:"_5tl7",href:'#'},c('React').createElement(c('Image.react'),{alt:k._("Close"),src:h("114709")}))),fa);var ga=new (c('DialogX'))(ea,fa);c('CSS').addClass(ga.getRoot(),"_19u-");if(l&&!m)c('CSS').addClass(ga.getRoot(),"_5p7p");c('Style').set(ga.getContentRoot(),'width','100%');this.$VideoChannelController7=ga;this.$VideoChannelController8=fa;this.$VideoChannelController10=ga.subscribe('hide',this.$VideoChannelController51.bind(this));ga.show();var ha=c('DOM').find(fa,"._5tl7"),ia=c('DOM').find(ga.getRoot(),"._3ixn");this.$VideoChannelController13.addSubscriptions(c('Event').listen(ha,'click',this.$VideoChannelController52.bind(this)),c('Event').listen(ia,'click',this.$VideoChannelController53.bind(this)))};da.prototype.$VideoChannelController54=function(ea){'use strict';var fa={};fa[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').CLICK;fa[c('VideoChannelLoggerFields').EVENT_TARGET]=ea;c('VideoChannelLogger').log(fa)};da.prototype.$VideoChannelController53=function(event){'use strict';this.$VideoChannelController54(c('VideoChannelLoggerEventTargets').WASH);var ea=this.$VideoChannelController12?this.$VideoChannelController12.getCurrentAbsoluteIndex():null,fa=ea!==null?this.getVideoControllers()[ea]:null,ga=r&&fa&&fa.getOption('WatchAndScroll','isEligible')&&c('VideoWatchAndScrollController').hasEnoughSpaceToEnter(fa);if(ga)this.close(true);this.$VideoChannelController7.hide();if(ga)event.preventDefault();};da.prototype.$VideoChannelController52=function(event){'use strict';this.$VideoChannelController54(c('VideoChannelLoggerEventTargets').CLOSE);this.$VideoChannelController7.hide();event.preventDefault()};da.prototype.$VideoChannelController55=function(event){'use strict';this.$VideoChannelController54(c('VideoChannelLoggerEventTargets').WATCH_AND_SCROLL);this.close(true);this.$VideoChannelController7.hide();event.preventDefault()};da.prototype.$VideoChannelController45=function(ea,fa){'use strict';var ga=c('DOM').create('div',{className:"_3x4t"});this.$VideoChannelController23=ga;c('DOM').appendContent(this.$VideoChannelController8,ga);var ha=fa.getRootNode();c('DOM').appendContent(ga,ha);var ia=ea.width,ja=ea.height;if(l){ia=this.getVideoWidth();ja=this.getVideoHeight()}else{ja*=this.getVideoWidth()/ia;ia=this.getVideoWidth();if(ja>this.getVideoHeight()){ia*=this.getVideoHeight()/ja;ja=this.getVideoHeight()}}var ka=(this.getAvailableHeight()-this.getVideoHeight())/2,la=(this.$VideoChannelController50()-this.getVideoWidth())/2,ma=(this.getVideoHeight()-ja)/2,na=(this.getVideoWidth()-ia)/2,oa=ea.y-ka-ma,pa=ea.x-la-na,qa=ea.width/ia;c('Style').set(ga,c('getVendorPrefixedName')('transform'),'translate('+pa+'px,'+oa+'px) scale('+qa+')');c('Style').set(ga,'left',la+'px');c('Style').set(ga,'top',ka+'px');c('Style').set(ga,'padding',ma+'px '+na+'px');fa.removeOffsetStylings();fa.setDimensions(ia,ja);if(this.isFromAd()&&ia>aa&&!fa.isHD()&&fa.hasHD())fa.toggleHD();ga.offsetWidth;c('Style').set(ga,'transition','all .35s cubic-bezier(.46,.22,.36,1) .1s');c('Style').set(ga,c('getVendorPrefixedName')('transform'),'none')};da.prototype.$VideoChannelController51=function(){'use strict';if(!this.isOpen())return;this.close()};da.prototype.isFromAd=function(){'use strict';return this.$VideoChannelController5};da.prototype.getAdClientToken=function(){'use strict';return this.$VideoChannelController6};da.prototype.getVideoChainingCaller=function(){'use strict';return this.$VideoChannelController2};da.prototype.hasNext=function(){'use strict';return this.$VideoChannelController26.hasNext()};da.prototype.hasNextForChannel=function(ea){'use strict';var fa=this.$VideoChannelController27.get(ea);if(fa)return fa.hasNext();return false};da.prototype.updateWNSEligibilityButton=function(ea){'use strict';if(!this.$VideoChannelController8)return;var fa=c('DOM').scry(this.$VideoChannelController8,"._ia9"),ga=fa[0];if(!ga)return;if(ea){c('ReactDOM').render(c('React').createElement(c('VideoChannelWatchAndScrollIcon.react'),{onClick:function(ha){return this.$VideoChannelController55(ha)}.bind(this)}),ga)}else c('ReactDOM').unmountComponentAtNode(ga);};da.prototype.close=function(ea){var fa,ga=this;'use strict';if(!this.$VideoChannelController25)return;this.$VideoChannelController25=false;if(this.$VideoChannelController37&&!c('PageTransitions').isTransitioning()){c('PageTransitions').go(this.$VideoChannelController36);c('PageTransitions').removeHandler(this.$VideoChannelController37,c('PageTransitionPriorities').DEFAULT+5)}this.$VideoChannelController34.updateTimeTrackingData(true);this.$VideoChannelController26.abandonRequest();var ha=this.$VideoChannelController12;if(ea===undefined)ea=this.$VideoChannelController29;var ia=0;if(ea)ia=ha?ha.getCurrentAbsoluteIndex():0;var ja=ea&&ha?ha.getVideoController():this.$VideoChannelController4[ia];if(this.$VideoChannelController24||ea){var ka=true;if(ja.isState('finished'))ka=false;if((!ha||ha.isCenterVideoActive())&&ja.isState('paused'))ka=false;if(ea){(function(){var oa,pa=ga.$VideoChannelController4;if(ha)(function(){var ua={};pa.forEach(function(va){var wa=ha.findStoryForVideoController(va);if(wa){var xa=ha.getStoryIndex(wa);ua[va.getVideoID()]=xa}});pa.sort(function(va,wa){var xa=ua[va.getVideoID()],ya=ua[wa.getVideoID()];return xa-ya})})();var qa=ga.$VideoChannelController26.getPreloadedData(),ra=qa.stories,sa=[pa[0].getRootNode()].concat(ra),ta=c('VideoWatchAndScrollController').getReactContainer();if(ta){ta.setState({channelVideoElements:[]},function(){ta.setState({channelVideoElements:sa,videoIndex:ia},function(){c('VideoWatchAndScrollController').resetFromChannelView(this.$VideoChannelController26,pa,ia)}.bind(this))}.bind(ga))}else c('VideoWatchAndScrollController').startFromChannelView(ga.$VideoChannelController26,pa,ia,sa,{dimensions:ga.$VideoChannelController11,videoRootNode:ga.$VideoChannelController9?ga.$VideoChannelController9.parentNode:null,source:ga.$VideoChannelController38});})()}else{var la=ja.getRootNode();c('DOM').insertAfter(this.$VideoChannelController9,la);c('DOM').remove(this.$VideoChannelController9);if(!ja.isState('fallback')){ja.addOffsetStylings();ja.setDimensions(this.$VideoChannelController11.width,this.$VideoChannelController11.height)}}if(ka&&!ea){if(c('VideoChannelExperiments').exitChannelPauseWithAutoplayController){c('VideoAutoplayControllerX').setShouldAutoplay(false)}else ja.pause(c('VideoPlayerReason').AUTOPLAY);ja.mute();ja.emit('resumeAutoplay')}ja.emit('VideoChannelController/exitChannel')}else if(!ea)ja=null;for(var ma=0;ma<this.$VideoChannelController4.length;ma++){var na=this.$VideoChannelController4[ma];if(ja!==na){na.pause(c('VideoPlayerReason').USER);if(!ea)na.abortLoading();}}this.$VideoChannelController4.forEach(function(oa){if(ea){oa.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL)}else if(this.$VideoChannelController38){oa.updateSource(this.$VideoChannelController38)}else oa.updateSource(c('VideoPlayerLoggerSource').INLINE);}.bind(this));this.hideLoadingState();if(this.$VideoChannelController12)this.$VideoChannelController12.onChannelClose();this.$VideoChannelController7.hide();this.$VideoChannelController10.unsubscribe();this.$VideoChannelController13.release();if(!ea)c('VideoChannelLogger').endSession();c('Arbiter').inform('VideoChannelView/closed');c('VideoAutoplayControllerX').setShouldAutoplay(true);c('VideoChannel').set(null);if(this.$VideoChannelController35)this.$VideoChannelController35();};da.openFromVideoPlayer=function(ea,fa,ga,ha){'use strict';if(ea.isState('fallback'))return;var ia=ea.getOption('VideoWithInstreamVideo','controller');if(ia)ea=ia;if(c('VideoChannel').get())c('VideoChannel').get().getDialog().hide();c('VideoChannel').set(new da(fa,ga,ea.getVideoID(),ea.isPlayerVersion('silvercity')?null:ea,ha))};da.getVideoChannel=function(){'use strict';return c('VideoChannel').get()};da.isChannelActive=function(){'use strict';return !!c('VideoChannel').get()};da.prototype.setupStoryFetcherForChannel=function(ea){'use strict';var fa=new (c('VideoChannelStoryFetcher'))(this.$VideoChannelController3,ea,this.$VideoChannelController2,this.$VideoChannelController6);this.$VideoChannelController27.set(ea,fa)};f.exports=da}),null);
__d("NFXStoryLocation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED:"feed",VIDEO_LIST_CHANNEL:"video_list_channel",VIDEO_PLAYLIST_CHANNEL:"video_playlist_channel",WATCHED_VIDEOS_CHANNEL:"watched_videos_channel",EXPLORE_FEED:"explore_feed",PROFILE_SELF:"profile_self",PROFILE_SOMEONE_ELSE:"profile_someone_else",PAGE:"page",PERMALINK:"permalink",PHOTO_VIEWER:"photo_viewer",PAGE_REVIEW:"page_review",POPULAR_AT:"popular_at",CURATED_SECTION:"curated_section",GROUP:"group",EVENT:"event",SEARCH:"search",UNKNOWN:"unknown",PROFILE_REPORTING_FLOW:"profile_reporting_flow",HEAD_PUBLISHER_APP_MENTIONS_FEED:"head_publisher_app_mentions_feed",MESSENGER:"messenger",MESSENGER_MONTAGE_VIEWER:"messenger_montage_viewer",FUNDRAISER_PAGE_FEED:"fundraiser_page_feed",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",SETTINGS:"settings",LIVE_MAP:"live_map",JOB_BROWSER:"job_browser",CONTENT_OVERLAY:"content_overlay",CHEVRON:"chevron",CHEVRON_GLYPH:"glyph",VIDEO_INLINE_PIVOT:"video_inline_pivot",OBJECTIONABLE_CONTENT_FILTER:"objectionable_content_filter",MESSENGER_THREAD_ACTION_PANEL:"messenger_thread_action_panel",MESSENGER_CONTACT_DETAILS:"messenger_contact_details",TICKER:"ticker",FULLSCREEN_VIDEO_PLAYER:"fullscreen_video_player",ACTIVITY_LOG_FACE_ALERTS:"face_alerts",HELP_COMMUNITY:"help_community",SUPPORT_INBOX:"support_inbox",APP_INVITES_FEED:"app_invites_feed",CHAINING_FEED:"chaining_feed",SOCIAL_REPORTING_REDIRECT:"social_reporting_redirect",WWW_CHAT_HEAD:"www_chat_head",THROWBACK:"throwback",POST_TO_PAGE:"post_to_page",ACTIVITY_LOG:"activity_log",VIDEO_CHANNEL:"video_channel",VIDEO_CHANNELS:"video_channels",VIDEO_HOME:"video_home",REVIEWS_FEED:"reviews_feed",BACKSTAGE:"backstage",MESSENGER_ENCRYPTED_THREAD:"messenger_encrypted_thread",LOCAL_NEWS:"local_news",PLANNED_VIEWING_CURATED:"planned_viewing_curated",MARKETPLACE_BSG_PROFILE:"marketplace_bsg_profile",MARKETPLACE_PDP:"marketplace_pdp",MARKETPLACE_PROFILE:"marketplace_profile",MARKETPLACE_RATING_CONFIRMATION:"marketplace_rating_confirmation",MARKETPLACE_RATING_FLOW:"marketplace_rating_flow",MARKETPLACE_THREAD:"marketplace_thread",MARKETPLACE_THREAD_BUYER:"marketplace_thread_buyer",MARKETPLACE_MESSENGER_REPORT_BUYER:"marketplace_messenger_report_buyer",MARKETPLACE_MESSENGER_REPORT_SELLER:"marketplace_messenger_report_seller",POLITICAL_ISSUE_MODULE:"political_issue_module",ELECTION_HUB:"election_hub",DIRECT_MESSAGING:"direct_messaging",CAMERA_MEDIA_EFFECT:"camera_media_effect",PROFILE_DEPRECATED:"profile",TIMELINE_DEPRECATED:"timeline",BREAKUP_FLOW:"breakup_flow",ASYNC_TASK_DO_NOT_USE:"async",INSTANT_ARTICLES:"instant_articles",INSTANT_ARTICLE_WEBVIEW_AD:"instant_article_webview_ad",IN_APP_BROWSER:"in_app_browser",INSTREAM_VIDEO:"instream_video",TOPIC_PAGE:"topic_page",GAMES_FEED:"games_feed",TAG_QUARANTINE:"tag_qurantine",STONEHENGE_CONSUMPTION:"stonehenge_consumption",ARTICLE_CONTEXT:"article_context",PROFILE_FRAME_DISCOVERY:"profile_frame_discovery",QUICK_PROMOTION:"quick_promotion",AUDIENCE_INSIGHTS:"audience_insights",PROJECT_NEO:"project_neo"})}),null);
__d("XRapidReportingDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/rapid_report\/",{context:{type:"String",required:true},preselectedtagid:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);